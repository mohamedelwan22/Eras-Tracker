var W8=Object.defineProperty;var d2=t=>{throw TypeError(t)};var G8=(t,e,n)=>e in t?W8(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var go=(t,e,n)=>G8(t,typeof e!="symbol"?e+"":e,n),m1=(t,e,n)=>e.has(t)||d2("Cannot "+n);var be=(t,e,n)=>(m1(t,e,"read from private field"),n?n.call(t):e.get(t)),nn=(t,e,n)=>e.has(t)?d2("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),kt=(t,e,n,r)=>(m1(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ur=(t,e,n)=>(m1(t,e,"access private method"),n);var wy=(t,e,n,r)=>({set _(i){kt(t,e,i,n)},get _(){return be(t,e,r)}});function $8(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Hf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var D3={exports:{}},Ox={},O3={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=Symbol.for("react.element"),X8=Symbol.for("react.portal"),q8=Symbol.for("react.fragment"),Y8=Symbol.for("react.strict_mode"),K8=Symbol.for("react.profiler"),Z8=Symbol.for("react.provider"),J8=Symbol.for("react.context"),Q8=Symbol.for("react.forward_ref"),eW=Symbol.for("react.suspense"),tW=Symbol.for("react.memo"),nW=Symbol.for("react.lazy"),f2=Symbol.iterator;function rW(t){return t===null||typeof t!="object"?null:(t=f2&&t[f2]||t["@@iterator"],typeof t=="function"?t:null)}var F3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U3=Object.assign,B3={};function Wf(t,e,n){this.props=t,this.context=e,this.refs=B3,this.updater=n||F3}Wf.prototype.isReactComponent={};Wf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Wf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z3(){}z3.prototype=Wf.prototype;function yT(t,e,n){this.props=t,this.context=e,this.refs=B3,this.updater=n||F3}var vT=yT.prototype=new z3;vT.constructor=yT;U3(vT,Wf.prototype);vT.isPureReactComponent=!0;var h2=Array.isArray,V3=Object.prototype.hasOwnProperty,xT={current:null},j3={key:!0,ref:!0,__self:!0,__source:!0};function H3(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)V3.call(e,r)&&!j3.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:jm,type:t,key:s,ref:o,props:i,_owner:xT.current}}function iW(t,e){return{$$typeof:jm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _T(t){return typeof t=="object"&&t!==null&&t.$$typeof===jm}function sW(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var p2=/\/+/g;function g1(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sW(""+t.key):e.toString(36)}function qv(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case jm:case X8:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+g1(o,0):r,h2(i)?(n="",t!=null&&(n=t.replace(p2,"$&/")+"/"),qv(i,e,n,"",function(c){return c})):i!=null&&(_T(i)&&(i=iW(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(p2,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",h2(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+g1(s,a);o+=qv(s,e,n,l,i)}else if(l=rW(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+g1(s,a++),o+=qv(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Sy(t,e,n){if(t==null)return t;var r=[],i=0;return qv(t,r,"","",function(s){return e.call(n,s,i++)}),r}function oW(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var hi={current:null},Yv={transition:null},aW={ReactCurrentDispatcher:hi,ReactCurrentBatchConfig:Yv,ReactCurrentOwner:xT};function W3(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:Sy,forEach:function(t,e,n){Sy(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Sy(t,function(){e++}),e},toArray:function(t){return Sy(t,function(e){return e})||[]},only:function(t){if(!_T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=Wf;Gt.Fragment=q8;Gt.Profiler=K8;Gt.PureComponent=yT;Gt.StrictMode=Y8;Gt.Suspense=eW;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aW;Gt.act=W3;Gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=U3({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=xT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)V3.call(e,l)&&!j3.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:jm,type:t.type,key:i,ref:s,props:r,_owner:o}};Gt.createContext=function(t){return t={$$typeof:J8,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Z8,_context:t},t.Consumer=t};Gt.createElement=H3;Gt.createFactory=function(t){var e=H3.bind(null,t);return e.type=t,e};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:Q8,render:t}};Gt.isValidElement=_T;Gt.lazy=function(t){return{$$typeof:nW,_payload:{_status:-1,_result:t},_init:oW}};Gt.memo=function(t,e){return{$$typeof:tW,type:t,compare:e===void 0?null:e}};Gt.startTransition=function(t){var e=Yv.transition;Yv.transition={};try{t()}finally{Yv.transition=e}};Gt.unstable_act=W3;Gt.useCallback=function(t,e){return hi.current.useCallback(t,e)};Gt.useContext=function(t){return hi.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return hi.current.useDeferredValue(t)};Gt.useEffect=function(t,e){return hi.current.useEffect(t,e)};Gt.useId=function(){return hi.current.useId()};Gt.useImperativeHandle=function(t,e,n){return hi.current.useImperativeHandle(t,e,n)};Gt.useInsertionEffect=function(t,e){return hi.current.useInsertionEffect(t,e)};Gt.useLayoutEffect=function(t,e){return hi.current.useLayoutEffect(t,e)};Gt.useMemo=function(t,e){return hi.current.useMemo(t,e)};Gt.useReducer=function(t,e,n){return hi.current.useReducer(t,e,n)};Gt.useRef=function(t){return hi.current.useRef(t)};Gt.useState=function(t){return hi.current.useState(t)};Gt.useSyncExternalStore=function(t,e,n){return hi.current.useSyncExternalStore(t,e,n)};Gt.useTransition=function(){return hi.current.useTransition()};Gt.version="18.3.1";O3.exports=Gt;var T=O3.exports;const _e=Hf(T),wT=$8({__proto__:null,default:_e},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lW=T,cW=Symbol.for("react.element"),uW=Symbol.for("react.fragment"),dW=Object.prototype.hasOwnProperty,fW=lW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hW={key:!0,ref:!0,__self:!0,__source:!0};function G3(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dW.call(e,r)&&!hW.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cW,type:t,key:s,ref:o,props:i,_owner:fW.current}}Ox.Fragment=uW;Ox.jsx=G3;Ox.jsxs=G3;D3.exports=Ox;var _=D3.exports,$3={exports:{}},es={},X3={exports:{}},q3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,F){var j=D.length;D.push(F);e:for(;0<j;){var K=j-1>>>1,ee=D[K];if(0<i(ee,F))D[K]=F,D[j]=ee,j=K;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],j=D.pop();if(j!==F){D[0]=j;e:for(var K=0,ee=D.length,J=ee>>>1;K<J;){var ae=2*(K+1)-1,Se=D[ae],Ae=ae+1,ce=D[Ae];if(0>i(Se,j))Ae<ee&&0>i(ce,Se)?(D[K]=ce,D[Ae]=j,K=Ae):(D[K]=Se,D[ae]=j,K=ae);else if(Ae<ee&&0>i(ce,j))D[K]=ce,D[Ae]=j,K=Ae;else break e}}return F}function i(D,F){var j=D.sortIndex-F.sortIndex;return j!==0?j:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function M(D){if(x=!1,S(D),!y)if(n(l)!==null)y=!0,q(C);else{var F=n(c);F!==null&&te(M,F.startTime-D)}}function C(D,F){y=!1,x&&(x=!1,g(O),O=-1),m=!0;var j=p;try{for(S(F),f=n(l);f!==null&&(!(f.expirationTime>F)||D&&!V());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ee=K(f.expirationTime<=F);F=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),S(F)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var ae=n(c);ae!==null&&te(M,ae.startTime-F),J=!1}return J}finally{f=null,p=j,m=!1}}var P=!1,I=null,O=-1,N=5,k=-1;function V(){return!(t.unstable_now()-k<N)}function W(){if(I!==null){var D=t.unstable_now();k=D;var F=!0;try{F=I(!0,D)}finally{F?Q():(P=!1,I=null)}}else P=!1}var Q;if(typeof w=="function")Q=function(){w(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=W,Q=function(){Y.postMessage(null)}}else Q=function(){v(W,0)};function q(D){I=D,P||(P=!0,Q())}function te(D,F){O=v(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,q(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var j=p;p=F;try{return D()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=p;p=D;try{return F()}finally{p=j}},t.unstable_scheduleCallback=function(D,F,j){var K=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,D){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=j+ee,D={id:u++,callback:F,priorityLevel:D,startTime:j,expirationTime:ee,sortIndex:-1},j>K?(D.sortIndex=j,e(c,D),n(l)===null&&D===n(c)&&(x?(g(O),O=-1):x=!0,te(M,j-K))):(D.sortIndex=ee,e(l,D),y||m||(y=!0,q(C))),D},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(D){var F=p;return function(){var j=p;p=F;try{return D.apply(this,arguments)}finally{p=j}}}})(q3);X3.exports=q3;var pW=X3.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mW=T,Ji=pW;function Ie(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y3=new Set,Vp={};function vu(t,e){yf(t,e),yf(t+"Capture",e)}function yf(t,e){for(Vp[t]=e,t=0;t<e.length;t++)Y3.add(e[t])}var ga=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eb=Object.prototype.hasOwnProperty,gW=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m2={},g2={};function yW(t){return Eb.call(g2,t)?!0:Eb.call(m2,t)?!1:gW.test(t)?g2[t]=!0:(m2[t]=!0,!1)}function vW(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function xW(t,e,n,r){if(e===null||typeof e>"u"||vW(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pi(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ir[t]=new pi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ir[e]=new pi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ir[t]=new pi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ir[t]=new pi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ir[t]=new pi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ir[t]=new pi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ir[t]=new pi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ir[t]=new pi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ir[t]=new pi(t,5,!1,t.toLowerCase(),null,!1,!1)});var ST=/[\-:]([a-z])/g;function bT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ST,bT);Ir[e]=new pi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ST,bT);Ir[e]=new pi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ST,bT);Ir[e]=new pi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ir[t]=new pi(t,1,!1,t.toLowerCase(),null,!1,!1)});Ir.xlinkHref=new pi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ir[t]=new pi(t,1,!1,t.toLowerCase(),null,!0,!0)});function ET(t,e,n,r){var i=Ir.hasOwnProperty(e)?Ir[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(xW(e,n,i,r)&&(n=null),r||i===null?yW(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ca=mW.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,by=Symbol.for("react.element"),Md=Symbol.for("react.portal"),Td=Symbol.for("react.fragment"),MT=Symbol.for("react.strict_mode"),Mb=Symbol.for("react.profiler"),K3=Symbol.for("react.provider"),Z3=Symbol.for("react.context"),TT=Symbol.for("react.forward_ref"),Tb=Symbol.for("react.suspense"),Ab=Symbol.for("react.suspense_list"),AT=Symbol.for("react.memo"),el=Symbol.for("react.lazy"),J3=Symbol.for("react.offscreen"),y2=Symbol.iterator;function Ih(t){return t===null||typeof t!="object"?null:(t=y2&&t[y2]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Object.assign,y1;function ap(t){if(y1===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);y1=e&&e[1]||""}return`
`+y1+t}var v1=!1;function x1(t,e){if(!t||v1)return"";v1=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{v1=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ap(t):""}function _W(t){switch(t.tag){case 5:return ap(t.type);case 16:return ap("Lazy");case 13:return ap("Suspense");case 19:return ap("SuspenseList");case 0:case 2:case 15:return t=x1(t.type,!1),t;case 11:return t=x1(t.type.render,!1),t;case 1:return t=x1(t.type,!0),t;default:return""}}function Cb(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Td:return"Fragment";case Md:return"Portal";case Mb:return"Profiler";case MT:return"StrictMode";case Tb:return"Suspense";case Ab:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z3:return(t.displayName||"Context")+".Consumer";case K3:return(t._context.displayName||"Context")+".Provider";case TT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case AT:return e=t.displayName||null,e!==null?e:Cb(t.type)||"Memo";case el:e=t._payload,t=t._init;try{return Cb(t(e))}catch{}}return null}function wW(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cb(e);case 8:return e===MT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q3(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function SW(t){var e=Q3(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ey(t){t._valueTracker||(t._valueTracker=SW(t))}function eO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q3(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function R0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rb(t,e){var n=e.checked;return Fn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function v2(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tO(t,e){e=e.checked,e!=null&&ET(t,"checked",e,!1)}function Pb(t,e){tO(t,e);var n=Rl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Nb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Nb(t,e.type,Rl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function x2(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Nb(t,e,n){(e!=="number"||R0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lp=Array.isArray;function Yd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ib(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ie(91));return Fn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function _2(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Ie(92));if(lp(n)){if(1<n.length)throw Error(Ie(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rl(n)}}function nO(t,e){var n=Rl(e.value),r=Rl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function w2(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rO(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rO(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var My,iO=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(My=My||document.createElement("div"),My.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=My.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bW=["Webkit","ms","Moz","O"];Object.keys(xp).forEach(function(t){bW.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xp[e]=xp[t]})});function sO(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xp.hasOwnProperty(t)&&xp[t]?(""+e).trim():e+"px"}function oO(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sO(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var EW=Fn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kb(t,e){if(e){if(EW[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ie(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ie(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ie(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ie(62))}}function Db(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ob=null;function CT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Fb=null,Kd=null,Zd=null;function S2(t){if(t=Gm(t)){if(typeof Fb!="function")throw Error(Ie(280));var e=t.stateNode;e&&(e=Vx(e),Fb(t.stateNode,t.type,e))}}function aO(t){Kd?Zd?Zd.push(t):Zd=[t]:Kd=t}function lO(){if(Kd){var t=Kd,e=Zd;if(Zd=Kd=null,S2(t),e)for(t=0;t<e.length;t++)S2(e[t])}}function cO(t,e){return t(e)}function uO(){}var _1=!1;function dO(t,e,n){if(_1)return t(e,n);_1=!0;try{return cO(t,e,n)}finally{_1=!1,(Kd!==null||Zd!==null)&&(uO(),lO())}}function Hp(t,e){var n=t.stateNode;if(n===null)return null;var r=Vx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Ie(231,e,typeof n));return n}var Ub=!1;if(ga)try{var Lh={};Object.defineProperty(Lh,"passive",{get:function(){Ub=!0}}),window.addEventListener("test",Lh,Lh),window.removeEventListener("test",Lh,Lh)}catch{Ub=!1}function MW(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var _p=!1,P0=null,N0=!1,Bb=null,TW={onError:function(t){_p=!0,P0=t}};function AW(t,e,n,r,i,s,o,a,l){_p=!1,P0=null,MW.apply(TW,arguments)}function CW(t,e,n,r,i,s,o,a,l){if(AW.apply(this,arguments),_p){if(_p){var c=P0;_p=!1,P0=null}else throw Error(Ie(198));N0||(N0=!0,Bb=c)}}function xu(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fO(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b2(t){if(xu(t)!==t)throw Error(Ie(188))}function RW(t){var e=t.alternate;if(!e){if(e=xu(t),e===null)throw Error(Ie(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return b2(i),t;if(s===r)return b2(i),e;s=s.sibling}throw Error(Ie(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Ie(189))}}if(n.alternate!==r)throw Error(Ie(190))}if(n.tag!==3)throw Error(Ie(188));return n.stateNode.current===n?t:e}function hO(t){return t=RW(t),t!==null?pO(t):null}function pO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=pO(t);if(e!==null)return e;t=t.sibling}return null}var mO=Ji.unstable_scheduleCallback,E2=Ji.unstable_cancelCallback,PW=Ji.unstable_shouldYield,NW=Ji.unstable_requestPaint,Kn=Ji.unstable_now,IW=Ji.unstable_getCurrentPriorityLevel,RT=Ji.unstable_ImmediatePriority,gO=Ji.unstable_UserBlockingPriority,I0=Ji.unstable_NormalPriority,LW=Ji.unstable_LowPriority,yO=Ji.unstable_IdlePriority,Fx=null,Co=null;function kW(t){if(Co&&typeof Co.onCommitFiberRoot=="function")try{Co.onCommitFiberRoot(Fx,t,void 0,(t.current.flags&128)===128)}catch{}}var Ks=Math.clz32?Math.clz32:FW,DW=Math.log,OW=Math.LN2;function FW(t){return t>>>=0,t===0?32:31-(DW(t)/OW|0)|0}var Ty=64,Ay=4194304;function cp(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function L0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=cp(a):(s&=o,s!==0&&(r=cp(s)))}else o=n&~i,o!==0?r=cp(o):s!==0&&(r=cp(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ks(e),i=1<<n,r|=t[n],e&=~i;return r}function UW(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BW(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Ks(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=UW(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function zb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vO(){var t=Ty;return Ty<<=1,!(Ty&4194240)&&(Ty=64),t}function w1(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Hm(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ks(e),t[e]=n}function zW(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ks(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function PT(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ks(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var fn=0;function xO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _O,NT,wO,SO,bO,Vb=!1,Cy=[],gl=null,yl=null,vl=null,Wp=new Map,Gp=new Map,il=[],VW="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function M2(t,e){switch(t){case"focusin":case"focusout":gl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":vl=null;break;case"pointerover":case"pointerout":Wp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gp.delete(e.pointerId)}}function kh(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Gm(e),e!==null&&NT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function jW(t,e,n,r,i){switch(e){case"focusin":return gl=kh(gl,t,e,n,r,i),!0;case"dragenter":return yl=kh(yl,t,e,n,r,i),!0;case"mouseover":return vl=kh(vl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Wp.set(s,kh(Wp.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Gp.set(s,kh(Gp.get(s)||null,t,e,n,r,i)),!0}return!1}function EO(t){var e=Pc(t.target);if(e!==null){var n=xu(e);if(n!==null){if(e=n.tag,e===13){if(e=fO(n),e!==null){t.blockedOn=e,bO(t.priority,function(){wO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kv(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ob=r,n.target.dispatchEvent(r),Ob=null}else return e=Gm(n),e!==null&&NT(e),t.blockedOn=n,!1;e.shift()}return!0}function T2(t,e,n){Kv(t)&&n.delete(e)}function HW(){Vb=!1,gl!==null&&Kv(gl)&&(gl=null),yl!==null&&Kv(yl)&&(yl=null),vl!==null&&Kv(vl)&&(vl=null),Wp.forEach(T2),Gp.forEach(T2)}function Dh(t,e){t.blockedOn===e&&(t.blockedOn=null,Vb||(Vb=!0,Ji.unstable_scheduleCallback(Ji.unstable_NormalPriority,HW)))}function $p(t){function e(i){return Dh(i,t)}if(0<Cy.length){Dh(Cy[0],t);for(var n=1;n<Cy.length;n++){var r=Cy[n];r.blockedOn===t&&(r.blockedOn=null)}}for(gl!==null&&Dh(gl,t),yl!==null&&Dh(yl,t),vl!==null&&Dh(vl,t),Wp.forEach(e),Gp.forEach(e),n=0;n<il.length;n++)r=il[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<il.length&&(n=il[0],n.blockedOn===null);)EO(n),n.blockedOn===null&&il.shift()}var Jd=Ca.ReactCurrentBatchConfig,k0=!0;function WW(t,e,n,r){var i=fn,s=Jd.transition;Jd.transition=null;try{fn=1,IT(t,e,n,r)}finally{fn=i,Jd.transition=s}}function GW(t,e,n,r){var i=fn,s=Jd.transition;Jd.transition=null;try{fn=4,IT(t,e,n,r)}finally{fn=i,Jd.transition=s}}function IT(t,e,n,r){if(k0){var i=jb(t,e,n,r);if(i===null)N1(t,e,r,D0,n),M2(t,r);else if(jW(i,t,e,n,r))r.stopPropagation();else if(M2(t,r),e&4&&-1<VW.indexOf(t)){for(;i!==null;){var s=Gm(i);if(s!==null&&_O(s),s=jb(t,e,n,r),s===null&&N1(t,e,r,D0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else N1(t,e,r,null,n)}}var D0=null;function jb(t,e,n,r){if(D0=null,t=CT(r),t=Pc(t),t!==null)if(e=xu(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fO(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return D0=t,null}function MO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IW()){case RT:return 1;case gO:return 4;case I0:case LW:return 16;case yO:return 536870912;default:return 16}default:return 16}}var fl=null,LT=null,Zv=null;function TO(){if(Zv)return Zv;var t,e=LT,n=e.length,r,i="value"in fl?fl.value:fl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Zv=i.slice(t,1<r?1-r:void 0)}function Jv(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ry(){return!0}function A2(){return!1}function ts(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ry:A2,this.isPropagationStopped=A2,this}return Fn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ry)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ry)},persist:function(){},isPersistent:Ry}),e}var Gf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kT=ts(Gf),Wm=Fn({},Gf,{view:0,detail:0}),$W=ts(Wm),S1,b1,Oh,Ux=Fn({},Wm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Oh&&(Oh&&t.type==="mousemove"?(S1=t.screenX-Oh.screenX,b1=t.screenY-Oh.screenY):b1=S1=0,Oh=t),S1)},movementY:function(t){return"movementY"in t?t.movementY:b1}}),C2=ts(Ux),XW=Fn({},Ux,{dataTransfer:0}),qW=ts(XW),YW=Fn({},Wm,{relatedTarget:0}),E1=ts(YW),KW=Fn({},Gf,{animationName:0,elapsedTime:0,pseudoElement:0}),ZW=ts(KW),JW=Fn({},Gf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QW=ts(JW),eG=Fn({},Gf,{data:0}),R2=ts(eG),tG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rG[t])?!!e[t]:!1}function DT(){return iG}var sG=Fn({},Wm,{key:function(t){if(t.key){var e=tG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Jv(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DT,charCode:function(t){return t.type==="keypress"?Jv(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Jv(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),oG=ts(sG),aG=Fn({},Ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P2=ts(aG),lG=Fn({},Wm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DT}),cG=ts(lG),uG=Fn({},Gf,{propertyName:0,elapsedTime:0,pseudoElement:0}),dG=ts(uG),fG=Fn({},Ux,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hG=ts(fG),pG=[9,13,27,32],OT=ga&&"CompositionEvent"in window,wp=null;ga&&"documentMode"in document&&(wp=document.documentMode);var mG=ga&&"TextEvent"in window&&!wp,AO=ga&&(!OT||wp&&8<wp&&11>=wp),N2=" ",I2=!1;function CO(t,e){switch(t){case"keyup":return pG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ad=!1;function gG(t,e){switch(t){case"compositionend":return RO(e);case"keypress":return e.which!==32?null:(I2=!0,N2);case"textInput":return t=e.data,t===N2&&I2?null:t;default:return null}}function yG(t,e){if(Ad)return t==="compositionend"||!OT&&CO(t,e)?(t=TO(),Zv=LT=fl=null,Ad=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return AO&&e.locale!=="ko"?null:e.data;default:return null}}var vG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function L2(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vG[t.type]:e==="textarea"}function PO(t,e,n,r){aO(r),e=O0(e,"onChange"),0<e.length&&(n=new kT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sp=null,Xp=null;function xG(t){VO(t,0)}function Bx(t){var e=Pd(t);if(eO(e))return t}function _G(t,e){if(t==="change")return e}var NO=!1;if(ga){var M1;if(ga){var T1="oninput"in document;if(!T1){var k2=document.createElement("div");k2.setAttribute("oninput","return;"),T1=typeof k2.oninput=="function"}M1=T1}else M1=!1;NO=M1&&(!document.documentMode||9<document.documentMode)}function D2(){Sp&&(Sp.detachEvent("onpropertychange",IO),Xp=Sp=null)}function IO(t){if(t.propertyName==="value"&&Bx(Xp)){var e=[];PO(e,Xp,t,CT(t)),dO(xG,e)}}function wG(t,e,n){t==="focusin"?(D2(),Sp=e,Xp=n,Sp.attachEvent("onpropertychange",IO)):t==="focusout"&&D2()}function SG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bx(Xp)}function bG(t,e){if(t==="click")return Bx(e)}function EG(t,e){if(t==="input"||t==="change")return Bx(e)}function MG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Js=typeof Object.is=="function"?Object.is:MG;function qp(t,e){if(Js(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Eb.call(e,i)||!Js(t[i],e[i]))return!1}return!0}function O2(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function F2(t,e){var n=O2(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=O2(n)}}function LO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kO(){for(var t=window,e=R0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=R0(t.document)}return e}function FT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TG(t){var e=kO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&LO(n.ownerDocument.documentElement,n)){if(r!==null&&FT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=F2(n,s);var o=F2(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AG=ga&&"documentMode"in document&&11>=document.documentMode,Cd=null,Hb=null,bp=null,Wb=!1;function U2(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wb||Cd==null||Cd!==R0(r)||(r=Cd,"selectionStart"in r&&FT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bp&&qp(bp,r)||(bp=r,r=O0(Hb,"onSelect"),0<r.length&&(e=new kT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Cd)))}function Py(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rd={animationend:Py("Animation","AnimationEnd"),animationiteration:Py("Animation","AnimationIteration"),animationstart:Py("Animation","AnimationStart"),transitionend:Py("Transition","TransitionEnd")},A1={},DO={};ga&&(DO=document.createElement("div").style,"AnimationEvent"in window||(delete Rd.animationend.animation,delete Rd.animationiteration.animation,delete Rd.animationstart.animation),"TransitionEvent"in window||delete Rd.transitionend.transition);function zx(t){if(A1[t])return A1[t];if(!Rd[t])return t;var e=Rd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in DO)return A1[t]=e[n];return t}var OO=zx("animationend"),FO=zx("animationiteration"),UO=zx("animationstart"),BO=zx("transitionend"),zO=new Map,B2="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jl(t,e){zO.set(t,e),vu(e,[t])}for(var C1=0;C1<B2.length;C1++){var R1=B2[C1],CG=R1.toLowerCase(),RG=R1[0].toUpperCase()+R1.slice(1);jl(CG,"on"+RG)}jl(OO,"onAnimationEnd");jl(FO,"onAnimationIteration");jl(UO,"onAnimationStart");jl("dblclick","onDoubleClick");jl("focusin","onFocus");jl("focusout","onBlur");jl(BO,"onTransitionEnd");yf("onMouseEnter",["mouseout","mouseover"]);yf("onMouseLeave",["mouseout","mouseover"]);yf("onPointerEnter",["pointerout","pointerover"]);yf("onPointerLeave",["pointerout","pointerover"]);vu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vu("onBeforeInput",["compositionend","keypress","textInput","paste"]);vu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var up="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PG=new Set("cancel close invalid load scroll toggle".split(" ").concat(up));function z2(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CW(r,e,void 0,t),t.currentTarget=null}function VO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;z2(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;z2(i,a,c),s=l}}}if(N0)throw t=Bb,N0=!1,Bb=null,t}function Sn(t,e){var n=e[Yb];n===void 0&&(n=e[Yb]=new Set);var r=t+"__bubble";n.has(r)||(jO(e,t,2,!1),n.add(r))}function P1(t,e,n){var r=0;e&&(r|=4),jO(n,t,r,e)}var Ny="_reactListening"+Math.random().toString(36).slice(2);function Yp(t){if(!t[Ny]){t[Ny]=!0,Y3.forEach(function(n){n!=="selectionchange"&&(PG.has(n)||P1(n,!1,t),P1(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ny]||(e[Ny]=!0,P1("selectionchange",!1,e))}}function jO(t,e,n,r){switch(MO(e)){case 1:var i=WW;break;case 4:i=GW;break;default:i=IT}n=i.bind(null,e,n,t),i=void 0,!Ub||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function N1(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Pc(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}dO(function(){var c=s,u=CT(n),f=[];e:{var p=zO.get(t);if(p!==void 0){var m=kT,y=t;switch(t){case"keypress":if(Jv(n)===0)break e;case"keydown":case"keyup":m=oG;break;case"focusin":y="focus",m=E1;break;case"focusout":y="blur",m=E1;break;case"beforeblur":case"afterblur":m=E1;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=C2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=qW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=cG;break;case OO:case FO:case UO:m=ZW;break;case BO:m=dG;break;case"scroll":m=$W;break;case"wheel":m=hG;break;case"copy":case"cut":case"paste":m=QW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=P2}var x=(e&4)!==0,v=!x&&t==="scroll",g=x?p!==null?p+"Capture":null:p;x=[];for(var w=c,S;w!==null;){S=w;var M=S.stateNode;if(S.tag===5&&M!==null&&(S=M,g!==null&&(M=Hp(w,g),M!=null&&x.push(Kp(w,M,S)))),v)break;w=w.return}0<x.length&&(p=new m(p,y,null,n,u),f.push({event:p,listeners:x}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Ob&&(y=n.relatedTarget||n.fromElement)&&(Pc(y)||y[ya]))break e;if((m||p)&&(p=u.window===u?u:(p=u.ownerDocument)?p.defaultView||p.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?Pc(y):null,y!==null&&(v=xu(y),y!==v||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(x=C2,M="onMouseLeave",g="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(x=P2,M="onPointerLeave",g="onPointerEnter",w="pointer"),v=m==null?p:Pd(m),S=y==null?p:Pd(y),p=new x(M,w+"leave",m,n,u),p.target=v,p.relatedTarget=S,M=null,Pc(u)===c&&(x=new x(g,w+"enter",y,n,u),x.target=S,x.relatedTarget=v,M=x),v=M,m&&y)t:{for(x=m,g=y,w=0,S=x;S;S=Wu(S))w++;for(S=0,M=g;M;M=Wu(M))S++;for(;0<w-S;)x=Wu(x),w--;for(;0<S-w;)g=Wu(g),S--;for(;w--;){if(x===g||g!==null&&x===g.alternate)break t;x=Wu(x),g=Wu(g)}x=null}else x=null;m!==null&&V2(f,p,m,x,!1),y!==null&&v!==null&&V2(f,v,y,x,!0)}}e:{if(p=c?Pd(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var C=_G;else if(L2(p))if(NO)C=EG;else{C=SG;var P=wG}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(C=bG);if(C&&(C=C(t,c))){PO(f,C,n,u);break e}P&&P(t,p,c),t==="focusout"&&(P=p._wrapperState)&&P.controlled&&p.type==="number"&&Nb(p,"number",p.value)}switch(P=c?Pd(c):window,t){case"focusin":(L2(P)||P.contentEditable==="true")&&(Cd=P,Hb=c,bp=null);break;case"focusout":bp=Hb=Cd=null;break;case"mousedown":Wb=!0;break;case"contextmenu":case"mouseup":case"dragend":Wb=!1,U2(f,n,u);break;case"selectionchange":if(AG)break;case"keydown":case"keyup":U2(f,n,u)}var I;if(OT)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Ad?CO(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(AO&&n.locale!=="ko"&&(Ad||O!=="onCompositionStart"?O==="onCompositionEnd"&&Ad&&(I=TO()):(fl=u,LT="value"in fl?fl.value:fl.textContent,Ad=!0)),P=O0(c,O),0<P.length&&(O=new R2(O,t,null,n,u),f.push({event:O,listeners:P}),I?O.data=I:(I=RO(n),I!==null&&(O.data=I)))),(I=mG?gG(t,n):yG(t,n))&&(c=O0(c,"onBeforeInput"),0<c.length&&(u=new R2("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=I))}VO(f,e)})}function Kp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function O0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hp(t,n),s!=null&&r.unshift(Kp(t,s,i)),s=Hp(t,e),s!=null&&r.push(Kp(t,s,i))),t=t.return}return r}function Wu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function V2(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Hp(n,s),l!=null&&o.unshift(Kp(n,l,a))):i||(l=Hp(n,s),l!=null&&o.push(Kp(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var NG=/\r\n?/g,IG=/\u0000|\uFFFD/g;function j2(t){return(typeof t=="string"?t:""+t).replace(NG,`
`).replace(IG,"")}function Iy(t,e,n){if(e=j2(e),j2(t)!==e&&n)throw Error(Ie(425))}function F0(){}var Gb=null,$b=null;function Xb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qb=typeof setTimeout=="function"?setTimeout:void 0,LG=typeof clearTimeout=="function"?clearTimeout:void 0,H2=typeof Promise=="function"?Promise:void 0,kG=typeof queueMicrotask=="function"?queueMicrotask:typeof H2<"u"?function(t){return H2.resolve(null).then(t).catch(DG)}:qb;function DG(t){setTimeout(function(){throw t})}function I1(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),$p(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);$p(e)}function xl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $f=Math.random().toString(36).slice(2),bo="__reactFiber$"+$f,Zp="__reactProps$"+$f,ya="__reactContainer$"+$f,Yb="__reactEvents$"+$f,OG="__reactListeners$"+$f,FG="__reactHandles$"+$f;function Pc(t){var e=t[bo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ya]||n[bo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W2(t);t!==null;){if(n=t[bo])return n;t=W2(t)}return e}t=n,n=t.parentNode}return null}function Gm(t){return t=t[bo]||t[ya],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Pd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ie(33))}function Vx(t){return t[Zp]||null}var Kb=[],Nd=-1;function Hl(t){return{current:t}}function En(t){0>Nd||(t.current=Kb[Nd],Kb[Nd]=null,Nd--)}function vn(t,e){Nd++,Kb[Nd]=t.current,t.current=e}var Pl={},Kr=Hl(Pl),Ci=Hl(!1),ru=Pl;function vf(t,e){var n=t.type.contextTypes;if(!n)return Pl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ri(t){return t=t.childContextTypes,t!=null}function U0(){En(Ci),En(Kr)}function G2(t,e,n){if(Kr.current!==Pl)throw Error(Ie(168));vn(Kr,e),vn(Ci,n)}function HO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Ie(108,wW(t)||"Unknown",i));return Fn({},n,r)}function B0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pl,ru=Kr.current,vn(Kr,t),vn(Ci,Ci.current),!0}function $2(t,e,n){var r=t.stateNode;if(!r)throw Error(Ie(169));n?(t=HO(t,e,ru),r.__reactInternalMemoizedMergedChildContext=t,En(Ci),En(Kr),vn(Kr,t)):En(Ci),vn(Ci,n)}var ia=null,jx=!1,L1=!1;function WO(t){ia===null?ia=[t]:ia.push(t)}function UG(t){jx=!0,WO(t)}function Wl(){if(!L1&&ia!==null){L1=!0;var t=0,e=fn;try{var n=ia;for(fn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ia=null,jx=!1}catch(i){throw ia!==null&&(ia=ia.slice(t+1)),mO(RT,Wl),i}finally{fn=e,L1=!1}}return null}var Id=[],Ld=0,z0=null,V0=0,gs=[],ys=0,iu=null,la=1,ca="";function wc(t,e){Id[Ld++]=V0,Id[Ld++]=z0,z0=t,V0=e}function GO(t,e,n){gs[ys++]=la,gs[ys++]=ca,gs[ys++]=iu,iu=t;var r=la;t=ca;var i=32-Ks(r)-1;r&=~(1<<i),n+=1;var s=32-Ks(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,la=1<<32-Ks(e)+i|n<<i|r,ca=s+t}else la=1<<s|n<<i|r,ca=t}function UT(t){t.return!==null&&(wc(t,1),GO(t,1,0))}function BT(t){for(;t===z0;)z0=Id[--Ld],Id[Ld]=null,V0=Id[--Ld],Id[Ld]=null;for(;t===iu;)iu=gs[--ys],gs[ys]=null,ca=gs[--ys],gs[ys]=null,la=gs[--ys],gs[ys]=null}var Yi=null,qi=null,Rn=!1,Hs=null;function $O(t,e){var n=vs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function X2(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yi=t,qi=xl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yi=t,qi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=iu!==null?{id:la,overflow:ca}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yi=t,qi=null,!0):!1;default:return!1}}function Zb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jb(t){if(Rn){var e=qi;if(e){var n=e;if(!X2(t,e)){if(Zb(t))throw Error(Ie(418));e=xl(n.nextSibling);var r=Yi;e&&X2(t,e)?$O(r,n):(t.flags=t.flags&-4097|2,Rn=!1,Yi=t)}}else{if(Zb(t))throw Error(Ie(418));t.flags=t.flags&-4097|2,Rn=!1,Yi=t}}}function q2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yi=t}function Ly(t){if(t!==Yi)return!1;if(!Rn)return q2(t),Rn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Xb(t.type,t.memoizedProps)),e&&(e=qi)){if(Zb(t))throw XO(),Error(Ie(418));for(;e;)$O(t,e),e=xl(e.nextSibling)}if(q2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ie(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qi=xl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qi=null}}else qi=Yi?xl(t.stateNode.nextSibling):null;return!0}function XO(){for(var t=qi;t;)t=xl(t.nextSibling)}function xf(){qi=Yi=null,Rn=!1}function zT(t){Hs===null?Hs=[t]:Hs.push(t)}var BG=Ca.ReactCurrentBatchConfig;function Fh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ie(309));var r=n.stateNode}if(!r)throw Error(Ie(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ie(284));if(!n._owner)throw Error(Ie(290,t))}return t}function ky(t,e){throw t=Object.prototype.toString.call(e),Error(Ie(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y2(t){var e=t._init;return e(t._payload)}function qO(t){function e(g,w){if(t){var S=g.deletions;S===null?(g.deletions=[w],g.flags|=16):S.push(w)}}function n(g,w){if(!t)return null;for(;w!==null;)e(g,w),w=w.sibling;return null}function r(g,w){for(g=new Map;w!==null;)w.key!==null?g.set(w.key,w):g.set(w.index,w),w=w.sibling;return g}function i(g,w){return g=bl(g,w),g.index=0,g.sibling=null,g}function s(g,w,S){return g.index=S,t?(S=g.alternate,S!==null?(S=S.index,S<w?(g.flags|=2,w):S):(g.flags|=2,w)):(g.flags|=1048576,w)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,w,S,M){return w===null||w.tag!==6?(w=z1(S,g.mode,M),w.return=g,w):(w=i(w,S),w.return=g,w)}function l(g,w,S,M){var C=S.type;return C===Td?u(g,w,S.props.children,M,S.key):w!==null&&(w.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===el&&Y2(C)===w.type)?(M=i(w,S.props),M.ref=Fh(g,w,S),M.return=g,M):(M=s0(S.type,S.key,S.props,null,g.mode,M),M.ref=Fh(g,w,S),M.return=g,M)}function c(g,w,S,M){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=V1(S,g.mode,M),w.return=g,w):(w=i(w,S.children||[]),w.return=g,w)}function u(g,w,S,M,C){return w===null||w.tag!==7?(w=Yc(S,g.mode,M,C),w.return=g,w):(w=i(w,S),w.return=g,w)}function f(g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=z1(""+w,g.mode,S),w.return=g,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case by:return S=s0(w.type,w.key,w.props,null,g.mode,S),S.ref=Fh(g,null,w),S.return=g,S;case Md:return w=V1(w,g.mode,S),w.return=g,w;case el:var M=w._init;return f(g,M(w._payload),S)}if(lp(w)||Ih(w))return w=Yc(w,g.mode,S,null),w.return=g,w;ky(g,w)}return null}function p(g,w,S,M){var C=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return C!==null?null:a(g,w,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case by:return S.key===C?l(g,w,S,M):null;case Md:return S.key===C?c(g,w,S,M):null;case el:return C=S._init,p(g,w,C(S._payload),M)}if(lp(S)||Ih(S))return C!==null?null:u(g,w,S,M,null);ky(g,S)}return null}function m(g,w,S,M,C){if(typeof M=="string"&&M!==""||typeof M=="number")return g=g.get(S)||null,a(w,g,""+M,C);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case by:return g=g.get(M.key===null?S:M.key)||null,l(w,g,M,C);case Md:return g=g.get(M.key===null?S:M.key)||null,c(w,g,M,C);case el:var P=M._init;return m(g,w,S,P(M._payload),C)}if(lp(M)||Ih(M))return g=g.get(S)||null,u(w,g,M,C,null);ky(w,M)}return null}function y(g,w,S,M){for(var C=null,P=null,I=w,O=w=0,N=null;I!==null&&O<S.length;O++){I.index>O?(N=I,I=null):N=I.sibling;var k=p(g,I,S[O],M);if(k===null){I===null&&(I=N);break}t&&I&&k.alternate===null&&e(g,I),w=s(k,w,O),P===null?C=k:P.sibling=k,P=k,I=N}if(O===S.length)return n(g,I),Rn&&wc(g,O),C;if(I===null){for(;O<S.length;O++)I=f(g,S[O],M),I!==null&&(w=s(I,w,O),P===null?C=I:P.sibling=I,P=I);return Rn&&wc(g,O),C}for(I=r(g,I);O<S.length;O++)N=m(I,g,O,S[O],M),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?O:N.key),w=s(N,w,O),P===null?C=N:P.sibling=N,P=N);return t&&I.forEach(function(V){return e(g,V)}),Rn&&wc(g,O),C}function x(g,w,S,M){var C=Ih(S);if(typeof C!="function")throw Error(Ie(150));if(S=C.call(S),S==null)throw Error(Ie(151));for(var P=C=null,I=w,O=w=0,N=null,k=S.next();I!==null&&!k.done;O++,k=S.next()){I.index>O?(N=I,I=null):N=I.sibling;var V=p(g,I,k.value,M);if(V===null){I===null&&(I=N);break}t&&I&&V.alternate===null&&e(g,I),w=s(V,w,O),P===null?C=V:P.sibling=V,P=V,I=N}if(k.done)return n(g,I),Rn&&wc(g,O),C;if(I===null){for(;!k.done;O++,k=S.next())k=f(g,k.value,M),k!==null&&(w=s(k,w,O),P===null?C=k:P.sibling=k,P=k);return Rn&&wc(g,O),C}for(I=r(g,I);!k.done;O++,k=S.next())k=m(I,g,O,k.value,M),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?O:k.key),w=s(k,w,O),P===null?C=k:P.sibling=k,P=k);return t&&I.forEach(function(W){return e(g,W)}),Rn&&wc(g,O),C}function v(g,w,S,M){if(typeof S=="object"&&S!==null&&S.type===Td&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case by:e:{for(var C=S.key,P=w;P!==null;){if(P.key===C){if(C=S.type,C===Td){if(P.tag===7){n(g,P.sibling),w=i(P,S.props.children),w.return=g,g=w;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===el&&Y2(C)===P.type){n(g,P.sibling),w=i(P,S.props),w.ref=Fh(g,P,S),w.return=g,g=w;break e}n(g,P);break}else e(g,P);P=P.sibling}S.type===Td?(w=Yc(S.props.children,g.mode,M,S.key),w.return=g,g=w):(M=s0(S.type,S.key,S.props,null,g.mode,M),M.ref=Fh(g,w,S),M.return=g,g=M)}return o(g);case Md:e:{for(P=S.key;w!==null;){if(w.key===P)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){n(g,w.sibling),w=i(w,S.children||[]),w.return=g,g=w;break e}else{n(g,w);break}else e(g,w);w=w.sibling}w=V1(S,g.mode,M),w.return=g,g=w}return o(g);case el:return P=S._init,v(g,w,P(S._payload),M)}if(lp(S))return y(g,w,S,M);if(Ih(S))return x(g,w,S,M);ky(g,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(n(g,w.sibling),w=i(w,S),w.return=g,g=w):(n(g,w),w=z1(S,g.mode,M),w.return=g,g=w),o(g)):n(g,w)}return v}var _f=qO(!0),YO=qO(!1),j0=Hl(null),H0=null,kd=null,VT=null;function jT(){VT=kd=H0=null}function HT(t){var e=j0.current;En(j0),t._currentValue=e}function Qb(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qd(t,e){H0=t,VT=kd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ai=!0),t.firstContext=null)}function bs(t){var e=t._currentValue;if(VT!==t)if(t={context:t,memoizedValue:e,next:null},kd===null){if(H0===null)throw Error(Ie(308));kd=t,H0.dependencies={lanes:0,firstContext:t}}else kd=kd.next=t;return e}var Nc=null;function WT(t){Nc===null?Nc=[t]:Nc.push(t)}function KO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,WT(e)):(n.next=i.next,i.next=n),e.interleaved=n,va(t,r)}function va(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var tl=!1;function GT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ha(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _l(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Zt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,va(t,n)}return i=r.interleaved,i===null?(e.next=e,WT(r)):(e.next=i.next,i.next=e),r.interleaved=e,va(t,n)}function Qv(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PT(t,n)}}function K2(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function W0(t,e,n,r){var i=t.updateQueue;tl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((r&p)===p){u!==null&&(u=u.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(p=e,m=n,x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(m,f,p);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,p=typeof y=="function"?y.call(m,f,p):y,p==null)break e;f=Fn({},f,p);break e;case 2:tl=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=m,l=f):u=u.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ou|=o,t.lanes=o,t.memoizedState=f}}function Z2(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Ie(191,i));i.call(r)}}}var $m={},Ro=Hl($m),Jp=Hl($m),Qp=Hl($m);function Ic(t){if(t===$m)throw Error(Ie(174));return t}function $T(t,e){switch(vn(Qp,e),vn(Jp,t),vn(Ro,$m),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Lb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Lb(e,t)}En(Ro),vn(Ro,e)}function wf(){En(Ro),En(Jp),En(Qp)}function JO(t){Ic(Qp.current);var e=Ic(Ro.current),n=Lb(e,t.type);e!==n&&(vn(Jp,t),vn(Ro,n))}function XT(t){Jp.current===t&&(En(Ro),En(Jp))}var Ln=Hl(0);function G0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var k1=[];function qT(){for(var t=0;t<k1.length;t++)k1[t]._workInProgressVersionPrimary=null;k1.length=0}var e0=Ca.ReactCurrentDispatcher,D1=Ca.ReactCurrentBatchConfig,su=0,On=null,dr=null,br=null,$0=!1,Ep=!1,em=0,zG=0;function Br(){throw Error(Ie(321))}function YT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Js(t[n],e[n]))return!1;return!0}function KT(t,e,n,r,i,s){if(su=s,On=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,e0.current=t===null||t.memoizedState===null?WG:GG,t=n(r,i),Ep){s=0;do{if(Ep=!1,em=0,25<=s)throw Error(Ie(301));s+=1,br=dr=null,e.updateQueue=null,e0.current=$G,t=n(r,i)}while(Ep)}if(e0.current=X0,e=dr!==null&&dr.next!==null,su=0,br=dr=On=null,$0=!1,e)throw Error(Ie(300));return t}function ZT(){var t=em!==0;return em=0,t}function xo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?On.memoizedState=br=t:br=br.next=t,br}function Es(){if(dr===null){var t=On.alternate;t=t!==null?t.memoizedState:null}else t=dr.next;var e=br===null?On.memoizedState:br.next;if(e!==null)br=e,dr=t;else{if(t===null)throw Error(Ie(310));dr=t,t={memoizedState:dr.memoizedState,baseState:dr.baseState,baseQueue:dr.baseQueue,queue:dr.queue,next:null},br===null?On.memoizedState=br=t:br=br.next=t}return br}function tm(t,e){return typeof e=="function"?e(t):e}function O1(t){var e=Es(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=dr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((su&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,On.lanes|=u,ou|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,Js(r,e.memoizedState)||(Ai=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,On.lanes|=s,ou|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function F1(t){var e=Es(),n=e.queue;if(n===null)throw Error(Ie(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Js(s,e.memoizedState)||(Ai=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function QO(){}function eF(t,e){var n=On,r=Es(),i=e(),s=!Js(r.memoizedState,i);if(s&&(r.memoizedState=i,Ai=!0),r=r.queue,JT(rF.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||br!==null&&br.memoizedState.tag&1){if(n.flags|=2048,nm(9,nF.bind(null,n,r,i,e),void 0,null),Mr===null)throw Error(Ie(349));su&30||tF(n,e,i)}return i}function tF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nF(t,e,n,r){e.value=n,e.getSnapshot=r,iF(e)&&sF(t)}function rF(t,e,n){return n(function(){iF(e)&&sF(t)})}function iF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Js(t,n)}catch{return!0}}function sF(t){var e=va(t,1);e!==null&&Zs(e,t,1,-1)}function J2(t){var e=xo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tm,lastRenderedState:t},e.queue=t,t=t.dispatch=HG.bind(null,On,t),[e.memoizedState,t]}function nm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=On.updateQueue,e===null?(e={lastEffect:null,stores:null},On.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oF(){return Es().memoizedState}function t0(t,e,n,r){var i=xo();On.flags|=t,i.memoizedState=nm(1|e,n,void 0,r===void 0?null:r)}function Hx(t,e,n,r){var i=Es();r=r===void 0?null:r;var s=void 0;if(dr!==null){var o=dr.memoizedState;if(s=o.destroy,r!==null&&YT(r,o.deps)){i.memoizedState=nm(e,n,s,r);return}}On.flags|=t,i.memoizedState=nm(1|e,n,s,r)}function Q2(t,e){return t0(8390656,8,t,e)}function JT(t,e){return Hx(2048,8,t,e)}function aF(t,e){return Hx(4,2,t,e)}function lF(t,e){return Hx(4,4,t,e)}function cF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uF(t,e,n){return n=n!=null?n.concat([t]):null,Hx(4,4,cF.bind(null,e,t),n)}function QT(){}function dF(t,e){var n=Es();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&YT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function fF(t,e){var n=Es();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&YT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hF(t,e,n){return su&21?(Js(n,e)||(n=vO(),On.lanes|=n,ou|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ai=!0),t.memoizedState=n)}function VG(t,e){var n=fn;fn=n!==0&&4>n?n:4,t(!0);var r=D1.transition;D1.transition={};try{t(!1),e()}finally{fn=n,D1.transition=r}}function pF(){return Es().memoizedState}function jG(t,e,n){var r=Sl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mF(t))gF(e,n);else if(n=KO(t,e,n,r),n!==null){var i=ci();Zs(n,t,r,i),yF(n,e,r)}}function HG(t,e,n){var r=Sl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mF(t))gF(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Js(a,o)){var l=e.interleaved;l===null?(i.next=i,WT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KO(t,e,i,r),n!==null&&(i=ci(),Zs(n,t,r,i),yF(n,e,r))}}function mF(t){var e=t.alternate;return t===On||e!==null&&e===On}function gF(t,e){Ep=$0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function yF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PT(t,n)}}var X0={readContext:bs,useCallback:Br,useContext:Br,useEffect:Br,useImperativeHandle:Br,useInsertionEffect:Br,useLayoutEffect:Br,useMemo:Br,useReducer:Br,useRef:Br,useState:Br,useDebugValue:Br,useDeferredValue:Br,useTransition:Br,useMutableSource:Br,useSyncExternalStore:Br,useId:Br,unstable_isNewReconciler:!1},WG={readContext:bs,useCallback:function(t,e){return xo().memoizedState=[t,e===void 0?null:e],t},useContext:bs,useEffect:Q2,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,t0(4194308,4,cF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return t0(4194308,4,t,e)},useInsertionEffect:function(t,e){return t0(4,2,t,e)},useMemo:function(t,e){var n=xo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=jG.bind(null,On,t),[r.memoizedState,t]},useRef:function(t){var e=xo();return t={current:t},e.memoizedState=t},useState:J2,useDebugValue:QT,useDeferredValue:function(t){return xo().memoizedState=t},useTransition:function(){var t=J2(!1),e=t[0];return t=VG.bind(null,t[1]),xo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=On,i=xo();if(Rn){if(n===void 0)throw Error(Ie(407));n=n()}else{if(n=e(),Mr===null)throw Error(Ie(349));su&30||tF(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Q2(rF.bind(null,r,s,t),[t]),r.flags|=2048,nm(9,nF.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=xo(),e=Mr.identifierPrefix;if(Rn){var n=ca,r=la;n=(r&~(1<<32-Ks(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=em++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=zG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},GG={readContext:bs,useCallback:dF,useContext:bs,useEffect:JT,useImperativeHandle:uF,useInsertionEffect:aF,useLayoutEffect:lF,useMemo:fF,useReducer:O1,useRef:oF,useState:function(){return O1(tm)},useDebugValue:QT,useDeferredValue:function(t){var e=Es();return hF(e,dr.memoizedState,t)},useTransition:function(){var t=O1(tm)[0],e=Es().memoizedState;return[t,e]},useMutableSource:QO,useSyncExternalStore:eF,useId:pF,unstable_isNewReconciler:!1},$G={readContext:bs,useCallback:dF,useContext:bs,useEffect:JT,useImperativeHandle:uF,useInsertionEffect:aF,useLayoutEffect:lF,useMemo:fF,useReducer:F1,useRef:oF,useState:function(){return F1(tm)},useDebugValue:QT,useDeferredValue:function(t){var e=Es();return dr===null?e.memoizedState=t:hF(e,dr.memoizedState,t)},useTransition:function(){var t=F1(tm)[0],e=Es().memoizedState;return[t,e]},useMutableSource:QO,useSyncExternalStore:eF,useId:pF,unstable_isNewReconciler:!1};function Os(t,e){if(t&&t.defaultProps){e=Fn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function eE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wx={isMounted:function(t){return(t=t._reactInternals)?xu(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ci(),i=Sl(t),s=ha(r,i);s.payload=e,n!=null&&(s.callback=n),e=_l(t,s,i),e!==null&&(Zs(e,t,i,r),Qv(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ci(),i=Sl(t),s=ha(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_l(t,s,i),e!==null&&(Zs(e,t,i,r),Qv(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ci(),r=Sl(t),i=ha(n,r);i.tag=2,e!=null&&(i.callback=e),e=_l(t,i,r),e!==null&&(Zs(e,t,r,n),Qv(e,t,r))}};function eN(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!qp(n,r)||!qp(i,s):!0}function vF(t,e,n){var r=!1,i=Pl,s=e.contextType;return typeof s=="object"&&s!==null?s=bs(s):(i=Ri(e)?ru:Kr.current,r=e.contextTypes,s=(r=r!=null)?vf(t,i):Pl),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wx,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wx.enqueueReplaceState(e,e.state,null)}function tE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},GT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=bs(s):(s=Ri(e)?ru:Kr.current,i.context=vf(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(eE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wx.enqueueReplaceState(i,i.state,null),W0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sf(t,e){try{var n="",r=e;do n+=_W(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function U1(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var XG=typeof WeakMap=="function"?WeakMap:Map;function xF(t,e,n){n=ha(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Y0||(Y0=!0,fE=r),nE(t,e)},n}function _F(t,e,n){n=ha(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){nE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){nE(t,e),typeof r!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new XG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=a9.bind(null,t,e,n),e.then(t,t))}function rN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ha(-1,1),e.tag=2,_l(n,e,1))),n.lanes|=1),t)}var qG=Ca.ReactCurrentOwner,Ai=!1;function ri(t,e,n,r){e.child=t===null?YO(e,null,n,r):_f(e,t.child,n,r)}function sN(t,e,n,r,i){n=n.render;var s=e.ref;return Qd(e,i),r=KT(t,e,n,r,s,i),n=ZT(),t!==null&&!Ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xa(t,e,i)):(Rn&&n&&UT(e),e.flags|=1,ri(t,e,r,i),e.child)}function oN(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!aA(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,wF(t,e,s,r,i)):(t=s0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:qp,n(o,r)&&t.ref===e.ref)return xa(t,e,i)}return e.flags|=1,t=bl(s,r),t.ref=e.ref,t.return=e,e.child=t}function wF(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(qp(s,r)&&t.ref===e.ref)if(Ai=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ai=!0);else return e.lanes=t.lanes,xa(t,e,i)}return rE(t,e,n,r,i)}function SF(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vn(Od,Wi),Wi|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vn(Od,Wi),Wi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,vn(Od,Wi),Wi|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,vn(Od,Wi),Wi|=r;return ri(t,e,i,n),e.child}function bF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rE(t,e,n,r,i){var s=Ri(n)?ru:Kr.current;return s=vf(e,s),Qd(e,i),n=KT(t,e,n,r,s,i),r=ZT(),t!==null&&!Ai?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,xa(t,e,i)):(Rn&&r&&UT(e),e.flags|=1,ri(t,e,n,i),e.child)}function aN(t,e,n,r,i){if(Ri(n)){var s=!0;B0(e)}else s=!1;if(Qd(e,i),e.stateNode===null)n0(t,e),vF(e,n,r),tE(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=bs(c):(c=Ri(n)?ru:Kr.current,c=vf(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&tN(e,o,r,c),tl=!1;var p=e.memoizedState;o.state=p,W0(e,r,o,i),l=e.memoizedState,a!==r||p!==l||Ci.current||tl?(typeof u=="function"&&(eE(e,n,u,r),l=e.memoizedState),(a=tl||eN(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZO(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Os(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=bs(l):(l=Ri(n)?ru:Kr.current,l=vf(e,l));var m=n.getDerivedStateFromProps;(u=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&tN(e,o,r,l),tl=!1,p=e.memoizedState,o.state=p,W0(e,r,o,i);var y=e.memoizedState;a!==f||p!==y||Ci.current||tl?(typeof m=="function"&&(eE(e,n,m,r),y=e.memoizedState),(c=tl||eN(e,n,c,r,p,y,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return iE(t,e,n,r,s,i)}function iE(t,e,n,r,i,s){bF(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$2(e,n,!1),xa(t,e,s);r=e.stateNode,qG.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_f(e,t.child,null,s),e.child=_f(e,null,a,s)):ri(t,e,a,s),e.memoizedState=r.state,i&&$2(e,n,!0),e.child}function EF(t){var e=t.stateNode;e.pendingContext?G2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G2(t,e.context,!1),$T(t,e.containerInfo)}function lN(t,e,n,r,i){return xf(),zT(i),e.flags|=256,ri(t,e,n,r),e.child}var sE={dehydrated:null,treeContext:null,retryLane:0};function oE(t){return{baseLanes:t,cachePool:null,transitions:null}}function MF(t,e,n){var r=e.pendingProps,i=Ln.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),vn(Ln,i&1),t===null)return Jb(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Xx(o,r,0,null),t=Yc(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=oE(n),e.memoizedState=sE,t):eA(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return YG(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=bl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=bl(a,s):(s=Yc(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?oE(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=sE,r}return s=t.child,t=s.sibling,r=bl(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function eA(t,e){return e=Xx({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dy(t,e,n,r){return r!==null&&zT(r),_f(e,t.child,null,n),t=eA(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YG(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=U1(Error(Ie(422))),Dy(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Xx({mode:"visible",children:r.children},i,0,null),s=Yc(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_f(e,t.child,null,o),e.child.memoizedState=oE(o),e.memoizedState=sE,s);if(!(e.mode&1))return Dy(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Ie(419)),r=U1(s,r,void 0),Dy(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ai||a){if(r=Mr,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,va(t,i),Zs(r,t,i,-1))}return oA(),r=U1(Error(Ie(421))),Dy(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=l9.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,qi=xl(i.nextSibling),Yi=e,Rn=!0,Hs=null,t!==null&&(gs[ys++]=la,gs[ys++]=ca,gs[ys++]=iu,la=t.id,ca=t.overflow,iu=e),e=eA(e,r.children),e.flags|=4096,e)}function cN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qb(t.return,e,n)}function B1(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function TF(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ri(t,e,r.children,n),r=Ln.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cN(t,n,e);else if(t.tag===19)cN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vn(Ln,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&G0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),B1(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&G0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}B1(e,!0,n,null,s);break;case"together":B1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function n0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function xa(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ou|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ie(153));if(e.child!==null){for(t=e.child,n=bl(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=bl(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KG(t,e,n){switch(e.tag){case 3:EF(e),xf();break;case 5:JO(e);break;case 1:Ri(e.type)&&B0(e);break;case 4:$T(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;vn(j0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vn(Ln,Ln.current&1),e.flags|=128,null):n&e.child.childLanes?MF(t,e,n):(vn(Ln,Ln.current&1),t=xa(t,e,n),t!==null?t.sibling:null);vn(Ln,Ln.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return TF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vn(Ln,Ln.current),r)break;return null;case 22:case 23:return e.lanes=0,SF(t,e,n)}return xa(t,e,n)}var AF,aE,CF,RF;AF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aE=function(){};CF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ic(Ro.current);var s=null;switch(n){case"input":i=Rb(t,i),r=Rb(t,r),s=[];break;case"select":i=Fn({},i,{value:void 0}),r=Fn({},r,{value:void 0}),s=[];break;case"textarea":i=Ib(t,i),r=Ib(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=F0)}kb(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Vp.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Vp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Sn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};RF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Uh(t,e){if(!Rn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zr(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ZG(t,e,n){var r=e.pendingProps;switch(BT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zr(e),null;case 1:return Ri(e.type)&&U0(),zr(e),null;case 3:return r=e.stateNode,wf(),En(Ci),En(Kr),qT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ly(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Hs!==null&&(mE(Hs),Hs=null))),aE(t,e),zr(e),null;case 5:XT(e);var i=Ic(Qp.current);if(n=e.type,t!==null&&e.stateNode!=null)CF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Ie(166));return zr(e),null}if(t=Ic(Ro.current),Ly(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[bo]=e,r[Zp]=s,t=(e.mode&1)!==0,n){case"dialog":Sn("cancel",r),Sn("close",r);break;case"iframe":case"object":case"embed":Sn("load",r);break;case"video":case"audio":for(i=0;i<up.length;i++)Sn(up[i],r);break;case"source":Sn("error",r);break;case"img":case"image":case"link":Sn("error",r),Sn("load",r);break;case"details":Sn("toggle",r);break;case"input":v2(r,s),Sn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Sn("invalid",r);break;case"textarea":_2(r,s),Sn("invalid",r)}kb(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Iy(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Iy(r.textContent,a,t),i=["children",""+a]):Vp.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Sn("scroll",r)}switch(n){case"input":Ey(r),x2(r,s,!0);break;case"textarea":Ey(r),w2(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=F0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rO(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[bo]=e,t[Zp]=r,AF(t,e,!1,!1),e.stateNode=t;e:{switch(o=Db(n,r),n){case"dialog":Sn("cancel",t),Sn("close",t),i=r;break;case"iframe":case"object":case"embed":Sn("load",t),i=r;break;case"video":case"audio":for(i=0;i<up.length;i++)Sn(up[i],t);i=r;break;case"source":Sn("error",t),i=r;break;case"img":case"image":case"link":Sn("error",t),Sn("load",t),i=r;break;case"details":Sn("toggle",t),i=r;break;case"input":v2(t,r),i=Rb(t,r),Sn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fn({},r,{value:void 0}),Sn("invalid",t);break;case"textarea":_2(t,r),i=Ib(t,r),Sn("invalid",t);break;default:i=r}kb(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?oO(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&iO(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&jp(t,l):typeof l=="number"&&jp(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Vp.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Sn("scroll",t):l!=null&&ET(t,s,l,o))}switch(n){case"input":Ey(t),x2(t,r,!1);break;case"textarea":Ey(t),w2(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rl(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Yd(t,!!r.multiple,s,!1):r.defaultValue!=null&&Yd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=F0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zr(e),null;case 6:if(t&&e.stateNode!=null)RF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Ie(166));if(n=Ic(Qp.current),Ic(Ro.current),Ly(e)){if(r=e.stateNode,n=e.memoizedProps,r[bo]=e,(s=r.nodeValue!==n)&&(t=Yi,t!==null))switch(t.tag){case 3:Iy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Iy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[bo]=e,e.stateNode=r}return zr(e),null;case 13:if(En(Ln),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Rn&&qi!==null&&e.mode&1&&!(e.flags&128))XO(),xf(),e.flags|=98560,s=!1;else if(s=Ly(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Ie(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ie(317));s[bo]=e}else xf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zr(e),s=!1}else Hs!==null&&(mE(Hs),Hs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ln.current&1?hr===0&&(hr=3):oA())),e.updateQueue!==null&&(e.flags|=4),zr(e),null);case 4:return wf(),aE(t,e),t===null&&Yp(e.stateNode.containerInfo),zr(e),null;case 10:return HT(e.type._context),zr(e),null;case 17:return Ri(e.type)&&U0(),zr(e),null;case 19:if(En(Ln),s=e.memoizedState,s===null)return zr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Uh(s,!1);else{if(hr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=G0(t),o!==null){for(e.flags|=128,Uh(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vn(Ln,Ln.current&1|2),e.child}t=t.sibling}s.tail!==null&&Kn()>bf&&(e.flags|=128,r=!0,Uh(s,!1),e.lanes=4194304)}else{if(!r)if(t=G0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Uh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Rn)return zr(e),null}else 2*Kn()-s.renderingStartTime>bf&&n!==1073741824&&(e.flags|=128,r=!0,Uh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kn(),e.sibling=null,n=Ln.current,vn(Ln,r?n&1|2:n&1),e):(zr(e),null);case 22:case 23:return sA(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Wi&1073741824&&(zr(e),e.subtreeFlags&6&&(e.flags|=8192)):zr(e),null;case 24:return null;case 25:return null}throw Error(Ie(156,e.tag))}function JG(t,e){switch(BT(e),e.tag){case 1:return Ri(e.type)&&U0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wf(),En(Ci),En(Kr),qT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return XT(e),null;case 13:if(En(Ln),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ie(340));xf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return En(Ln),null;case 4:return wf(),null;case 10:return HT(e.type._context),null;case 22:case 23:return sA(),null;case 24:return null;default:return null}}var Oy=!1,Gr=!1,QG=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function Dd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Hn(t,e,r)}else n.current=null}function lE(t,e,n){try{n()}catch(r){Hn(t,e,r)}}var uN=!1;function e9(t,e){if(Gb=k0,t=kO(),FT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,p=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++u===r&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for($b={focusedElem:t,selectionRange:n},k0=!1,Qe=e;Qe!==null;)if(e=Qe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Qe=t;else for(;Qe!==null;){e=Qe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,v=y.memoizedState,g=e.stateNode,w=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Os(e.type,x),v);g.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ie(163))}}catch(M){Hn(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Qe=t;break}Qe=e.return}return y=uN,uN=!1,y}function Mp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&lE(e,n,s)}i=i.next}while(i!==r)}}function Gx(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function cE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function PF(t){var e=t.alternate;e!==null&&(t.alternate=null,PF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[bo],delete e[Zp],delete e[Yb],delete e[OG],delete e[FG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function NF(t){return t.tag===5||t.tag===3||t.tag===4}function dN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||NF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function uE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=F0));else if(r!==4&&(t=t.child,t!==null))for(uE(t,e,n),t=t.sibling;t!==null;)uE(t,e,n),t=t.sibling}function dE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dE(t,e,n),t=t.sibling;t!==null;)dE(t,e,n),t=t.sibling}var Rr=null,js=!1;function Va(t,e,n){for(n=n.child;n!==null;)IF(t,e,n),n=n.sibling}function IF(t,e,n){if(Co&&typeof Co.onCommitFiberUnmount=="function")try{Co.onCommitFiberUnmount(Fx,n)}catch{}switch(n.tag){case 5:Gr||Dd(n,e);case 6:var r=Rr,i=js;Rr=null,Va(t,e,n),Rr=r,js=i,Rr!==null&&(js?(t=Rr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Rr.removeChild(n.stateNode));break;case 18:Rr!==null&&(js?(t=Rr,n=n.stateNode,t.nodeType===8?I1(t.parentNode,n):t.nodeType===1&&I1(t,n),$p(t)):I1(Rr,n.stateNode));break;case 4:r=Rr,i=js,Rr=n.stateNode.containerInfo,js=!0,Va(t,e,n),Rr=r,js=i;break;case 0:case 11:case 14:case 15:if(!Gr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&lE(n,e,o),i=i.next}while(i!==r)}Va(t,e,n);break;case 1:if(!Gr&&(Dd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Hn(n,e,a)}Va(t,e,n);break;case 21:Va(t,e,n);break;case 22:n.mode&1?(Gr=(r=Gr)||n.memoizedState!==null,Va(t,e,n),Gr=r):Va(t,e,n);break;default:Va(t,e,n)}}function fN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QG),e.forEach(function(r){var i=c9.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Cs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Rr=a.stateNode,js=!1;break e;case 3:Rr=a.stateNode.containerInfo,js=!0;break e;case 4:Rr=a.stateNode.containerInfo,js=!0;break e}a=a.return}if(Rr===null)throw Error(Ie(160));IF(s,o,i),Rr=null,js=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Hn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)LF(e,t),e=e.sibling}function LF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Cs(e,t),yo(t),r&4){try{Mp(3,t,t.return),Gx(3,t)}catch(x){Hn(t,t.return,x)}try{Mp(5,t,t.return)}catch(x){Hn(t,t.return,x)}}break;case 1:Cs(e,t),yo(t),r&512&&n!==null&&Dd(n,n.return);break;case 5:if(Cs(e,t),yo(t),r&512&&n!==null&&Dd(n,n.return),t.flags&32){var i=t.stateNode;try{jp(i,"")}catch(x){Hn(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&tO(i,s),Db(a,o);var c=Db(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?oO(i,f):u==="dangerouslySetInnerHTML"?iO(i,f):u==="children"?jp(i,f):ET(i,u,f,c)}switch(a){case"input":Pb(i,s);break;case"textarea":nO(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Yd(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?Yd(i,!!s.multiple,s.defaultValue,!0):Yd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zp]=s}catch(x){Hn(t,t.return,x)}}break;case 6:if(Cs(e,t),yo(t),r&4){if(t.stateNode===null)throw Error(Ie(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Hn(t,t.return,x)}}break;case 3:if(Cs(e,t),yo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$p(e.containerInfo)}catch(x){Hn(t,t.return,x)}break;case 4:Cs(e,t),yo(t);break;case 13:Cs(e,t),yo(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rA=Kn())),r&4&&fN(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Gr=(c=Gr)||u,Cs(e,t),Gr=c):Cs(e,t),yo(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Qe=t,u=t.child;u!==null;){for(f=Qe=u;Qe!==null;){switch(p=Qe,m=p.child,p.tag){case 0:case 11:case 14:case 15:Mp(4,p,p.return);break;case 1:Dd(p,p.return);var y=p.stateNode;if(typeof y.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){Hn(r,n,x)}}break;case 5:Dd(p,p.return);break;case 22:if(p.memoizedState!==null){pN(f);continue}}m!==null?(m.return=p,Qe=m):pN(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=sO("display",o))}catch(x){Hn(t,t.return,x)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(x){Hn(t,t.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Cs(e,t),yo(t),r&4&&fN(t);break;case 21:break;default:Cs(e,t),yo(t)}}function yo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(NF(n)){var r=n;break e}n=n.return}throw Error(Ie(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(jp(i,""),r.flags&=-33);var s=dN(t);dE(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dN(t);uE(t,a,o);break;default:throw Error(Ie(161))}}catch(l){Hn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function t9(t,e,n){Qe=t,kF(t)}function kF(t,e,n){for(var r=(t.mode&1)!==0;Qe!==null;){var i=Qe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Oy;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Gr;a=Oy;var c=Gr;if(Oy=o,(Gr=l)&&!c)for(Qe=i;Qe!==null;)o=Qe,l=o.child,o.tag===22&&o.memoizedState!==null?mN(i):l!==null?(l.return=o,Qe=l):mN(i);for(;s!==null;)Qe=s,kF(s),s=s.sibling;Qe=i,Oy=a,Gr=c}hN(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Qe=s):hN(t)}}function hN(t){for(;Qe!==null;){var e=Qe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Gr||Gx(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Gr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Os(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Z2(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Z2(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&$p(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ie(163))}Gr||e.flags&512&&cE(e)}catch(p){Hn(e,e.return,p)}}if(e===t){Qe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function pN(t){for(;Qe!==null;){var e=Qe;if(e===t){Qe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Qe=n;break}Qe=e.return}}function mN(t){for(;Qe!==null;){var e=Qe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gx(4,e)}catch(l){Hn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Hn(e,i,l)}}var s=e.return;try{cE(e)}catch(l){Hn(e,s,l)}break;case 5:var o=e.return;try{cE(e)}catch(l){Hn(e,o,l)}}}catch(l){Hn(e,e.return,l)}if(e===t){Qe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Qe=a;break}Qe=e.return}}var n9=Math.ceil,q0=Ca.ReactCurrentDispatcher,tA=Ca.ReactCurrentOwner,_s=Ca.ReactCurrentBatchConfig,Zt=0,Mr=null,or=null,Nr=0,Wi=0,Od=Hl(0),hr=0,rm=null,ou=0,$x=0,nA=0,Tp=null,Ei=null,rA=0,bf=1/0,ra=null,Y0=!1,fE=null,wl=null,Fy=!1,hl=null,K0=0,Ap=0,hE=null,r0=-1,i0=0;function ci(){return Zt&6?Kn():r0!==-1?r0:r0=Kn()}function Sl(t){return t.mode&1?Zt&2&&Nr!==0?Nr&-Nr:BG.transition!==null?(i0===0&&(i0=vO()),i0):(t=fn,t!==0||(t=window.event,t=t===void 0?16:MO(t.type)),t):1}function Zs(t,e,n,r){if(50<Ap)throw Ap=0,hE=null,Error(Ie(185));Hm(t,n,r),(!(Zt&2)||t!==Mr)&&(t===Mr&&(!(Zt&2)&&($x|=n),hr===4&&sl(t,Nr)),Pi(t,r),n===1&&Zt===0&&!(e.mode&1)&&(bf=Kn()+500,jx&&Wl()))}function Pi(t,e){var n=t.callbackNode;BW(t,e);var r=L0(t,t===Mr?Nr:0);if(r===0)n!==null&&E2(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E2(n),e===1)t.tag===0?UG(gN.bind(null,t)):WO(gN.bind(null,t)),kG(function(){!(Zt&6)&&Wl()}),n=null;else{switch(xO(r)){case 1:n=RT;break;case 4:n=gO;break;case 16:n=I0;break;case 536870912:n=yO;break;default:n=I0}n=jF(n,DF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function DF(t,e){if(r0=-1,i0=0,Zt&6)throw Error(Ie(327));var n=t.callbackNode;if(ef()&&t.callbackNode!==n)return null;var r=L0(t,t===Mr?Nr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Z0(t,r);else{e=r;var i=Zt;Zt|=2;var s=FF();(Mr!==t||Nr!==e)&&(ra=null,bf=Kn()+500,qc(t,e));do try{s9();break}catch(a){OF(t,a)}while(!0);jT(),q0.current=s,Zt=i,or!==null?e=0:(Mr=null,Nr=0,e=hr)}if(e!==0){if(e===2&&(i=zb(t),i!==0&&(r=i,e=pE(t,i))),e===1)throw n=rm,qc(t,0),sl(t,r),Pi(t,Kn()),n;if(e===6)sl(t,r);else{if(i=t.current.alternate,!(r&30)&&!r9(i)&&(e=Z0(t,r),e===2&&(s=zb(t),s!==0&&(r=s,e=pE(t,s))),e===1))throw n=rm,qc(t,0),sl(t,r),Pi(t,Kn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Ie(345));case 2:Sc(t,Ei,ra);break;case 3:if(sl(t,r),(r&130023424)===r&&(e=rA+500-Kn(),10<e)){if(L0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ci(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qb(Sc.bind(null,t,Ei,ra),e);break}Sc(t,Ei,ra);break;case 4:if(sl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Ks(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Kn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*n9(r/1960))-r,10<r){t.timeoutHandle=qb(Sc.bind(null,t,Ei,ra),r);break}Sc(t,Ei,ra);break;case 5:Sc(t,Ei,ra);break;default:throw Error(Ie(329))}}}return Pi(t,Kn()),t.callbackNode===n?DF.bind(null,t):null}function pE(t,e){var n=Tp;return t.current.memoizedState.isDehydrated&&(qc(t,e).flags|=256),t=Z0(t,e),t!==2&&(e=Ei,Ei=n,e!==null&&mE(e)),t}function mE(t){Ei===null?Ei=t:Ei.push.apply(Ei,t)}function r9(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Js(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sl(t,e){for(e&=~nA,e&=~$x,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ks(e),r=1<<n;t[n]=-1,e&=~r}}function gN(t){if(Zt&6)throw Error(Ie(327));ef();var e=L0(t,0);if(!(e&1))return Pi(t,Kn()),null;var n=Z0(t,e);if(t.tag!==0&&n===2){var r=zb(t);r!==0&&(e=r,n=pE(t,r))}if(n===1)throw n=rm,qc(t,0),sl(t,e),Pi(t,Kn()),n;if(n===6)throw Error(Ie(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sc(t,Ei,ra),Pi(t,Kn()),null}function iA(t,e){var n=Zt;Zt|=1;try{return t(e)}finally{Zt=n,Zt===0&&(bf=Kn()+500,jx&&Wl())}}function au(t){hl!==null&&hl.tag===0&&!(Zt&6)&&ef();var e=Zt;Zt|=1;var n=_s.transition,r=fn;try{if(_s.transition=null,fn=1,t)return t()}finally{fn=r,_s.transition=n,Zt=e,!(Zt&6)&&Wl()}}function sA(){Wi=Od.current,En(Od)}function qc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,LG(n)),or!==null)for(n=or.return;n!==null;){var r=n;switch(BT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&U0();break;case 3:wf(),En(Ci),En(Kr),qT();break;case 5:XT(r);break;case 4:wf();break;case 13:En(Ln);break;case 19:En(Ln);break;case 10:HT(r.type._context);break;case 22:case 23:sA()}n=n.return}if(Mr=t,or=t=bl(t.current,null),Nr=Wi=e,hr=0,rm=null,nA=$x=ou=0,Ei=Tp=null,Nc!==null){for(e=0;e<Nc.length;e++)if(n=Nc[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Nc=null}return t}function OF(t,e){do{var n=or;try{if(jT(),e0.current=X0,$0){for(var r=On.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}$0=!1}if(su=0,br=dr=On=null,Ep=!1,em=0,tA.current=null,n===null||n.return===null){hr=1,rm=e,or=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Nr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var p=u.alternate;p?(u.updateQueue=p.updateQueue,u.memoizedState=p.memoizedState,u.lanes=p.lanes):(u.updateQueue=null,u.memoizedState=null)}var m=rN(o);if(m!==null){m.flags&=-257,iN(m,o,a,s,e),m.mode&1&&nN(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){nN(s,c,e),oA();break e}l=Error(Ie(426))}}else if(Rn&&a.mode&1){var v=rN(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),iN(v,o,a,s,e),zT(Sf(l,a));break e}}s=l=Sf(l,a),hr!==4&&(hr=2),Tp===null?Tp=[s]:Tp.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=xF(s,l,e);K2(s,g);break e;case 1:a=l;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(wl===null||!wl.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=_F(s,a,e);K2(s,M);break e}}s=s.return}while(s!==null)}BF(n)}catch(C){e=C,or===n&&n!==null&&(or=n=n.return);continue}break}while(!0)}function FF(){var t=q0.current;return q0.current=X0,t===null?X0:t}function oA(){(hr===0||hr===3||hr===2)&&(hr=4),Mr===null||!(ou&268435455)&&!($x&268435455)||sl(Mr,Nr)}function Z0(t,e){var n=Zt;Zt|=2;var r=FF();(Mr!==t||Nr!==e)&&(ra=null,qc(t,e));do try{i9();break}catch(i){OF(t,i)}while(!0);if(jT(),Zt=n,q0.current=r,or!==null)throw Error(Ie(261));return Mr=null,Nr=0,hr}function i9(){for(;or!==null;)UF(or)}function s9(){for(;or!==null&&!PW();)UF(or)}function UF(t){var e=VF(t.alternate,t,Wi);t.memoizedProps=t.pendingProps,e===null?BF(t):or=e,tA.current=null}function BF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=JG(n,e),n!==null){n.flags&=32767,or=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{hr=6,or=null;return}}else if(n=ZG(n,e,Wi),n!==null){or=n;return}if(e=e.sibling,e!==null){or=e;return}or=e=t}while(e!==null);hr===0&&(hr=5)}function Sc(t,e,n){var r=fn,i=_s.transition;try{_s.transition=null,fn=1,o9(t,e,n,r)}finally{_s.transition=i,fn=r}return null}function o9(t,e,n,r){do ef();while(hl!==null);if(Zt&6)throw Error(Ie(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Ie(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(zW(t,s),t===Mr&&(or=Mr=null,Nr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fy||(Fy=!0,jF(I0,function(){return ef(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=_s.transition,_s.transition=null;var o=fn;fn=1;var a=Zt;Zt|=4,tA.current=null,e9(t,n),LF(n,t),TG($b),k0=!!Gb,$b=Gb=null,t.current=n,t9(n),NW(),Zt=a,fn=o,_s.transition=s}else t.current=n;if(Fy&&(Fy=!1,hl=t,K0=i),s=t.pendingLanes,s===0&&(wl=null),kW(n.stateNode),Pi(t,Kn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Y0)throw Y0=!1,t=fE,fE=null,t;return K0&1&&t.tag!==0&&ef(),s=t.pendingLanes,s&1?t===hE?Ap++:(Ap=0,hE=t):Ap=0,Wl(),null}function ef(){if(hl!==null){var t=xO(K0),e=_s.transition,n=fn;try{if(_s.transition=null,fn=16>t?16:t,hl===null)var r=!1;else{if(t=hl,hl=null,K0=0,Zt&6)throw Error(Ie(331));var i=Zt;for(Zt|=4,Qe=t.current;Qe!==null;){var s=Qe,o=s.child;if(Qe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Qe=c;Qe!==null;){var u=Qe;switch(u.tag){case 0:case 11:case 15:Mp(8,u,s)}var f=u.child;if(f!==null)f.return=u,Qe=f;else for(;Qe!==null;){u=Qe;var p=u.sibling,m=u.return;if(PF(u),u===c){Qe=null;break}if(p!==null){p.return=m,Qe=p;break}Qe=m}}}var y=s.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}Qe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Qe=o;else e:for(;Qe!==null;){if(s=Qe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mp(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,Qe=g;break e}Qe=s.return}}var w=t.current;for(Qe=w;Qe!==null;){o=Qe;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,Qe=S;else e:for(o=w;Qe!==null;){if(a=Qe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gx(9,a)}}catch(C){Hn(a,a.return,C)}if(a===o){Qe=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Qe=M;break e}Qe=a.return}}if(Zt=i,Wl(),Co&&typeof Co.onPostCommitFiberRoot=="function")try{Co.onPostCommitFiberRoot(Fx,t)}catch{}r=!0}return r}finally{fn=n,_s.transition=e}}return!1}function yN(t,e,n){e=Sf(n,e),e=xF(t,e,1),t=_l(t,e,1),e=ci(),t!==null&&(Hm(t,1,e),Pi(t,e))}function Hn(t,e,n){if(t.tag===3)yN(t,t,n);else for(;e!==null;){if(e.tag===3){yN(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wl===null||!wl.has(r))){t=Sf(n,t),t=_F(e,t,1),e=_l(e,t,1),t=ci(),e!==null&&(Hm(e,1,t),Pi(e,t));break}}e=e.return}}function a9(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ci(),t.pingedLanes|=t.suspendedLanes&n,Mr===t&&(Nr&n)===n&&(hr===4||hr===3&&(Nr&130023424)===Nr&&500>Kn()-rA?qc(t,0):nA|=n),Pi(t,e)}function zF(t,e){e===0&&(t.mode&1?(e=Ay,Ay<<=1,!(Ay&130023424)&&(Ay=4194304)):e=1);var n=ci();t=va(t,e),t!==null&&(Hm(t,e,n),Pi(t,n))}function l9(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zF(t,n)}function c9(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Ie(314))}r!==null&&r.delete(e),zF(t,n)}var VF;VF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ci.current)Ai=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ai=!1,KG(t,e,n);Ai=!!(t.flags&131072)}else Ai=!1,Rn&&e.flags&1048576&&GO(e,V0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;n0(t,e),t=e.pendingProps;var i=vf(e,Kr.current);Qd(e,n),i=KT(null,e,r,t,i,n);var s=ZT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ri(r)?(s=!0,B0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,GT(e),i.updater=Wx,e.stateNode=i,i._reactInternals=e,tE(e,r,t,n),e=iE(null,e,r,!0,s,n)):(e.tag=0,Rn&&s&&UT(e),ri(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(n0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=d9(r),t=Os(r,t),i){case 0:e=rE(null,e,r,t,n);break e;case 1:e=aN(null,e,r,t,n);break e;case 11:e=sN(null,e,r,t,n);break e;case 14:e=oN(null,e,r,Os(r.type,t),n);break e}throw Error(Ie(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),rE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),aN(t,e,r,i,n);case 3:e:{if(EF(e),t===null)throw Error(Ie(387));r=e.pendingProps,s=e.memoizedState,i=s.element,ZO(t,e),W0(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sf(Error(Ie(423)),e),e=lN(t,e,r,n,i);break e}else if(r!==i){i=Sf(Error(Ie(424)),e),e=lN(t,e,r,n,i);break e}else for(qi=xl(e.stateNode.containerInfo.firstChild),Yi=e,Rn=!0,Hs=null,n=YO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xf(),r===i){e=xa(t,e,n);break e}ri(t,e,r,n)}e=e.child}return e;case 5:return JO(e),t===null&&Jb(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Xb(r,i)?o=null:s!==null&&Xb(r,s)&&(e.flags|=32),bF(t,e),ri(t,e,o,n),e.child;case 6:return t===null&&Jb(e),null;case 13:return MF(t,e,n);case 4:return $T(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_f(e,null,r,n):ri(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),sN(t,e,r,i,n);case 7:return ri(t,e,e.pendingProps,n),e.child;case 8:return ri(t,e,e.pendingProps.children,n),e.child;case 12:return ri(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,vn(j0,r._currentValue),r._currentValue=o,s!==null)if(Js(s.value,o)){if(s.children===i.children&&!Ci.current){e=xa(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=ha(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Qb(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ie(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Qb(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ri(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qd(e,n),i=bs(i),r=r(i),e.flags|=1,ri(t,e,r,n),e.child;case 14:return r=e.type,i=Os(r,e.pendingProps),i=Os(r.type,i),oN(t,e,r,i,n);case 15:return wF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Os(r,i),n0(t,e),e.tag=1,Ri(r)?(t=!0,B0(e)):t=!1,Qd(e,n),vF(e,r,i),tE(e,r,i,n),iE(null,e,r,!0,t,n);case 19:return TF(t,e,n);case 22:return SF(t,e,n)}throw Error(Ie(156,e.tag))};function jF(t,e){return mO(t,e)}function u9(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(t,e,n,r){return new u9(t,e,n,r)}function aA(t){return t=t.prototype,!(!t||!t.isReactComponent)}function d9(t){if(typeof t=="function")return aA(t)?1:0;if(t!=null){if(t=t.$$typeof,t===TT)return 11;if(t===AT)return 14}return 2}function bl(t,e){var n=t.alternate;return n===null?(n=vs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function s0(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")aA(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Td:return Yc(n.children,i,s,e);case MT:o=8,i|=8;break;case Mb:return t=vs(12,n,e,i|2),t.elementType=Mb,t.lanes=s,t;case Tb:return t=vs(13,n,e,i),t.elementType=Tb,t.lanes=s,t;case Ab:return t=vs(19,n,e,i),t.elementType=Ab,t.lanes=s,t;case J3:return Xx(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case K3:o=10;break e;case Z3:o=9;break e;case TT:o=11;break e;case AT:o=14;break e;case el:o=16,r=null;break e}throw Error(Ie(130,t==null?t:typeof t,""))}return e=vs(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Yc(t,e,n,r){return t=vs(7,t,r,e),t.lanes=n,t}function Xx(t,e,n,r){return t=vs(22,t,r,e),t.elementType=J3,t.lanes=n,t.stateNode={isHidden:!1},t}function z1(t,e,n){return t=vs(6,t,null,e),t.lanes=n,t}function V1(t,e,n){return e=vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function f9(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=w1(0),this.expirationTimes=w1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=w1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lA(t,e,n,r,i,s,o,a,l){return t=new f9(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=vs(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},GT(s),t}function h9(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Md,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function HF(t){if(!t)return Pl;t=t._reactInternals;e:{if(xu(t)!==t||t.tag!==1)throw Error(Ie(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ri(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ie(171))}if(t.tag===1){var n=t.type;if(Ri(n))return HO(t,n,e)}return e}function WF(t,e,n,r,i,s,o,a,l){return t=lA(n,r,!0,t,i,s,o,a,l),t.context=HF(null),n=t.current,r=ci(),i=Sl(n),s=ha(r,i),s.callback=e??null,_l(n,s,i),t.current.lanes=i,Hm(t,i,r),Pi(t,r),t}function qx(t,e,n,r){var i=e.current,s=ci(),o=Sl(i);return n=HF(n),e.context===null?e.context=n:e.pendingContext=n,e=ha(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_l(i,e,o),t!==null&&(Zs(t,i,o,s),Qv(t,i,o)),o}function J0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cA(t,e){vN(t,e),(t=t.alternate)&&vN(t,e)}function p9(){return null}var GF=typeof reportError=="function"?reportError:function(t){console.error(t)};function uA(t){this._internalRoot=t}Yx.prototype.render=uA.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ie(409));qx(t,e,null,null)};Yx.prototype.unmount=uA.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;au(function(){qx(null,t,null,null)}),e[ya]=null}};function Yx(t){this._internalRoot=t}Yx.prototype.unstable_scheduleHydration=function(t){if(t){var e=SO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<il.length&&e!==0&&e<il[n].priority;n++);il.splice(n,0,t),n===0&&EO(t)}};function dA(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xN(){}function m9(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=J0(o);s.call(c)}}var o=WF(e,r,t,0,null,!1,!1,"",xN);return t._reactRootContainer=o,t[ya]=o.current,Yp(t.nodeType===8?t.parentNode:t),au(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=J0(l);a.call(c)}}var l=lA(t,0,!1,null,null,!1,!1,"",xN);return t._reactRootContainer=l,t[ya]=l.current,Yp(t.nodeType===8?t.parentNode:t),au(function(){qx(e,l,n,r)}),l}function Zx(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=J0(o);a.call(l)}}qx(e,o,t,i)}else o=m9(n,e,t,i,r);return J0(o)}_O=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cp(e.pendingLanes);n!==0&&(PT(e,n|1),Pi(e,Kn()),!(Zt&6)&&(bf=Kn()+500,Wl()))}break;case 13:au(function(){var r=va(t,1);if(r!==null){var i=ci();Zs(r,t,1,i)}}),cA(t,1)}};NT=function(t){if(t.tag===13){var e=va(t,134217728);if(e!==null){var n=ci();Zs(e,t,134217728,n)}cA(t,134217728)}};wO=function(t){if(t.tag===13){var e=Sl(t),n=va(t,e);if(n!==null){var r=ci();Zs(n,t,e,r)}cA(t,e)}};SO=function(){return fn};bO=function(t,e){var n=fn;try{return fn=t,e()}finally{fn=n}};Fb=function(t,e,n){switch(e){case"input":if(Pb(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Vx(r);if(!i)throw Error(Ie(90));eO(r),Pb(r,i)}}}break;case"textarea":nO(t,n);break;case"select":e=n.value,e!=null&&Yd(t,!!n.multiple,e,!1)}};cO=iA;uO=au;var g9={usingClientEntryPoint:!1,Events:[Gm,Pd,Vx,aO,lO,iA]},Bh={findFiberByHostInstance:Pc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},y9={bundleType:Bh.bundleType,version:Bh.version,rendererPackageName:Bh.rendererPackageName,rendererConfig:Bh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ca.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hO(t),t===null?null:t.stateNode},findFiberByHostInstance:Bh.findFiberByHostInstance||p9,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uy.isDisabled&&Uy.supportsFiber)try{Fx=Uy.inject(y9),Co=Uy}catch{}}es.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g9;es.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dA(e))throw Error(Ie(200));return h9(t,e,null,n)};es.createRoot=function(t,e){if(!dA(t))throw Error(Ie(299));var n=!1,r="",i=GF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lA(t,1,!1,null,null,n,!1,r,i),t[ya]=e.current,Yp(t.nodeType===8?t.parentNode:t),new uA(e)};es.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ie(188)):(t=Object.keys(t).join(","),Error(Ie(268,t)));return t=hO(e),t=t===null?null:t.stateNode,t};es.flushSync=function(t){return au(t)};es.hydrate=function(t,e,n){if(!Kx(e))throw Error(Ie(200));return Zx(null,t,e,!0,n)};es.hydrateRoot=function(t,e,n){if(!dA(t))throw Error(Ie(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=GF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=WF(e,null,t,1,n??null,i,!1,s,o),t[ya]=e.current,Yp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Yx(e)};es.render=function(t,e,n){if(!Kx(e))throw Error(Ie(200));return Zx(null,t,e,!1,n)};es.unmountComponentAtNode=function(t){if(!Kx(t))throw Error(Ie(40));return t._reactRootContainer?(au(function(){Zx(null,null,t,!1,function(){t._reactRootContainer=null,t[ya]=null})}),!0):!1};es.unstable_batchedUpdates=iA;es.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kx(n))throw Error(Ie(200));if(t==null||t._reactInternals===void 0)throw Error(Ie(38));return Zx(t,e,n,!1,r)};es.version="18.3.1-next-f1338f8080-20240426";function $F(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($F)}catch(t){console.error(t)}}$F(),$3.exports=es;var _u=$3.exports;const XF=Hf(_u);var qF,_N=_u;qF=_N.createRoot,_N.hydrateRoot;var v9=typeof Element<"u",x9=typeof Map=="function",_9=typeof Set=="function",w9=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o0(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!o0(t[r],e[r]))return!1;return!0}var s;if(x9&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!o0(r.value[1],e.get(r.value[0])))return!1;return!0}if(_9&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(w9&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(v9&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!o0(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var S9=function(e,n){try{return o0(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const b9=Hf(S9);var E9=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;l=new Error(e.replace(/%s/g,function(){return c[u++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},M9=E9;const wN=Hf(M9);var T9=function(e,n,r,i){var s=r?r.call(i,e,n):void 0;if(s!==void 0)return!!s;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<o.length;c++){var u=o[c];if(!l(u))return!1;var f=e[u],p=n[u];if(s=r?r.call(i,f,p,u):void 0,s===!1||s===void 0&&f!==p)return!1}return!0};const A9=Hf(T9);var YF=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(YF||{}),j1={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},SN=Object.values(YF),fA={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},C9=Object.entries(fA).reduce((t,[e,n])=>(t[n]=e,t),{}),Xs="data-rh",tf={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},nf=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},R9=t=>{let e=nf(t,"title");const n=nf(t,tf.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=nf(t,tf.DEFAULT_TITLE);return e||r||void 0},P9=t=>nf(t,tf.ON_CHANGE_CLIENT_STATE)||(()=>{}),H1=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),N9=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let s=0;s<i.length;s+=1){const a=i[s].toLowerCase();if(t.indexOf(a)!==-1&&r[a])return n.concat(r)}}return n},[]),I9=t=>console&&typeof console.warn=="function"&&console.warn(t),zh=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&I9(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,s)=>{const o={};s.filter(l=>{let c;const u=Object.keys(l);for(let p=0;p<u.length;p+=1){const m=u[p],y=m.toLowerCase();e.indexOf(y)!==-1&&!(c==="rel"&&l[c].toLowerCase()==="canonical")&&!(y==="rel"&&l[y].toLowerCase()==="stylesheet")&&(c=y),e.indexOf(m)!==-1&&(m==="innerHTML"||m==="cssText"||m==="itemprop")&&(c=m)}if(!c||!l[c])return!1;const f=l[c].toLowerCase();return r[c]||(r[c]={}),o[c]||(o[c]={}),r[c][f]?!1:(o[c][f]=!0,!0)}).reverse().forEach(l=>i.push(l));const a=Object.keys(o);for(let l=0;l<a.length;l+=1){const c=a[l],u={...r[c],...o[c]};r[c]=u}return i},[]).reverse()},L9=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},k9=t=>({baseTag:N9(["href"],t),bodyAttributes:H1("bodyAttributes",t),defer:nf(t,tf.DEFER),encode:nf(t,tf.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:H1("htmlAttributes",t),linkTags:zh("link",["rel","href"],t),metaTags:zh("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:zh("noscript",["innerHTML"],t),onChangeClientState:P9(t),scriptTags:zh("script",["src","innerHTML"],t),styleTags:zh("style",["cssText"],t),title:R9(t),titleAttributes:H1("titleAttributes",t),prioritizeSeoTags:L9(t,tf.PRIORITIZE_SEO_TAGS)}),KF=t=>Array.isArray(t)?t.join(""):t,D9=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},W1=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(D9(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},bN=(t,e)=>({...t,[e]:void 0}),O9=["noscript","script","style"],gE=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),ZF=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),F9=(t,e,n,r)=>{const i=ZF(n),s=KF(e);return i?`<${t} ${Xs}="true" ${i}>${gE(s,r)}</${t}>`:`<${t} ${Xs}="true">${gE(s,r)}</${t}>`},U9=(t,e,n=!0)=>e.reduce((r,i)=>{const s=i,o=Object.keys(s).filter(c=>!(c==="innerHTML"||c==="cssText")).reduce((c,u)=>{const f=typeof s[u]>"u"?u:`${u}="${gE(s[u],n)}"`;return c?`${c} ${f}`:f},""),a=s.innerHTML||s.cssText||"",l=O9.indexOf(t)===-1;return`${r}<${t} ${Xs}="true" ${o}${l?"/>":`>${a}</${t}>`}`},""),JF=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=fA[r];return n[i||r]=t[r],n},e),B9=(t,e,n)=>{const r={key:e,[Xs]:!0},i=JF(n,r);return[_e.createElement("title",i,e)]},a0=(t,e)=>e.map((n,r)=>{const i={key:r,[Xs]:!0};return Object.keys(n).forEach(s=>{const a=fA[s]||s;if(a==="innerHTML"||a==="cssText"){const l=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:l}}else i[a]=n[s]}),_e.createElement(t,i)}),ps=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>B9(t,e.title,e.titleAttributes),toString:()=>F9(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>JF(e),toString:()=>ZF(e)};default:return{toComponent:()=>a0(t,e),toString:()=>U9(t,e,n)}}},z9=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=W1(t,j1.meta),s=W1(e,j1.link),o=W1(n,j1.script);return{priorityMethods:{toComponent:()=>[...a0("meta",i.priority),...a0("link",s.priority),...a0("script",o.priority)],toString:()=>`${ps("meta",i.priority,r)} ${ps("link",s.priority,r)} ${ps("script",o.priority,r)}`},metaTags:i.default,linkTags:s.default,scriptTags:o.default}},V9=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:s,styleTags:o,title:a="",titleAttributes:l,prioritizeSeoTags:c}=t;let{linkTags:u,metaTags:f,scriptTags:p}=t,m={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:m,linkTags:u,metaTags:f,scriptTags:p}=z9(t)),{priority:m,base:ps("base",e,r),bodyAttributes:ps("bodyAttributes",n,r),htmlAttributes:ps("htmlAttributes",i,r),link:ps("link",u,r),meta:ps("meta",f,r),noscript:ps("noscript",s,r),script:ps("script",p,r),style:ps("style",o,r),title:ps("title",{title:a,titleAttributes:l},r)}},yE=V9,By=[],QF=!!(typeof window<"u"&&window.document&&window.document.createElement),vE=class{constructor(t,e){go(this,"instances",[]);go(this,"canUseDOM",QF);go(this,"context");go(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?By:this.instances,add:t=>{(this.canUseDOM?By:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?By:this.instances).indexOf(t);(this.canUseDOM?By:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=yE({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},j9={},eU=_e.createContext(j9),Vc,tU=(Vc=class extends T.Component{constructor(n){super(n);go(this,"helmetData");this.helmetData=new vE(this.props.context||{},Vc.canUseDOM)}render(){return _e.createElement(eU.Provider,{value:this.helmetData.value},this.props.children)}},go(Vc,"canUseDOM",QF),Vc),Gu=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${Xs}]`),i=[].slice.call(r),s=[];let o;return e&&e.length&&e.forEach(a=>{const l=document.createElement(t);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c))if(c==="innerHTML")l.innerHTML=a.innerHTML;else if(c==="cssText")l.styleSheet?l.styleSheet.cssText=a.cssText:l.appendChild(document.createTextNode(a.cssText));else{const u=c,f=typeof a[u]>"u"?"":a[u];l.setAttribute(c,f)}l.setAttribute(Xs,"true"),i.some((c,u)=>(o=u,l.isEqualNode(c)))?i.splice(o,1):s.push(l)}),i.forEach(a=>{var l;return(l=a.parentNode)==null?void 0:l.removeChild(a)}),s.forEach(a=>n.appendChild(a)),{oldTags:i,newTags:s}},xE=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(Xs),i=r?r.split(","):[],s=[...i],o=Object.keys(e);for(const a of o){const l=e[a]||"";n.getAttribute(a)!==l&&n.setAttribute(a,l),i.indexOf(a)===-1&&i.push(a);const c=s.indexOf(a);c!==-1&&s.splice(c,1)}for(let a=s.length-1;a>=0;a-=1)n.removeAttribute(s[a]);i.length===s.length?n.removeAttribute(Xs):n.getAttribute(Xs)!==o.join(",")&&n.setAttribute(Xs,o.join(","))},H9=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=KF(t)),xE("title",e)},EN=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:s,metaTags:o,noscriptTags:a,onChangeClientState:l,scriptTags:c,styleTags:u,title:f,titleAttributes:p}=t;xE("body",r),xE("html",i),H9(f,p);const m={baseTag:Gu("base",n),linkTags:Gu("link",s),metaTags:Gu("meta",o),noscriptTags:Gu("noscript",a),scriptTags:Gu("script",c),styleTags:Gu("style",u)},y={},x={};Object.keys(m).forEach(v=>{const{newTags:g,oldTags:w}=m[v];g.length&&(y[v]=g),w.length&&(x[v]=m[v].oldTags)}),e&&e(),l(t,y,x)},Vh=null,W9=t=>{Vh&&cancelAnimationFrame(Vh),t.defer?Vh=requestAnimationFrame(()=>{EN(t,()=>{Vh=null})}):(EN(t),Vh=null)},G9=W9,MN=class extends T.Component{constructor(){super(...arguments);go(this,"rendered",!1)}shouldComponentUpdate(e){return!A9(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=k9(e.get().map(s=>{const o={...s.props};return delete o.context,o}));tU.canUseDOM?G9(i):yE&&(r=yE(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},bb,Xf=(bb=class extends T.Component{shouldComponentUpdate(t){return!b9(bN(this.props,"helmetData"),bN(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return wN(SN.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${SN.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),wN(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return _e.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...s}=r.props,o=Object.keys(s).reduce((l,c)=>(l[C9[c]||c]=s[c],l),{});let{type:a}=r;switch(typeof a=="symbol"?a=a.toString():this.warnOnInvalidChildren(r,i),a){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,o,i);break;default:e=this.mapObjectTypeChildren(r,e,o,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof vE)){const i=r;r=new vE(i.context,!0),delete n.helmetData}return r?_e.createElement(MN,{...n,context:r.value}):_e.createElement(eU.Consumer,null,i=>_e.createElement(MN,{...n,context:i}))}},go(bb,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),bb);function TN(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Jx(...t){return e=>{let n=!1;const r=t.map(i=>{const s=TN(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():TN(t[i],null)}}}}function pn(...t){return T.useCallback(Jx(...t),t)}function Ef(t){const e=$9(t),n=T.forwardRef((r,i)=>{const{children:s,...o}=r,a=T.Children.toArray(s),l=a.find(q9);if(l){const c=l.props.children,u=a.map(f=>f===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:f);return _.jsx(e,{...o,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,u):null})}return _.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var nU=Ef("Slot");function $9(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const o=K9(i),a=Y9(s,i.props);return i.type!==T.Fragment&&(a.ref=r?Jx(r,o):o),T.cloneElement(i,a)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var rU=Symbol("radix.slottable");function X9(t){const e=({children:n})=>_.jsx(_.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=rU,e}function q9(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rU}function Y9(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{const l=s(...a);return i(...a),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function K9(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function iU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=iU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function sU(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=iU(t))&&(r&&(r+=" "),r+=e);return r}const AN=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,CN=sU,hA=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return CN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=s==null?void 0:s[c];if(u===null)return null;const p=AN(u)||AN(f);return i[c][p]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,p]=u;return p===void 0||(c[f]=p),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:p,...m}=u;return Object.entries(m).every(y=>{let[x,v]=y;return Array.isArray(v)?v.includes({...s,...a}[x]):{...s,...a}[x]===v})?[...c,f,p]:c},[]);return CN(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)},pA="-",Z9=t=>{const e=Q9(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(pA);return a[0]===""&&a.length!==1&&a.shift(),oU(a,e)||J9(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},oU=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?oU(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(pA);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},RN=/^\[(.+)\]$/,J9=t=>{if(RN.test(t)){const e=RN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},Q9=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return t7(Object.entries(t.classGroups),n).forEach(([s,o])=>{_E(o,r,s,e)}),r},_E=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:PN(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(e7(i)){_E(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{_E(o,PN(e,s),n,r)})})},PN=(t,e)=>{let n=t;return e.split(pA).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},e7=t=>t.isThemeGetter,t7=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,n7=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},aU="!",r7=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let v=0;v<a.length;v++){let g=a[v];if(c===0){if(g===i&&(r||a.slice(v,v+s)===e)){l.push(a.slice(u,v)),u=v+s;continue}if(g==="/"){f=v;continue}}g==="["?c++:g==="]"&&c--}const p=l.length===0?a:a.substring(u),m=p.startsWith(aU),y=m?p.substring(1):p,x=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:x}};return n?a=>n({className:a,parseClassName:o}):o},i7=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},s7=t=>({cache:n7(t.cacheSize),parseClassName:r7(t),...Z9(t)}),o7=/\s+/,a7=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(o7);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(c);let y=!!m,x=r(y?p.substring(0,m):p);if(!x){if(!y){a=c+(a.length>0?" "+a:a);continue}if(x=r(p),!x){a=c+(a.length>0?" "+a:a);continue}y=!1}const v=i7(u).join(":"),g=f?v+aU:v,w=g+x;if(s.includes(w))continue;s.push(w);const S=i(x,y);for(let M=0;M<S.length;++M){const C=S[M];s.push(g+C)}a=c+(a.length>0?" "+a:a)}return a};function l7(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=lU(e))&&(r&&(r+=" "),r+=n);return r}const lU=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=lU(t[r]))&&(n&&(n+=" "),n+=e);return n};function c7(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=s7(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=a7(l,n);return i(l,u),u}return function(){return s(l7.apply(null,arguments))}}const wn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},cU=/^\[(?:([a-z-]+):)?(.+)\]$/i,u7=/^\d+\/\d+$/,d7=new Set(["px","full","screen"]),f7=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,h7=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p7=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,m7=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,g7=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,qo=t=>rf(t)||d7.has(t)||u7.test(t),ja=t=>qf(t,"length",E7),rf=t=>!!t&&!Number.isNaN(Number(t)),G1=t=>qf(t,"number",rf),jh=t=>!!t&&Number.isInteger(Number(t)),y7=t=>t.endsWith("%")&&rf(t.slice(0,-1)),Dt=t=>cU.test(t),Ha=t=>f7.test(t),v7=new Set(["length","size","percentage"]),x7=t=>qf(t,v7,uU),_7=t=>qf(t,"position",uU),w7=new Set(["image","url"]),S7=t=>qf(t,w7,T7),b7=t=>qf(t,"",M7),Hh=()=>!0,qf=(t,e,n)=>{const r=cU.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},E7=t=>h7.test(t)&&!p7.test(t),uU=()=>!1,M7=t=>m7.test(t),T7=t=>g7.test(t),A7=()=>{const t=wn("colors"),e=wn("spacing"),n=wn("blur"),r=wn("brightness"),i=wn("borderColor"),s=wn("borderRadius"),o=wn("borderSpacing"),a=wn("borderWidth"),l=wn("contrast"),c=wn("grayscale"),u=wn("hueRotate"),f=wn("invert"),p=wn("gap"),m=wn("gradientColorStops"),y=wn("gradientColorStopPositions"),x=wn("inset"),v=wn("margin"),g=wn("opacity"),w=wn("padding"),S=wn("saturate"),M=wn("scale"),C=wn("sepia"),P=wn("skew"),I=wn("space"),O=wn("translate"),N=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Dt,e],W=()=>[Dt,e],Q=()=>["",qo,ja],U=()=>["auto",rf,Dt],Y=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",Dt],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],K=()=>[rf,Dt];return{cacheSize:500,separator:":",theme:{colors:[Hh],spacing:[qo,ja],blur:["none","",Ha,Dt],brightness:K(),borderColor:[t],borderRadius:["none","","full",Ha,Dt],borderSpacing:W(),borderWidth:Q(),contrast:K(),grayscale:F(),hueRotate:K(),invert:F(),gap:W(),gradientColorStops:[t],gradientColorStopPositions:[y7,ja],inset:V(),margin:V(),opacity:K(),padding:W(),saturate:K(),scale:K(),sepia:F(),skew:K(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",Dt]}],container:["container"],columns:[{columns:[Ha]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Y(),Dt]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",jh,Dt]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Dt]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",jh,Dt]}],"grid-cols":[{"grid-cols":[Hh]}],"col-start-end":[{col:["auto",{span:["full",jh,Dt]},Dt]}],"col-start":[{"col-start":U()}],"col-end":[{"col-end":U()}],"grid-rows":[{"grid-rows":[Hh]}],"row-start-end":[{row:["auto",{span:[jh,Dt]},Dt]}],"row-start":[{"row-start":U()}],"row-end":[{"row-end":U()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Dt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Dt]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Dt,e]}],"min-w":[{"min-w":[Dt,e,"min","max","fit"]}],"max-w":[{"max-w":[Dt,e,"none","full","min","max","fit","prose",{screen:[Ha]},Ha]}],h:[{h:[Dt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Dt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Dt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Dt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ha,ja]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",G1]}],"font-family":[{font:[Hh]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Dt]}],"line-clamp":[{"line-clamp":["none",rf,G1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",qo,Dt]}],"list-image":[{"list-image":["none",Dt]}],"list-style-type":[{list:["none","disc","decimal",Dt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[g]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[g]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",qo,ja]}],"underline-offset":[{"underline-offset":["auto",qo,Dt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Dt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Dt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[g]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Y(),_7]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",x7]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},S7]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[g]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[g]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[qo,Dt]}],"outline-w":[{outline:[qo,ja]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:Q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[g]}],"ring-offset-w":[{"ring-offset":[qo,ja]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ha,b7]}],"shadow-color":[{shadow:[Hh]}],opacity:[{opacity:[g]}],"mix-blend":[{"mix-blend":[...te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ha,Dt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[S]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[g]}],"backdrop-saturate":[{"backdrop-saturate":[S]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Dt]}],duration:[{duration:K()}],ease:[{ease:["linear","in","out","in-out",Dt]}],delay:[{delay:K()}],animate:[{animate:["none","spin","ping","pulse","bounce",Dt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[jh,Dt]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Dt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Dt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Dt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[qo,ja,G1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},C7=c7(A7);function qt(...t){return C7(sU(t))}const R7=hA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),sn=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?nU:"button";return _.jsx(o,{className:qt(R7({variant:e,size:n,className:t})),ref:s,...i})});sn.displayName="Button";let P7=class extends T.Component{constructor(){super(...arguments);go(this,"state",{hasError:!1})}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){return this.state.hasError?_.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 text-center",children:[_.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Oops, something went wrong"}),_.jsx("p",{className:"text-muted-foreground mb-6",children:"We apologize for the inconvenience. Please try refreshing the page."}),_.jsx(sn,{onClick:()=>window.location.reload(),children:"Refresh Page"})]}):this.props.children}};const N7=1,I7=1e6;let $1=0;function L7(){return $1=($1+1)%Number.MAX_SAFE_INTEGER,$1.toString()}const X1=new Map,NN=t=>{if(X1.has(t))return;const e=setTimeout(()=>{X1.delete(t),Cp({type:"REMOVE_TOAST",toastId:t})},I7);X1.set(t,e)},k7=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,N7)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?NN(n):t.toasts.forEach(r=>{NN(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},l0=[];let c0={toasts:[]};function Cp(t){c0=k7(c0,t),l0.forEach(e=>{e(c0)})}function D7({...t}){const e=L7(),n=i=>Cp({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Cp({type:"DISMISS_TOAST",toastId:e});return Cp({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function O7(){const[t,e]=T.useState(c0);return T.useEffect(()=>(l0.push(e),()=>{const n=l0.indexOf(e);n>-1&&l0.splice(n,1)}),[t]),{...t,toast:D7,dismiss:n=>Cp({type:"DISMISS_TOAST",toastId:n})}}function Ze(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Gl(t,e=[]){let n=[];function r(s,o){const a=T.createContext(o),l=n.length;n=[...n,o];const c=f=>{var g;const{scope:p,children:m,...y}=f,x=((g=p==null?void 0:p[t])==null?void 0:g[l])||a,v=T.useMemo(()=>y,Object.values(y));return _.jsx(x.Provider,{value:v,children:m})};c.displayName=s+"Provider";function u(f,p){var x;const m=((x=p==null?void 0:p[t])==null?void 0:x[l])||a,y=T.useContext(m);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>T.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,F7(i,...e)]}function F7(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function Qx(t){const e=t+"CollectionProvider",[n,r]=Gl(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:v,children:g}=x,w=_e.useRef(null),S=_e.useRef(new Map).current;return _.jsx(i,{scope:v,itemMap:S,collectionRef:w,children:g})};o.displayName=e;const a=t+"CollectionSlot",l=Ef(a),c=_e.forwardRef((x,v)=>{const{scope:g,children:w}=x,S=s(a,g),M=pn(v,S.collectionRef);return _.jsx(l,{ref:M,children:w})});c.displayName=a;const u=t+"CollectionItemSlot",f="data-radix-collection-item",p=Ef(u),m=_e.forwardRef((x,v)=>{const{scope:g,children:w,...S}=x,M=_e.useRef(null),C=pn(v,M),P=s(u,g);return _e.useEffect(()=>(P.itemMap.set(M,{ref:M,...S}),()=>void P.itemMap.delete(M))),_.jsx(p,{[f]:"",ref:C,children:w})});m.displayName=u;function y(x){const v=s(t+"CollectionConsumer",x);return _e.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const S=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(v.itemMap.values()).sort((P,I)=>S.indexOf(P.ref.current)-S.indexOf(I.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},y,r]}var U7=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$t=U7.reduce((t,e)=>{const n=Ef(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function mA(t,e){t&&_u.flushSync(()=>t.dispatchEvent(e))}function ki(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function B7(t,e=globalThis==null?void 0:globalThis.document){const n=ki(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var z7="DismissableLayer",wE="dismissableLayer.update",V7="dismissableLayer.pointerDownOutside",j7="dismissableLayer.focusOutside",IN,dU=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xm=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=T.useContext(dU),[u,f]=T.useState(null),p=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=T.useState({}),y=pn(e,I=>f(I)),x=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=x.indexOf(v),w=u?x.indexOf(u):-1,S=c.layersWithOutsidePointerEventsDisabled.size>0,M=w>=g,C=W7(I=>{const O=I.target,N=[...c.branches].some(k=>k.contains(O));!M||N||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},p),P=G7(I=>{const O=I.target;[...c.branches].some(k=>k.contains(O))||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},p);return B7(I=>{w===c.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},p),T.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(IN=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),LN(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=IN)}},[u,p,n,c]),T.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),LN())},[u,c]),T.useEffect(()=>{const I=()=>m({});return document.addEventListener(wE,I),()=>document.removeEventListener(wE,I)},[]),_.jsx($t.div,{...l,ref:y,style:{pointerEvents:S?M?"auto":"none":void 0,...t.style},onFocusCapture:Ze(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ze(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ze(t.onPointerDownCapture,C.onPointerDownCapture)})});Xm.displayName=z7;var H7="DismissableLayerBranch",fU=T.forwardRef((t,e)=>{const n=T.useContext(dU),r=T.useRef(null),i=pn(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),_.jsx($t.div,{...t,ref:i})});fU.displayName=H7;function W7(t,e=globalThis==null?void 0:globalThis.document){const n=ki(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){hU(V7,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function G7(t,e=globalThis==null?void 0:globalThis.document){const n=ki(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&hU(j7,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function LN(){const t=new CustomEvent(wE);document.dispatchEvent(t)}function hU(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mA(i,s):i.dispatchEvent(s)}var $7=Xm,X7=fU,Lr=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},q7="Portal",e_=T.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=T.useState(!1);Lr(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?XF.createPortal(_.jsx($t.div,{...r,ref:e}),o):null});e_.displayName=q7;function Y7(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var wu=t=>{const{present:e,children:n}=t,r=K7(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=pn(r.ref,Z7(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};wu.displayName="Presence";function K7(t){const[e,n]=T.useState(),r=T.useRef(null),i=T.useRef(t),s=T.useRef("none"),o=t?"mounted":"unmounted",[a,l]=Y7(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=zy(r.current);s.current=a==="mounted"?c:"none"},[a]),Lr(()=>{const c=r.current,u=i.current;if(u!==t){const p=s.current,m=zy(c);t?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&p!==m?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Lr(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=m=>{const x=zy(r.current).includes(m.animationName);if(m.target===e&&x&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},p=m=>{m.target===e&&(s.current=zy(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:T.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function zy(t){return(t==null?void 0:t.animationName)||"none"}function Z7(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var J7=wT[" useInsertionEffect ".trim().toString()]||Lr;function im({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,o]=Q7({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:i;{const u=T.useRef(t!==void 0);T.useEffect(()=>{const f=u.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=a},[a,r])}const c=T.useCallback(u=>{var f;if(a){const p=e$(u)?u(t):u;p!==t&&((f=o.current)==null||f.call(o,p))}else s(u)},[a,t,s,o]);return[l,c]}function Q7({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),s=T.useRef(e);return J7(()=>{s.current=e},[e]),T.useEffect(()=>{var o;i.current!==n&&((o=s.current)==null||o.call(s,n),i.current=n)},[n,i]),[n,r,s]}function e$(t){return typeof t=="function"}var pU=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),t$="VisuallyHidden",t_=T.forwardRef((t,e)=>_.jsx($t.span,{...t,ref:e,style:{...pU,...t.style}}));t_.displayName=t$;var n$=t_,gA="ToastProvider",[yA,r$,i$]=Qx("Toast"),[mU,Qge]=Gl("Toast",[i$]),[s$,n_]=mU(gA),gU=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=T.useState(null),[c,u]=T.useState(0),f=T.useRef(!1),p=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${gA}\`. Expected non-empty \`string\`.`),_.jsx(yA.Provider,{scope:e,children:_.jsx(s$,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:T.useCallback(()=>u(m=>m+1),[]),onToastRemove:T.useCallback(()=>u(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};gU.displayName=gA;var yU="ToastViewport",o$=["F8"],SE="toast.viewportPause",bE="toast.viewportResume",vU=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=o$,label:i="Notifications ({hotkey})",...s}=t,o=n_(yU,n),a=r$(n),l=T.useRef(null),c=T.useRef(null),u=T.useRef(null),f=T.useRef(null),p=pn(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;T.useEffect(()=>{const v=g=>{var S;r.length!==0&&r.every(M=>g[M]||g.code===M)&&((S=f.current)==null||S.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),T.useEffect(()=>{const v=l.current,g=f.current;if(y&&v&&g){const w=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(SE);g.dispatchEvent(P),o.isClosePausedRef.current=!0}},S=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(bE);g.dispatchEvent(P),o.isClosePausedRef.current=!1}},M=P=>{!v.contains(P.relatedTarget)&&S()},C=()=>{v.contains(document.activeElement)||S()};return v.addEventListener("focusin",w),v.addEventListener("focusout",M),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",C),window.addEventListener("blur",w),window.addEventListener("focus",S),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",M),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",C),window.removeEventListener("blur",w),window.removeEventListener("focus",S)}}},[y,o.isClosePausedRef]);const x=T.useCallback(({tabbingDirection:v})=>{const w=a().map(S=>{const M=S.ref.current,C=[M,...x$(M)];return v==="forwards"?C:C.reverse()});return(v==="forwards"?w.reverse():w).flat()},[a]);return T.useEffect(()=>{const v=f.current;if(v){const g=w=>{var C,P,I;const S=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!S){const O=document.activeElement,N=w.shiftKey;if(w.target===v&&N){(C=c.current)==null||C.focus();return}const W=x({tabbingDirection:N?"backwards":"forwards"}),Q=W.findIndex(U=>U===O);q1(W.slice(Q+1))?w.preventDefault():N?(P=c.current)==null||P.focus():(I=u.current)==null||I.focus()}};return v.addEventListener("keydown",g),()=>v.removeEventListener("keydown",g)}},[a,x]),_.jsxs(X7,{ref:l,role:"region","aria-label":i.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&_.jsx(EE,{ref:c,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"forwards"});q1(v)}}),_.jsx(yA.Slot,{scope:n,children:_.jsx($t.ol,{tabIndex:-1,...s,ref:p})}),y&&_.jsx(EE,{ref:u,onFocusFromOutsideViewport:()=>{const v=x({tabbingDirection:"backwards"});q1(v)}})]})});vU.displayName=yU;var xU="ToastFocusProxy",EE=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=n_(xU,n);return _.jsx(t_,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});EE.displayName=xU;var qm="Toast",a$="toast.swipeStart",l$="toast.swipeMove",c$="toast.swipeCancel",u$="toast.swipeEnd",_U=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a,l]=im({prop:r,defaultProp:i??!0,onChange:s,caller:qm});return _.jsx(wu,{present:n||a,children:_.jsx(h$,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:ki(t.onPause),onResume:ki(t.onResume),onSwipeStart:Ze(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ze(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Ze(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ze(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});_U.displayName=qm;var[d$,f$]=mU(qm,{onClose(){}}),h$=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...y}=t,x=n_(qm,n),[v,g]=T.useState(null),w=pn(e,U=>g(U)),S=T.useRef(null),M=T.useRef(null),C=i||x.duration,P=T.useRef(0),I=T.useRef(C),O=T.useRef(0),{onToastAdd:N,onToastRemove:k}=x,V=ki(()=>{var Y;(v==null?void 0:v.contains(document.activeElement))&&((Y=x.viewport)==null||Y.focus()),o()}),W=T.useCallback(U=>{!U||U===1/0||(window.clearTimeout(O.current),P.current=new Date().getTime(),O.current=window.setTimeout(V,U))},[V]);T.useEffect(()=>{const U=x.viewport;if(U){const Y=()=>{W(I.current),c==null||c()},q=()=>{const te=new Date().getTime()-P.current;I.current=I.current-te,window.clearTimeout(O.current),l==null||l()};return U.addEventListener(SE,q),U.addEventListener(bE,Y),()=>{U.removeEventListener(SE,q),U.removeEventListener(bE,Y)}}},[x.viewport,C,l,c,W]),T.useEffect(()=>{s&&!x.isClosePausedRef.current&&W(C)},[s,C,x.isClosePausedRef,W]),T.useEffect(()=>(N(),()=>k()),[N,k]);const Q=T.useMemo(()=>v?AU(v):null,[v]);return x.viewport?_.jsxs(_.Fragment,{children:[Q&&_.jsx(p$,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:Q}),_.jsx(d$,{scope:n,onClose:V,children:_u.createPortal(_.jsx(yA.ItemSlot,{scope:n,children:_.jsx($7,{asChild:!0,onEscapeKeyDown:Ze(a,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx($t.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ze(t.onKeyDown,U=>{U.key==="Escape"&&(a==null||a(U.nativeEvent),U.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ze(t.onPointerDown,U=>{U.button===0&&(S.current={x:U.clientX,y:U.clientY})}),onPointerMove:Ze(t.onPointerMove,U=>{if(!S.current)return;const Y=U.clientX-S.current.x,q=U.clientY-S.current.y,te=!!M.current,D=["left","right"].includes(x.swipeDirection),F=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,j=D?F(0,Y):0,K=D?0:F(0,q),ee=U.pointerType==="touch"?10:2,J={x:j,y:K},ae={originalEvent:U,delta:J};te?(M.current=J,Vy(l$,f,ae,{discrete:!1})):kN(J,x.swipeDirection,ee)?(M.current=J,Vy(a$,u,ae,{discrete:!1}),U.target.setPointerCapture(U.pointerId)):(Math.abs(Y)>ee||Math.abs(q)>ee)&&(S.current=null)}),onPointerUp:Ze(t.onPointerUp,U=>{const Y=M.current,q=U.target;if(q.hasPointerCapture(U.pointerId)&&q.releasePointerCapture(U.pointerId),M.current=null,S.current=null,Y){const te=U.currentTarget,D={originalEvent:U,delta:Y};kN(Y,x.swipeDirection,x.swipeThreshold)?Vy(u$,m,D,{discrete:!0}):Vy(c$,p,D,{discrete:!0}),te.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),p$=t=>{const{__scopeToast:e,children:n,...r}=t,i=n_(qm,e),[s,o]=T.useState(!1),[a,l]=T.useState(!1);return y$(()=>o(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:_.jsx(e_,{asChild:!0,children:_.jsx(t_,{...r,children:s&&_.jsxs(_.Fragment,{children:[i.label," ",n]})})})},m$="ToastTitle",wU=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx($t.div,{...r,ref:e})});wU.displayName=m$;var g$="ToastDescription",SU=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx($t.div,{...r,ref:e})});SU.displayName=g$;var bU="ToastAction",EU=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?_.jsx(TU,{altText:n,asChild:!0,children:_.jsx(vA,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${bU}\`. Expected non-empty \`string\`.`),null)});EU.displayName=bU;var MU="ToastClose",vA=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=f$(MU,n);return _.jsx(TU,{asChild:!0,children:_.jsx($t.button,{type:"button",...r,ref:e,onClick:Ze(t.onClick,i.onClose)})})});vA.displayName=MU;var TU=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return _.jsx($t.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function AU(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),v$(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...AU(r))}}),e}function Vy(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?mA(i,s):i.dispatchEvent(s)}var kN=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function y$(t=()=>{}){const e=ki(t);Lr(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function v$(t){return t.nodeType===t.ELEMENT_NODE}function x$(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function q1(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var _$=gU,CU=vU,RU=_U,PU=wU,NU=SU,IU=EU,LU=vA;/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kU=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b$=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>T.createElement("svg",{ref:l,...S$,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:kU("lucide",i),...a},[...o.map(([c,u])=>T.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(b$,{ref:s,iconNode:e,className:kU(`lucide-${w$(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=Et("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Et("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=Et("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M$=Et("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=Et("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=Et("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=Et("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Et("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=Et("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A$=Et("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=Et("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R$=Et("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=Et("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Et("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=Et("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=Et("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I$=Et("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L$=Et("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=Et("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=Et("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k$=Et("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=Et("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D$=Et("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=Et("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O$=Et("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=Et("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=Et("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=Et("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Et("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F$=Et("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U$=Et("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B$=Et("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z$=Et("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V$=Et("Music2",[["circle",{cx:"8",cy:"18",r:"4",key:"1fc0mg"}],["path",{d:"M12 18V2l7 4",key:"g04rme"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j$=Et("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=Et("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mf=Et("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Et("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W$=Et("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=Et("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=Et("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=Et("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Et("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=Et("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $$=Et("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=Et("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),X$=_$,KU=T.forwardRef(({className:t,...e},n)=>_.jsx(CU,{ref:n,className:qt("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));KU.displayName=CU.displayName;const q$=hA("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ZU=T.forwardRef(({className:t,variant:e,...n},r)=>_.jsx(RU,{ref:r,className:qt(q$({variant:e}),t),...n}));ZU.displayName=RU.displayName;const Y$=T.forwardRef(({className:t,...e},n)=>_.jsx(IU,{ref:n,className:qt("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));Y$.displayName=IU.displayName;const JU=T.forwardRef(({className:t,...e},n)=>_.jsx(LU,{ref:n,className:qt("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:_.jsx(YU,{className:"h-4 w-4"})}));JU.displayName=LU.displayName;const QU=T.forwardRef(({className:t,...e},n)=>_.jsx(PU,{ref:n,className:qt("text-sm font-semibold",t),...e}));QU.displayName=PU.displayName;const e4=T.forwardRef(({className:t,...e},n)=>_.jsx(NU,{ref:n,className:qt("text-sm opacity-90",t),...e}));e4.displayName=NU.displayName;function K$(){const{toasts:t}=O7();return _.jsxs(X$,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return _.jsxs(ZU,{...s,children:[_.jsxs("div",{className:"grid gap-1",children:[n&&_.jsx(QU,{children:n}),r&&_.jsx(e4,{children:r})]}),i,_.jsx(JU,{})]},e)}),_.jsx(KU,{})]})}var DN=["light","dark"],Z$="(prefers-color-scheme: dark)",J$=T.createContext(void 0),Q$={setTheme:t=>{},themes:[]},eX=()=>{var t;return(t=T.useContext(J$))!=null?t:Q$};T.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?DN.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(y,x=!1,v=!0)=>{let g=o?o[y]:y,w=x?y+"|| ''":`'${g}'`,S="";return i&&v&&!x&&DN.includes(y)&&(S+=`d.style.colorScheme = '${y}';`),n==="class"?x||g?S+=`c.add(${w})`:S+="null":g&&(S+=`d[s](n,${w})`),S},m=t?`!function(){${u}${p(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${Z$}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${c?"":"else{"+p(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(s,!1,!1)};}${f}}catch(t){}}();`;return T.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:m}})});var tX=t=>{switch(t){case"success":return iX;case"info":return oX;case"warning":return sX;case"error":return aX;default:return null}},nX=Array(12).fill(0),rX=({visible:t,className:e})=>_e.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},_e.createElement("div",{className:"sonner-spinner"},nX.map((n,r)=>_e.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),iX=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),sX=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),oX=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),aX=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},_e.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),lX=_e.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},_e.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),_e.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),cX=()=>{let[t,e]=_e.useState(document.hidden);return _e.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},TE=1,uX=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:TE++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,o=r.then(async l=>{if(s=["resolve",l],_e.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(fX(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,c)=>o.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||TE++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},bi=new uX,dX=(t,e)=>{let n=(e==null?void 0:e.id)||TE++;return bi.addToast({title:t,...e,id:n}),n},fX=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",hX=dX,pX=()=>bi.toasts,mX=()=>bi.getActiveToasts();Object.assign(hX,{success:bi.success,info:bi.info,warning:bi.warning,error:bi.error,custom:bi.custom,message:bi.message,promise:bi.promise,dismiss:bi.dismiss,loading:bi.loading},{getHistory:pX,getToasts:mX});function gX(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}gX(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function jy(t){return t.label!==void 0}var yX=3,vX="32px",xX="16px",ON=4e3,_X=356,wX=14,SX=20,bX=200;function Rs(...t){return t.filter(Boolean).join(" ")}function EX(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var MX=t=>{var e,n,r,i,s,o,a,l,c,u,f;let{invert:p,toast:m,unstyled:y,interacting:x,setHeights:v,visibleToasts:g,heights:w,index:S,toasts:M,expanded:C,removeToast:P,defaultRichColors:I,closeButton:O,style:N,cancelButtonStyle:k,actionButtonStyle:V,className:W="",descriptionClassName:Q="",duration:U,position:Y,gap:q,loadingIcon:te,expandByDefault:D,classNames:F,icons:j,closeButtonAriaLabel:K="Close toast",pauseWhenPageIsHidden:ee}=t,[J,ae]=_e.useState(null),[Se,Ae]=_e.useState(null),[ce,Oe]=_e.useState(!1),[Be,Re]=_e.useState(!1),[Le,X]=_e.useState(!1),[Ee,ve]=_e.useState(!1),[Pe,we]=_e.useState(!1),[Je,He]=_e.useState(0),[z,R]=_e.useState(0),B=_e.useRef(m.duration||U||ON),Z=_e.useRef(null),oe=_e.useRef(null),ie=S===0,de=S+1<=g,fe=m.type,Ce=m.dismissible!==!1,ze=m.className||"",lt=m.descriptionClassName||"",Me=_e.useMemo(()=>w.findIndex(Ne=>Ne.toastId===m.id)||0,[w,m.id]),At=_e.useMemo(()=>{var Ne;return(Ne=m.closeButton)!=null?Ne:O},[m.closeButton,O]),Ct=_e.useMemo(()=>m.duration||U||ON,[m.duration,U]),pt=_e.useRef(0),nt=_e.useRef(0),Ke=_e.useRef(0),mt=_e.useRef(null),[Xt,ln]=Y.split("-"),Nt=_e.useMemo(()=>w.reduce((Ne,ut,ht)=>ht>=Me?Ne:Ne+ut.height,0),[w,Me]),Fe=cX(),ne=m.invert||p,je=fe==="loading";nt.current=_e.useMemo(()=>Me*q+Nt,[Me,Nt]),_e.useEffect(()=>{B.current=Ct},[Ct]),_e.useEffect(()=>{Oe(!0)},[]),_e.useEffect(()=>{let Ne=oe.current;if(Ne){let ut=Ne.getBoundingClientRect().height;return R(ut),v(ht=>[{toastId:m.id,height:ut,position:m.position},...ht]),()=>v(ht=>ht.filter(Yt=>Yt.toastId!==m.id))}},[v,m.id]),_e.useLayoutEffect(()=>{if(!ce)return;let Ne=oe.current,ut=Ne.style.height;Ne.style.height="auto";let ht=Ne.getBoundingClientRect().height;Ne.style.height=ut,R(ht),v(Yt=>Yt.find(an=>an.toastId===m.id)?Yt.map(an=>an.toastId===m.id?{...an,height:ht}:an):[{toastId:m.id,height:ht,position:m.position},...Yt])},[ce,m.title,m.description,v,m.id]);let Ue=_e.useCallback(()=>{Re(!0),He(nt.current),v(Ne=>Ne.filter(ut=>ut.toastId!==m.id)),setTimeout(()=>{P(m)},bX)},[m,P,v,nt]);_e.useEffect(()=>{if(m.promise&&fe==="loading"||m.duration===1/0||m.type==="loading")return;let Ne;return C||x||ee&&Fe?(()=>{if(Ke.current<pt.current){let ut=new Date().getTime()-pt.current;B.current=B.current-ut}Ke.current=new Date().getTime()})():B.current!==1/0&&(pt.current=new Date().getTime(),Ne=setTimeout(()=>{var ut;(ut=m.onAutoClose)==null||ut.call(m,m),Ue()},B.current)),()=>clearTimeout(Ne)},[C,x,m,fe,ee,Fe,Ue]),_e.useEffect(()=>{m.delete&&Ue()},[Ue,m.delete]);function yt(){var Ne,ut,ht;return j!=null&&j.loading?_e.createElement("div",{className:Rs(F==null?void 0:F.loader,(Ne=m==null?void 0:m.classNames)==null?void 0:Ne.loader,"sonner-loader"),"data-visible":fe==="loading"},j.loading):te?_e.createElement("div",{className:Rs(F==null?void 0:F.loader,(ut=m==null?void 0:m.classNames)==null?void 0:ut.loader,"sonner-loader"),"data-visible":fe==="loading"},te):_e.createElement(rX,{className:Rs(F==null?void 0:F.loader,(ht=m==null?void 0:m.classNames)==null?void 0:ht.loader),visible:fe==="loading"})}return _e.createElement("li",{tabIndex:0,ref:oe,className:Rs(W,ze,F==null?void 0:F.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[fe],(n=m==null?void 0:m.classNames)==null?void 0:n[fe]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:I,"data-styled":!(m.jsx||m.unstyled||y),"data-mounted":ce,"data-promise":!!m.promise,"data-swiped":Pe,"data-removed":Be,"data-visible":de,"data-y-position":Xt,"data-x-position":ln,"data-index":S,"data-front":ie,"data-swiping":Le,"data-dismissible":Ce,"data-type":fe,"data-invert":ne,"data-swipe-out":Ee,"data-swipe-direction":Se,"data-expanded":!!(C||D&&ce),style:{"--index":S,"--toasts-before":S,"--z-index":M.length-S,"--offset":`${Be?Je:nt.current}px`,"--initial-height":D?"auto":`${z}px`,...N,...m.style},onDragEnd:()=>{X(!1),ae(null),mt.current=null},onPointerDown:Ne=>{je||!Ce||(Z.current=new Date,He(nt.current),Ne.target.setPointerCapture(Ne.pointerId),Ne.target.tagName!=="BUTTON"&&(X(!0),mt.current={x:Ne.clientX,y:Ne.clientY}))},onPointerUp:()=>{var Ne,ut,ht,Yt;if(Ee||!Ce)return;mt.current=null;let an=Number(((Ne=oe.current)==null?void 0:Ne.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Wt=Number(((ut=oe.current)==null?void 0:ut.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),xn=new Date().getTime()-((ht=Z.current)==null?void 0:ht.getTime()),An=J==="x"?an:Wt,yi=Math.abs(An)/xn;if(Math.abs(An)>=SX||yi>.11){He(nt.current),(Yt=m.onDismiss)==null||Yt.call(m,m),Ae(J==="x"?an>0?"right":"left":Wt>0?"down":"up"),Ue(),ve(!0),we(!1);return}X(!1),ae(null)},onPointerMove:Ne=>{var ut,ht,Yt,an;if(!mt.current||!Ce||((ut=window.getSelection())==null?void 0:ut.toString().length)>0)return;let Wt=Ne.clientY-mt.current.y,xn=Ne.clientX-mt.current.x,An=(ht=t.swipeDirections)!=null?ht:EX(Y);!J&&(Math.abs(xn)>1||Math.abs(Wt)>1)&&ae(Math.abs(xn)>Math.abs(Wt)?"x":"y");let yi={x:0,y:0};J==="y"?(An.includes("top")||An.includes("bottom"))&&(An.includes("top")&&Wt<0||An.includes("bottom")&&Wt>0)&&(yi.y=Wt):J==="x"&&(An.includes("left")||An.includes("right"))&&(An.includes("left")&&xn<0||An.includes("right")&&xn>0)&&(yi.x=xn),(Math.abs(yi.x)>0||Math.abs(yi.y)>0)&&we(!0),(Yt=oe.current)==null||Yt.style.setProperty("--swipe-amount-x",`${yi.x}px`),(an=oe.current)==null||an.style.setProperty("--swipe-amount-y",`${yi.y}px`)}},At&&!m.jsx?_e.createElement("button",{"aria-label":K,"data-disabled":je,"data-close-button":!0,onClick:je||!Ce?()=>{}:()=>{var Ne;Ue(),(Ne=m.onDismiss)==null||Ne.call(m,m)},className:Rs(F==null?void 0:F.closeButton,(i=m==null?void 0:m.classNames)==null?void 0:i.closeButton)},(s=j==null?void 0:j.close)!=null?s:lX):null,m.jsx||T.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:_e.createElement(_e.Fragment,null,fe||m.icon||m.promise?_e.createElement("div",{"data-icon":"",className:Rs(F==null?void 0:F.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||yt():null,m.type!=="loading"?m.icon||(j==null?void 0:j[fe])||tX(fe):null):null,_e.createElement("div",{"data-content":"",className:Rs(F==null?void 0:F.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},_e.createElement("div",{"data-title":"",className:Rs(F==null?void 0:F.title,(l=m==null?void 0:m.classNames)==null?void 0:l.title)},typeof m.title=="function"?m.title():m.title),m.description?_e.createElement("div",{"data-description":"",className:Rs(Q,lt,F==null?void 0:F.description,(c=m==null?void 0:m.classNames)==null?void 0:c.description)},typeof m.description=="function"?m.description():m.description):null),T.isValidElement(m.cancel)?m.cancel:m.cancel&&jy(m.cancel)?_e.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||k,onClick:Ne=>{var ut,ht;jy(m.cancel)&&Ce&&((ht=(ut=m.cancel).onClick)==null||ht.call(ut,Ne),Ue())},className:Rs(F==null?void 0:F.cancelButton,(u=m==null?void 0:m.classNames)==null?void 0:u.cancelButton)},m.cancel.label):null,T.isValidElement(m.action)?m.action:m.action&&jy(m.action)?_e.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||V,onClick:Ne=>{var ut,ht;jy(m.action)&&((ht=(ut=m.action).onClick)==null||ht.call(ut,Ne),!Ne.defaultPrevented&&Ue())},className:Rs(F==null?void 0:F.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function FN(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function TX(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",a=s?xX:vX;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${o}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${o}-${c}`]=a:n[`${o}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(a)}),n}var AX=T.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:a,offset:l,mobileOffset:c,theme:u="light",richColors:f,duration:p,style:m,visibleToasts:y=yX,toastOptions:x,dir:v=FN(),gap:g=wX,loadingIcon:w,icons:S,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:C}=t,[P,I]=_e.useState([]),O=_e.useMemo(()=>Array.from(new Set([r].concat(P.filter(ee=>ee.position).map(ee=>ee.position)))),[P,r]),[N,k]=_e.useState([]),[V,W]=_e.useState(!1),[Q,U]=_e.useState(!1),[Y,q]=_e.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),te=_e.useRef(null),D=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=_e.useRef(null),j=_e.useRef(!1),K=_e.useCallback(ee=>{I(J=>{var ae;return(ae=J.find(Se=>Se.id===ee.id))!=null&&ae.delete||bi.dismiss(ee.id),J.filter(({id:Se})=>Se!==ee.id)})},[]);return _e.useEffect(()=>bi.subscribe(ee=>{if(ee.dismiss){I(J=>J.map(ae=>ae.id===ee.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{XF.flushSync(()=>{I(J=>{let ae=J.findIndex(Se=>Se.id===ee.id);return ae!==-1?[...J.slice(0,ae),{...J[ae],...ee},...J.slice(ae+1)]:[ee,...J]})})})}),[]),_e.useEffect(()=>{if(u!=="system"){q(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;let ee=window.matchMedia("(prefers-color-scheme: dark)");try{ee.addEventListener("change",({matches:J})=>{q(J?"dark":"light")})}catch{ee.addListener(({matches:ae})=>{try{q(ae?"dark":"light")}catch(Se){console.error(Se)}})}},[u]),_e.useEffect(()=>{P.length<=1&&W(!1)},[P]),_e.useEffect(()=>{let ee=J=>{var ae,Se;i.every(Ae=>J[Ae]||J.code===Ae)&&(W(!0),(ae=te.current)==null||ae.focus()),J.code==="Escape"&&(document.activeElement===te.current||(Se=te.current)!=null&&Se.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",ee),()=>document.removeEventListener("keydown",ee)},[i]),_e.useEffect(()=>{if(te.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,j.current=!1)}},[te.current]),_e.createElement("section",{ref:e,"aria-label":`${M} ${D}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((ee,J)=>{var ae;let[Se,Ae]=ee.split("-");return P.length?_e.createElement("ol",{key:ee,dir:v==="auto"?FN():v,tabIndex:-1,ref:te,className:a,"data-sonner-toaster":!0,"data-theme":Y,"data-y-position":Se,"data-lifted":V&&P.length>1&&!s,"data-x-position":Ae,style:{"--front-toast-height":`${((ae=N[0])==null?void 0:ae.height)||0}px`,"--width":`${_X}px`,"--gap":`${g}px`,...m,...TX(l,c)},onBlur:ce=>{j.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(j.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||j.current||(j.current=!0,F.current=ce.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Q||W(!1)},onDragEnd:()=>W(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||U(!0)},onPointerUp:()=>U(!1)},P.filter(ce=>!ce.position&&J===0||ce.position===ee).map((ce,Oe)=>{var Be,Re;return _e.createElement(MX,{key:ce.id,icons:S,index:Oe,toast:ce,defaultRichColors:f,duration:(Be=x==null?void 0:x.duration)!=null?Be:p,className:x==null?void 0:x.className,descriptionClassName:x==null?void 0:x.descriptionClassName,invert:n,visibleToasts:y,closeButton:(Re=x==null?void 0:x.closeButton)!=null?Re:o,interacting:Q,position:ee,style:x==null?void 0:x.style,unstyled:x==null?void 0:x.unstyled,classNames:x==null?void 0:x.classNames,cancelButtonStyle:x==null?void 0:x.cancelButtonStyle,actionButtonStyle:x==null?void 0:x.actionButtonStyle,removeToast:K,toasts:P.filter(Le=>Le.position==ce.position),heights:N.filter(Le=>Le.position==ce.position),setHeights:k,expandByDefault:s,gap:g,loadingIcon:w,expanded:V,pauseWhenPageIsHidden:C,swipeDirections:t.swipeDirections})})):null}))});const CX=({...t})=>{const{theme:e="system"}=eX();return _.jsx(AX,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var RX=wT[" useId ".trim().toString()]||(()=>{}),PX=0;function Tf(t){const[e,n]=T.useState(RX());return Lr(()=>{n(r=>r??String(PX++))},[t]),e?`radix-${e}`:""}const NX=["top","right","bottom","left"],Nl=Math.min,$i=Math.max,Q0=Math.round,Hy=Math.floor,Po=t=>({x:t,y:t}),IX={left:"right",right:"left",bottom:"top",top:"bottom"},LX={start:"end",end:"start"};function AE(t,e,n){return $i(t,Nl(e,n))}function wa(t,e){return typeof t=="function"?t(e):t}function Sa(t){return t.split("-")[0]}function Yf(t){return t.split("-")[1]}function xA(t){return t==="x"?"y":"x"}function _A(t){return t==="y"?"height":"width"}const kX=new Set(["top","bottom"]);function To(t){return kX.has(Sa(t))?"y":"x"}function wA(t){return xA(To(t))}function DX(t,e,n){n===void 0&&(n=!1);const r=Yf(t),i=wA(t),s=_A(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=ex(o)),[o,ex(o)]}function OX(t){const e=ex(t);return[CE(t),e,CE(e)]}function CE(t){return t.replace(/start|end/g,e=>LX[e])}const UN=["left","right"],BN=["right","left"],FX=["top","bottom"],UX=["bottom","top"];function BX(t,e,n){switch(t){case"top":case"bottom":return n?e?BN:UN:e?UN:BN;case"left":case"right":return e?FX:UX;default:return[]}}function zX(t,e,n,r){const i=Yf(t);let s=BX(Sa(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(CE)))),s}function ex(t){return t.replace(/left|right|bottom|top/g,e=>IX[e])}function VX(t){return{top:0,right:0,bottom:0,left:0,...t}}function t4(t){return typeof t!="number"?VX(t):{top:t,right:t,bottom:t,left:t}}function tx(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function zN(t,e,n){let{reference:r,floating:i}=t;const s=To(e),o=wA(e),a=_A(o),l=Sa(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,p=r[a]/2-i[a]/2;let m;switch(l){case"top":m={x:u,y:r.y-i.height};break;case"bottom":m={x:u,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-i.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Yf(e)){case"start":m[o]-=p*(n&&c?-1:1);break;case"end":m[o]+=p*(n&&c?-1:1);break}return m}const jX=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=zN(c,r,l),p=r,m={},y=0;for(let x=0;x<a.length;x++){const{name:v,fn:g}=a[x],{x:w,y:S,data:M,reset:C}=await g({x:u,y:f,initialPlacement:r,placement:p,strategy:i,middlewareData:m,rects:c,platform:o,elements:{reference:t,floating:e}});u=w??u,f=S??f,m={...m,[v]:{...m[v],...M}},C&&y<=50&&(y++,typeof C=="object"&&(C.placement&&(p=C.placement),C.rects&&(c=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):C.rects),{x:u,y:f}=zN(c,p,l)),x=-1)}return{x:u,y:f,placement:p,strategy:i,middlewareData:m}};async function sm(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=wa(e,t),y=t4(m),v=a[p?f==="floating"?"reference":"floating":f],g=tx(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),w=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},C=tx(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:S,strategy:l}):w);return{top:(g.top-C.top+y.top)/M.y,bottom:(C.bottom-g.bottom+y.bottom)/M.y,left:(g.left-C.left+y.left)/M.x,right:(C.right-g.right+y.right)/M.x}}const HX=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=wa(t,e)||{};if(c==null)return{};const f=t4(u),p={x:n,y:r},m=wA(i),y=_A(m),x=await o.getDimensions(c),v=m==="y",g=v?"top":"left",w=v?"bottom":"right",S=v?"clientHeight":"clientWidth",M=s.reference[y]+s.reference[m]-p[m]-s.floating[y],C=p[m]-s.reference[m],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let I=P?P[S]:0;(!I||!await(o.isElement==null?void 0:o.isElement(P)))&&(I=a.floating[S]||s.floating[y]);const O=M/2-C/2,N=I/2-x[y]/2-1,k=Nl(f[g],N),V=Nl(f[w],N),W=k,Q=I-x[y]-V,U=I/2-x[y]/2+O,Y=AE(W,U,Q),q=!l.arrow&&Yf(i)!=null&&U!==Y&&s.reference[y]/2-(U<W?k:V)-x[y]/2<0,te=q?U<W?U-W:U-Q:0;return{[m]:p[m]+te,data:{[m]:Y,centerOffset:U-Y-te,...q&&{alignmentOffset:te}},reset:q}}}),WX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...v}=wa(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const g=Sa(i),w=To(a),S=Sa(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),C=p||(S||!x?[ex(a)]:OX(a)),P=y!=="none";!p&&P&&C.push(...zX(a,x,y,M));const I=[a,...C],O=await sm(e,v),N=[];let k=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&N.push(O[g]),f){const U=DX(i,o,M);N.push(O[U[0]],O[U[1]])}if(k=[...k,{placement:i,overflows:N}],!N.every(U=>U<=0)){var V,W;const U=(((V=s.flip)==null?void 0:V.index)||0)+1,Y=I[U];if(Y&&(!(f==="alignment"?w!==To(Y):!1)||k.every(D=>D.overflows[0]>0&&To(D.placement)===w)))return{data:{index:U,overflows:k},reset:{placement:Y}};let q=(W=k.filter(te=>te.overflows[0]<=0).sort((te,D)=>te.overflows[1]-D.overflows[1])[0])==null?void 0:W.placement;if(!q)switch(m){case"bestFit":{var Q;const te=(Q=k.filter(D=>{if(P){const F=To(D.placement);return F===w||F==="y"}return!0}).map(D=>[D.placement,D.overflows.filter(F=>F>0).reduce((F,j)=>F+j,0)]).sort((D,F)=>D[1]-F[1])[0])==null?void 0:Q[0];te&&(q=te);break}case"initialPlacement":q=a;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function VN(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function jN(t){return NX.some(e=>t[e]>=0)}const GX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=wa(t,e);switch(r){case"referenceHidden":{const s=await sm(e,{...i,elementContext:"reference"}),o=VN(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:jN(o)}}}case"escaped":{const s=await sm(e,{...i,altBoundary:!0}),o=VN(s,n.floating);return{data:{escapedOffsets:o,escaped:jN(o)}}}default:return{}}}}},n4=new Set(["left","top"]);async function $X(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=Sa(n),a=Yf(n),l=To(n)==="y",c=n4.has(o)?-1:1,u=s&&l?-1:1,f=wa(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof y=="number"&&(m=a==="end"?y*-1:y),l?{x:m*u,y:p*c}:{x:p*c,y:m*u}}const XX=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await $X(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},qX=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:v=>{let{x:g,y:w}=v;return{x:g,y:w}}},...l}=wa(t,e),c={x:n,y:r},u=await sm(e,l),f=To(Sa(i)),p=xA(f);let m=c[p],y=c[f];if(s){const v=p==="y"?"top":"left",g=p==="y"?"bottom":"right",w=m+u[v],S=m-u[g];m=AE(w,m,S)}if(o){const v=f==="y"?"top":"left",g=f==="y"?"bottom":"right",w=y+u[v],S=y-u[g];y=AE(w,y,S)}const x=a.fn({...e,[p]:m,[f]:y});return{...x,data:{x:x.x-n,y:x.y-r,enabled:{[p]:s,[f]:o}}}}}},YX=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=wa(t,e),u={x:n,y:r},f=To(i),p=xA(f);let m=u[p],y=u[f];const x=wa(a,e),v=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(l){const S=p==="y"?"height":"width",M=s.reference[p]-s.floating[S]+v.mainAxis,C=s.reference[p]+s.reference[S]-v.mainAxis;m<M?m=M:m>C&&(m=C)}if(c){var g,w;const S=p==="y"?"width":"height",M=n4.has(Sa(i)),C=s.reference[f]-s.floating[S]+(M&&((g=o.offset)==null?void 0:g[f])||0)+(M?0:v.crossAxis),P=s.reference[f]+s.reference[S]+(M?0:((w=o.offset)==null?void 0:w[f])||0)-(M?v.crossAxis:0);y<C?y=C:y>P&&(y=P)}return{[p]:m,[f]:y}}}},KX=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=wa(t,e),u=await sm(e,c),f=Sa(i),p=Yf(i),m=To(i)==="y",{width:y,height:x}=s.floating;let v,g;f==="top"||f==="bottom"?(v=f,g=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(g=f,v=p==="end"?"top":"bottom");const w=x-u.top-u.bottom,S=y-u.left-u.right,M=Nl(x-u[v],w),C=Nl(y-u[g],S),P=!e.middlewareData.shift;let I=M,O=C;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(O=S),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),P&&!p){const k=$i(u.left,0),V=$i(u.right,0),W=$i(u.top,0),Q=$i(u.bottom,0);m?O=y-2*(k!==0||V!==0?k+V:$i(u.left,u.right)):I=x-2*(W!==0||Q!==0?W+Q:$i(u.top,u.bottom))}await l({...e,availableWidth:O,availableHeight:I});const N=await o.getDimensions(a.floating);return y!==N.width||x!==N.height?{reset:{rects:!0}}:{}}}};function o_(){return typeof window<"u"}function Kf(t){return r4(t)?(t.nodeName||"").toLowerCase():"#document"}function Ki(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function zo(t){var e;return(e=(r4(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function r4(t){return o_()?t instanceof Node||t instanceof Ki(t).Node:!1}function Qs(t){return o_()?t instanceof Element||t instanceof Ki(t).Element:!1}function Fo(t){return o_()?t instanceof HTMLElement||t instanceof Ki(t).HTMLElement:!1}function HN(t){return!o_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ki(t).ShadowRoot}const ZX=new Set(["inline","contents"]);function Zm(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=eo(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!ZX.has(i)}const JX=new Set(["table","td","th"]);function QX(t){return JX.has(Kf(t))}const eq=[":popover-open",":modal"];function a_(t){return eq.some(e=>{try{return t.matches(e)}catch{return!1}})}const tq=["transform","translate","scale","rotate","perspective"],nq=["transform","translate","scale","rotate","perspective","filter"],rq=["paint","layout","strict","content"];function SA(t){const e=bA(),n=Qs(t)?eo(t):t;return tq.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||nq.some(r=>(n.willChange||"").includes(r))||rq.some(r=>(n.contain||"").includes(r))}function iq(t){let e=Il(t);for(;Fo(e)&&!Af(e);){if(SA(e))return e;if(a_(e))return null;e=Il(e)}return null}function bA(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const sq=new Set(["html","body","#document"]);function Af(t){return sq.has(Kf(t))}function eo(t){return Ki(t).getComputedStyle(t)}function l_(t){return Qs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Il(t){if(Kf(t)==="html")return t;const e=t.assignedSlot||t.parentNode||HN(t)&&t.host||zo(t);return HN(e)?e.host:e}function i4(t){const e=Il(t);return Af(e)?t.ownerDocument?t.ownerDocument.body:t.body:Fo(e)&&Zm(e)?e:i4(e)}function om(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=i4(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Ki(i);if(s){const a=RE(o);return e.concat(o,o.visualViewport||[],Zm(i)?i:[],a&&n?om(a):[])}return e.concat(i,om(i,[],n))}function RE(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function s4(t){const e=eo(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Fo(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=Q0(n)!==s||Q0(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function EA(t){return Qs(t)?t:t.contextElement}function sf(t){const e=EA(t);if(!Fo(e))return Po(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=s4(e);let o=(s?Q0(n.width):n.width)/r,a=(s?Q0(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oq=Po(0);function o4(t){const e=Ki(t);return!bA()||!e.visualViewport?oq:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aq(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Ki(t)?!1:e}function lu(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=EA(t);let o=Po(1);e&&(r?Qs(r)&&(o=sf(r)):o=sf(t));const a=aq(s,n,r)?o4(s):Po(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const p=Ki(s),m=r&&Qs(r)?Ki(r):r;let y=p,x=RE(y);for(;x&&r&&m!==y;){const v=sf(x),g=x.getBoundingClientRect(),w=eo(x),S=g.left+(x.clientLeft+parseFloat(w.paddingLeft))*v.x,M=g.top+(x.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,f*=v.y,l+=S,c+=M,y=Ki(x),x=RE(y)}}return tx({width:u,height:f,x:l,y:c})}function MA(t,e){const n=l_(t).scrollLeft;return e?e.left+n:lu(zo(t)).left+n}function a4(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:MA(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function lq(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=zo(r),a=e?a_(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Po(1);const u=Po(0),f=Fo(r);if((f||!f&&!s)&&((Kf(r)!=="body"||Zm(o))&&(l=l_(r)),Fo(r))){const m=lu(r);c=sf(r),u.x=m.x+r.clientLeft,u.y=m.y+r.clientTop}const p=o&&!f&&!s?a4(o,l,!0):Po(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+p.x,y:n.y*c.y-l.scrollTop*c.y+u.y+p.y}}function cq(t){return Array.from(t.getClientRects())}function uq(t){const e=zo(t),n=l_(t),r=t.ownerDocument.body,i=$i(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=$i(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+MA(t);const a=-n.scrollTop;return eo(r).direction==="rtl"&&(o+=$i(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function dq(t,e){const n=Ki(t),r=zo(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=bA();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}const fq=new Set(["absolute","fixed"]);function hq(t,e){const n=lu(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Fo(t)?sf(t):Po(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function WN(t,e,n){let r;if(e==="viewport")r=dq(t,n);else if(e==="document")r=uq(zo(t));else if(Qs(e))r=hq(e,n);else{const i=o4(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return tx(r)}function l4(t,e){const n=Il(t);return n===e||!Qs(n)||Af(n)?!1:eo(n).position==="fixed"||l4(n,e)}function pq(t,e){const n=e.get(t);if(n)return n;let r=om(t,[],!1).filter(a=>Qs(a)&&Kf(a)!=="body"),i=null;const s=eo(t).position==="fixed";let o=s?Il(t):t;for(;Qs(o)&&!Af(o);){const a=eo(o),l=SA(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&fq.has(i.position)||Zm(o)&&!l&&l4(t,o))?r=r.filter(u=>u!==o):i=a,o=Il(o)}return e.set(t,r),r}function mq(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?a_(e)?[]:pq(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=WN(e,u,i);return c.top=$i(f.top,c.top),c.right=Nl(f.right,c.right),c.bottom=Nl(f.bottom,c.bottom),c.left=$i(f.left,c.left),c},WN(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function gq(t){const{width:e,height:n}=s4(t);return{width:e,height:n}}function yq(t,e,n){const r=Fo(e),i=zo(e),s=n==="fixed",o=lu(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Po(0);function c(){l.x=MA(i)}if(r||!r&&!s)if((Kf(e)!=="body"||Zm(i))&&(a=l_(e)),r){const m=lu(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?a4(i,a):Po(0),f=o.left+a.scrollLeft-l.x-u.x,p=o.top+a.scrollTop-l.y-u.y;return{x:f,y:p,width:o.width,height:o.height}}function Y1(t){return eo(t).position==="static"}function GN(t,e){if(!Fo(t)||eo(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return zo(t)===n&&(n=n.ownerDocument.body),n}function c4(t,e){const n=Ki(t);if(a_(t))return n;if(!Fo(t)){let i=Il(t);for(;i&&!Af(i);){if(Qs(i)&&!Y1(i))return i;i=Il(i)}return n}let r=GN(t,e);for(;r&&QX(r)&&Y1(r);)r=GN(r,e);return r&&Af(r)&&Y1(r)&&!SA(r)?n:r||iq(t)||n}const vq=async function(t){const e=this.getOffsetParent||c4,n=this.getDimensions,r=await n(t.floating);return{reference:yq(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function xq(t){return eo(t).direction==="rtl"}const _q={convertOffsetParentRelativeRectToViewportRelativeRect:lq,getDocumentElement:zo,getClippingRect:mq,getOffsetParent:c4,getElementRects:vq,getClientRects:cq,getDimensions:gq,getScale:sf,isElement:Qs,isRTL:xq};function u4(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wq(t,e){let n=null,r;const i=zo(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:f,width:p,height:m}=c;if(a||e(),!p||!m)return;const y=Hy(f),x=Hy(i.clientWidth-(u+p)),v=Hy(i.clientHeight-(f+m)),g=Hy(u),S={rootMargin:-y+"px "+-x+"px "+-v+"px "+-g+"px",threshold:$i(0,Nl(1,l))||1};let M=!0;function C(P){const I=P[0].intersectionRatio;if(I!==l){if(!M)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!u4(c,t.getBoundingClientRect())&&o(),M=!1}try{n=new IntersectionObserver(C,{...S,root:i.ownerDocument})}catch{n=new IntersectionObserver(C,S)}n.observe(t)}return o(!0),s}function Sq(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=EA(t),u=i||s?[...c?om(c):[],...om(e)]:[];u.forEach(g=>{i&&g.addEventListener("scroll",n,{passive:!0}),s&&g.addEventListener("resize",n)});const f=c&&a?wq(c,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(g=>{let[w]=g;w&&w.target===c&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=m)==null||S.observe(e)})),n()}),c&&!l&&m.observe(c),m.observe(e));let y,x=l?lu(t):null;l&&v();function v(){const g=lu(t);x&&!u4(x,g)&&n(),x=g,y=requestAnimationFrame(v)}return n(),()=>{var g;u.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),f==null||f(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(y)}}const bq=XX,Eq=qX,Mq=WX,Tq=KX,Aq=GX,$N=HX,Cq=YX,Rq=(t,e,n)=>{const r=new Map,i={platform:_q,...n},s={...i.platform,_c:r};return jX(t,e,{...i,platform:s})};var Pq=typeof document<"u",Nq=function(){},u0=Pq?T.useLayoutEffect:Nq;function nx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!nx(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!nx(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function d4(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function XN(t,e){const n=d4(t);return Math.round(e*n)/n}function K1(t){const e=T.useRef(t);return u0(()=>{e.current=t}),e}function Iq(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=T.useState(r);nx(p,r)||m(r);const[y,x]=T.useState(null),[v,g]=T.useState(null),w=T.useCallback(D=>{D!==P.current&&(P.current=D,x(D))},[]),S=T.useCallback(D=>{D!==I.current&&(I.current=D,g(D))},[]),M=s||y,C=o||v,P=T.useRef(null),I=T.useRef(null),O=T.useRef(u),N=l!=null,k=K1(l),V=K1(i),W=K1(c),Q=T.useCallback(()=>{if(!P.current||!I.current)return;const D={placement:e,strategy:n,middleware:p};V.current&&(D.platform=V.current),Rq(P.current,I.current,D).then(F=>{const j={...F,isPositioned:W.current!==!1};U.current&&!nx(O.current,j)&&(O.current=j,_u.flushSync(()=>{f(j)}))})},[p,e,n,V,W]);u0(()=>{c===!1&&O.current.isPositioned&&(O.current.isPositioned=!1,f(D=>({...D,isPositioned:!1})))},[c]);const U=T.useRef(!1);u0(()=>(U.current=!0,()=>{U.current=!1}),[]),u0(()=>{if(M&&(P.current=M),C&&(I.current=C),M&&C){if(k.current)return k.current(M,C,Q);Q()}},[M,C,Q,k,N]);const Y=T.useMemo(()=>({reference:P,floating:I,setReference:w,setFloating:S}),[w,S]),q=T.useMemo(()=>({reference:M,floating:C}),[M,C]),te=T.useMemo(()=>{const D={position:n,left:0,top:0};if(!q.floating)return D;const F=XN(q.floating,u.x),j=XN(q.floating,u.y);return a?{...D,transform:"translate("+F+"px, "+j+"px)",...d4(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:F,top:j}},[n,a,q.floating,u.x,u.y]);return T.useMemo(()=>({...u,update:Q,refs:Y,elements:q,floatingStyles:te}),[u,Q,Y,q,te])}const Lq=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?$N({element:r.current,padding:i}).fn(n):{}:r?$N({element:r,padding:i}).fn(n):{}}}},kq=(t,e)=>({...bq(t),options:[t,e]}),Dq=(t,e)=>({...Eq(t),options:[t,e]}),Oq=(t,e)=>({...Cq(t),options:[t,e]}),Fq=(t,e)=>({...Mq(t),options:[t,e]}),Uq=(t,e)=>({...Tq(t),options:[t,e]}),Bq=(t,e)=>({...Aq(t),options:[t,e]}),zq=(t,e)=>({...Lq(t),options:[t,e]});var Vq="Arrow",f4=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return _.jsx($t.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});f4.displayName=Vq;var jq=f4;function Hq(t){const[e,n]=T.useState(void 0);return Lr(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var TA="Popper",[h4,Zf]=Gl(TA),[Wq,p4]=h4(TA),m4=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return _.jsx(Wq,{scope:e,anchor:r,onAnchorChange:i,children:n})};m4.displayName=TA;var g4="PopperAnchor",y4=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=p4(g4,n),o=T.useRef(null),a=pn(e,o);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:_.jsx($t.div,{...i,ref:a})});y4.displayName=g4;var AA="PopperContent",[Gq,$q]=h4(AA),v4=T.forwardRef((t,e)=>{var ce,Oe,Be,Re,Le,X;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:y,...x}=t,v=p4(AA,n),[g,w]=T.useState(null),S=pn(e,Ee=>w(Ee)),[M,C]=T.useState(null),P=Hq(M),I=(P==null?void 0:P.width)??0,O=(P==null?void 0:P.height)??0,N=r+(s!=="center"?"-"+s:""),k=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},V=Array.isArray(c)?c:[c],W=V.length>0,Q={padding:k,boundary:V.filter(qq),altBoundary:W},{refs:U,floatingStyles:Y,placement:q,isPositioned:te,middlewareData:D}=Iq({strategy:"fixed",placement:N,whileElementsMounted:(...Ee)=>Sq(...Ee,{animationFrame:m==="always"}),elements:{reference:v.anchor},middleware:[kq({mainAxis:i+O,alignmentAxis:o}),l&&Dq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?Oq():void 0,...Q}),l&&Fq({...Q}),Uq({...Q,apply:({elements:Ee,rects:ve,availableWidth:Pe,availableHeight:we})=>{const{width:Je,height:He}=ve.reference,z=Ee.floating.style;z.setProperty("--radix-popper-available-width",`${Pe}px`),z.setProperty("--radix-popper-available-height",`${we}px`),z.setProperty("--radix-popper-anchor-width",`${Je}px`),z.setProperty("--radix-popper-anchor-height",`${He}px`)}}),M&&zq({element:M,padding:a}),Yq({arrowWidth:I,arrowHeight:O}),p&&Bq({strategy:"referenceHidden",...Q})]}),[F,j]=w4(q),K=ki(y);Lr(()=>{te&&(K==null||K())},[te,K]);const ee=(ce=D.arrow)==null?void 0:ce.x,J=(Oe=D.arrow)==null?void 0:Oe.y,ae=((Be=D.arrow)==null?void 0:Be.centerOffset)!==0,[Se,Ae]=T.useState();return Lr(()=>{g&&Ae(window.getComputedStyle(g).zIndex)},[g]),_.jsx("div",{ref:U.setFloating,"data-radix-popper-content-wrapper":"",style:{...Y,transform:te?Y.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Se,"--radix-popper-transform-origin":[(Re=D.transformOrigin)==null?void 0:Re.x,(Le=D.transformOrigin)==null?void 0:Le.y].join(" "),...((X=D.hide)==null?void 0:X.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(Gq,{scope:n,placedSide:F,onArrowChange:C,arrowX:ee,arrowY:J,shouldHideArrow:ae,children:_.jsx($t.div,{"data-side":F,"data-align":j,...x,ref:S,style:{...x.style,animation:te?void 0:"none"}})})})});v4.displayName=AA;var x4="PopperArrow",Xq={top:"bottom",right:"left",bottom:"top",left:"right"},_4=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=$q(x4,r),o=Xq[s.placedSide];return _.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:_.jsx(jq,{...i,ref:n,style:{...i.style,display:"block"}})})});_4.displayName=x4;function qq(t){return t!==null}var Yq=t=>({name:"transformOrigin",options:t,fn(e){var v,g,w;const{placement:n,rects:r,middlewareData:i}=e,o=((v=i.arrow)==null?void 0:v.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=w4(n),f={start:"0%",center:"50%",end:"100%"}[u],p=(((g=i.arrow)==null?void 0:g.x)??0)+a/2,m=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let y="",x="";return c==="bottom"?(y=o?f:`${p}px`,x=`${-l}px`):c==="top"?(y=o?f:`${p}px`,x=`${r.floating.height+l}px`):c==="right"?(y=`${-l}px`,x=o?f:`${m}px`):c==="left"&&(y=`${r.floating.width+l}px`,x=o?f:`${m}px`),{data:{x:y,y:x}}}});function w4(t){const[e,n="center"]=t.split("-");return[e,n]}var S4=m4,CA=y4,RA=v4,PA=_4,[c_,eye]=Gl("Tooltip",[Zf]),NA=Zf(),b4="TooltipProvider",Kq=700,qN="tooltip.open",[Zq,E4]=c_(b4),M4=t=>{const{__scopeTooltip:e,delayDuration:n=Kq,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=T.useRef(!0),a=T.useRef(!1),l=T.useRef(0);return T.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),_.jsx(Zq,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:T.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};M4.displayName=b4;var T4="Tooltip",[tye,u_]=c_(T4),PE="TooltipTrigger",Jq=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=u_(PE,n),s=E4(PE,n),o=NA(n),a=T.useRef(null),l=pn(e,a,i.onTriggerChange),c=T.useRef(!1),u=T.useRef(!1),f=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),_.jsx(CA,{asChild:!0,...o,children:_.jsx($t.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:Ze(t.onPointerMove,p=>{p.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:Ze(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:Ze(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Ze(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:Ze(t.onBlur,i.onClose),onClick:Ze(t.onClick,i.onClose)})})});Jq.displayName=PE;var Qq="TooltipPortal",[nye,eY]=c_(Qq,{forceMount:void 0}),Cf="TooltipContent",A4=T.forwardRef((t,e)=>{const n=eY(Cf,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=u_(Cf,t.__scopeTooltip);return _.jsx(wu,{present:r||o.open,children:o.disableHoverableContent?_.jsx(C4,{side:i,...s,ref:e}):_.jsx(tY,{side:i,...s,ref:e})})}),tY=T.forwardRef((t,e)=>{const n=u_(Cf,t.__scopeTooltip),r=E4(Cf,t.__scopeTooltip),i=T.useRef(null),s=pn(e,i),[o,a]=T.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,p=T.useCallback(()=>{a(null),f(!1)},[f]),m=T.useCallback((y,x)=>{const v=y.currentTarget,g={x:y.clientX,y:y.clientY},w=oY(g,v.getBoundingClientRect()),S=aY(g,w),M=lY(x.getBoundingClientRect()),C=uY([...S,...M]);a(C),f(!0)},[f]);return T.useEffect(()=>()=>p(),[p]),T.useEffect(()=>{if(l&&u){const y=v=>m(v,u),x=v=>m(v,l);return l.addEventListener("pointerleave",y),u.addEventListener("pointerleave",x),()=>{l.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",x)}}},[l,u,m,p]),T.useEffect(()=>{if(o){const y=x=>{const v=x.target,g={x:x.clientX,y:x.clientY},w=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),S=!cY(g,o);w?p():S&&(p(),c())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[l,u,o,c,p]),_.jsx(C4,{...t,ref:s})}),[nY,rY]=c_(T4,{isInside:!1}),iY=X9("TooltipContent"),C4=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=u_(Cf,n),c=NA(n),{onClose:u}=l;return T.useEffect(()=>(document.addEventListener(qN,u),()=>document.removeEventListener(qN,u)),[u]),T.useEffect(()=>{if(l.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),_.jsx(Xm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:_.jsxs(RA,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(iY,{children:r}),_.jsx(nY,{scope:n,isInside:!0,children:_.jsx(n$,{id:l.contentId,role:"tooltip",children:i||r})})]})})});A4.displayName=Cf;var R4="TooltipArrow",sY=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=NA(n);return rY(R4,n).isInside?null:_.jsx(PA,{...i,...r,ref:e})});sY.displayName=R4;function oY(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function aY(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function lY(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function cY(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,f=l.x,p=l.y;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function uY(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),dY(e)}function dY(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var fY=M4,P4=A4;const hY=fY,pY=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(P4,{ref:r,sideOffset:e,className:qt("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));pY.displayName=P4.displayName;var d_=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},f_=typeof window>"u"||"Deno"in globalThis;function Fs(){}function mY(t,e){return typeof t=="function"?t(e):t}function gY(t){return typeof t=="number"&&t>=0&&t!==1/0}function yY(t,e){return Math.max(t+(e||0)-Date.now(),0)}function NE(t,e){return typeof t=="function"?t(e):t}function vY(t,e){return typeof t=="function"?t(e):t}function YN(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==IA(o,e.options))return!1}else if(!lm(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function KN(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(am(e.options.mutationKey)!==am(s))return!1}else if(!lm(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function IA(t,e){return((e==null?void 0:e.queryKeyHashFn)||am)(t)}function am(t){return JSON.stringify(t,(e,n)=>IE(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function lm(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>lm(t[n],e[n])):!1}function N4(t,e){if(t===e)return t;const n=ZN(t)&&ZN(e);if(n||IE(t)&&IE(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<o;u++){const f=n?u:s[u];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,c++):(a[f]=N4(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&c++)}return i===o&&c===i?t:a}return e}function ZN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function IE(t){if(!JN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!JN(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JN(t){return Object.prototype.toString.call(t)==="[object Object]"}function xY(t){return new Promise(e=>{setTimeout(e,t)})}function _Y(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?N4(t,e):e}function wY(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function SY(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var LA=Symbol();function I4(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===LA?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var jc,al,cf,A3,bY=(A3=class extends d_{constructor(){super();nn(this,jc);nn(this,al);nn(this,cf);kt(this,cf,e=>{if(!f_&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){be(this,al)||this.setEventListener(be(this,cf))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,al))==null||e.call(this),kt(this,al,void 0))}setEventListener(e){var n;kt(this,cf,e),(n=be(this,al))==null||n.call(this),kt(this,al,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){be(this,jc)!==e&&(kt(this,jc,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof be(this,jc)=="boolean"?be(this,jc):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},jc=new WeakMap,al=new WeakMap,cf=new WeakMap,A3),L4=new bY,uf,ll,df,C3,EY=(C3=class extends d_{constructor(){super();nn(this,uf,!0);nn(this,ll);nn(this,df);kt(this,df,e=>{if(!f_&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){be(this,ll)||this.setEventListener(be(this,df))}onUnsubscribe(){var e;this.hasListeners()||((e=be(this,ll))==null||e.call(this),kt(this,ll,void 0))}setEventListener(e){var n;kt(this,df,e),(n=be(this,ll))==null||n.call(this),kt(this,ll,e(this.setOnline.bind(this)))}setOnline(e){be(this,uf)!==e&&(kt(this,uf,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return be(this,uf)}},uf=new WeakMap,ll=new WeakMap,df=new WeakMap,C3),rx=new EY;function MY(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function TY(t){return Math.min(1e3*2**t,3e4)}function k4(t){return(t??"online")==="online"?rx.isOnline():!0}var D4=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Z1(t){return t instanceof D4}function O4(t){let e=!1,n=0,r=!1,i;const s=MY(),o=x=>{var v;r||(p(new D4(x)),(v=t.abort)==null||v.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>L4.isFocused()&&(t.networkMode==="always"||rx.isOnline())&&t.canRun(),u=()=>k4(t.networkMode)&&t.canRun(),f=x=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,x),i==null||i(),s.resolve(x))},p=x=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,x),i==null||i(),s.reject(x))},m=()=>new Promise(x=>{var v;i=g=>{(r||c())&&x(g)},(v=t.onPause)==null||v.call(t)}).then(()=>{var x;i=void 0,r||(x=t.onContinue)==null||x.call(t)}),y=()=>{if(r)return;let x;const v=n===0?t.initialPromise:void 0;try{x=v??t.fn()}catch(g){x=Promise.reject(g)}Promise.resolve(x).then(f).catch(g=>{var P;if(r)return;const w=t.retry??(f_?0:3),S=t.retryDelay??TY,M=typeof S=="function"?S(n,g):S,C=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,g);if(e||!C){p(g);return}n++,(P=t.onFail)==null||P.call(t,n,g),xY(M).then(()=>c()?void 0:m()).then(()=>{e?p(g):y()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?y():m().then(y),s)}}var AY=t=>setTimeout(t,0);function CY(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=AY;const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var si=CY(),Hc,R3,F4=(R3=class{constructor(){nn(this,Hc)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gY(this.gcTime)&&kt(this,Hc,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(f_?1/0:5*60*1e3))}clearGcTimeout(){be(this,Hc)&&(clearTimeout(be(this,Hc)),kt(this,Hc,void 0))}},Hc=new WeakMap,R3),ff,Wc,ms,Gc,Wr,zm,$c,zs,na,P3,RY=(P3=class extends F4{constructor(e){super();nn(this,zs);nn(this,ff);nn(this,Wc);nn(this,ms);nn(this,Gc);nn(this,Wr);nn(this,zm);nn(this,$c);kt(this,$c,!1),kt(this,zm,e.defaultOptions),this.setOptions(e.options),this.observers=[],kt(this,Gc,e.client),kt(this,ms,be(this,Gc).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,kt(this,ff,NY(this.options)),this.state=e.state??be(this,ff),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=be(this,Wr))==null?void 0:e.promise}setOptions(e){this.options={...be(this,zm),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&be(this,ms).remove(this)}setData(e,n){const r=_Y(this.state.data,e,this.options);return Ur(this,zs,na).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Ur(this,zs,na).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=be(this,Wr))==null?void 0:r.promise;return(i=be(this,Wr))==null||i.cancel(e),n?n.then(Fs).catch(Fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(be(this,ff))}isActive(){return this.observers.some(e=>vY(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===LA||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>NE(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!yY(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,Wr))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=be(this,Wr))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),be(this,ms).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(be(this,Wr)&&(be(this,$c)?be(this,Wr).cancel({revert:!0}):be(this,Wr).cancelRetry()),this.scheduleGc()),be(this,ms).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ur(this,zs,na).call(this,{type:"invalidate"})}fetch(e,n){var c,u,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(be(this,Wr))return be(this,Wr).continueRetry(),be(this,Wr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const p=this.observers.find(m=>m.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(kt(this,$c,!0),r.signal)})},s=()=>{const p=I4(this.options,n),y=(()=>{const x={client:be(this,Gc),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return kt(this,$c,!1),this.options.persister?this.options.persister(p,y,this):p(y)},a=(()=>{const p={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:be(this,Gc),state:this.state,fetchFn:s};return i(p),p})();(c=this.options.behavior)==null||c.onFetch(a,this),kt(this,Wc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=a.fetchOptions)==null?void 0:u.meta))&&Ur(this,zs,na).call(this,{type:"fetch",meta:(f=a.fetchOptions)==null?void 0:f.meta});const l=p=>{var m,y,x,v;Z1(p)&&p.silent||Ur(this,zs,na).call(this,{type:"error",error:p}),Z1(p)||((y=(m=be(this,ms).config).onError)==null||y.call(m,p,this),(v=(x=be(this,ms).config).onSettled)==null||v.call(x,this.state.data,p,this)),this.scheduleGc()};return kt(this,Wr,O4({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var m,y,x,v;if(p===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(g){l(g);return}(y=(m=be(this,ms).config).onSuccess)==null||y.call(m,p,this),(v=(x=be(this,ms).config).onSettled)==null||v.call(x,p,this.state.error,this),this.scheduleGc()},onError:l,onFail:(p,m)=>{Ur(this,zs,na).call(this,{type:"failed",failureCount:p,error:m})},onPause:()=>{Ur(this,zs,na).call(this,{type:"pause"})},onContinue:()=>{Ur(this,zs,na).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),be(this,Wr).start()}},ff=new WeakMap,Wc=new WeakMap,ms=new WeakMap,Gc=new WeakMap,Wr=new WeakMap,zm=new WeakMap,$c=new WeakMap,zs=new WeakSet,na=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...PY(r.data,this.options),fetchMeta:e.meta??null};case"success":return kt(this,Wc,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return Z1(i)&&i.revert&&be(this,Wc)?{...be(this,Wc),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),si.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),be(this,ms).notify({query:this,type:"updated",action:e})})},P3);function PY(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k4(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function NY(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var _o,N3,IY=(N3=class extends d_{constructor(e={}){super();nn(this,_o);this.config=e,kt(this,_o,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??IA(i,n);let o=this.get(s);return o||(o=new RY({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){be(this,_o).has(e.queryHash)||(be(this,_o).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=be(this,_o).get(e.queryHash);n&&(e.destroy(),n===e&&be(this,_o).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){si.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return be(this,_o).get(e)}getAll(){return[...be(this,_o).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>YN(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>YN(e,r)):n}notify(e){si.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){si.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){si.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},_o=new WeakMap,N3),wo,ni,Xc,So,Za,I3,LY=(I3=class extends F4{constructor(e){super();nn(this,So);nn(this,wo);nn(this,ni);nn(this,Xc);this.mutationId=e.mutationId,kt(this,ni,e.mutationCache),kt(this,wo,[]),this.state=e.state||kY(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){be(this,wo).includes(e)||(be(this,wo).push(e),this.clearGcTimeout(),be(this,ni).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){kt(this,wo,be(this,wo).filter(n=>n!==e)),this.scheduleGc(),be(this,ni).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){be(this,wo).length||(this.state.status==="pending"?this.scheduleGc():be(this,ni).remove(this))}continue(){var e;return((e=be(this,Xc))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,o,a,l,c,u,f,p,m,y,x,v,g,w,S,M,C,P,I,O;const n=()=>{Ur(this,So,Za).call(this,{type:"continue"})};kt(this,Xc,O4({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(N,k)=>{Ur(this,So,Za).call(this,{type:"failed",failureCount:N,error:k})},onPause:()=>{Ur(this,So,Za).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>be(this,ni).canRun(this)}));const r=this.state.status==="pending",i=!be(this,Xc).canStart();try{if(r)n();else{Ur(this,So,Za).call(this,{type:"pending",variables:e,isPaused:i}),await((o=(s=be(this,ni).config).onMutate)==null?void 0:o.call(s,e,this));const k=await((l=(a=this.options).onMutate)==null?void 0:l.call(a,e));k!==this.state.context&&Ur(this,So,Za).call(this,{type:"pending",context:k,variables:e,isPaused:i})}const N=await be(this,Xc).start();return await((u=(c=be(this,ni).config).onSuccess)==null?void 0:u.call(c,N,e,this.state.context,this)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,N,e,this.state.context)),await((y=(m=be(this,ni).config).onSettled)==null?void 0:y.call(m,N,null,this.state.variables,this.state.context,this)),await((v=(x=this.options).onSettled)==null?void 0:v.call(x,N,null,e,this.state.context)),Ur(this,So,Za).call(this,{type:"success",data:N}),N}catch(N){try{throw await((w=(g=be(this,ni).config).onError)==null?void 0:w.call(g,N,e,this.state.context,this)),await((M=(S=this.options).onError)==null?void 0:M.call(S,N,e,this.state.context)),await((P=(C=be(this,ni).config).onSettled)==null?void 0:P.call(C,void 0,N,this.state.variables,this.state.context,this)),await((O=(I=this.options).onSettled)==null?void 0:O.call(I,void 0,N,e,this.state.context)),N}finally{Ur(this,So,Za).call(this,{type:"error",error:N})}}finally{be(this,ni).runNext(this)}}},wo=new WeakMap,ni=new WeakMap,Xc=new WeakMap,So=new WeakSet,Za=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),si.batch(()=>{be(this,wo).forEach(r=>{r.onMutationUpdate(e)}),be(this,ni).notify({mutation:this,type:"updated",action:e})})},I3);function kY(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var sa,Vs,Vm,L3,DY=(L3=class extends d_{constructor(e={}){super();nn(this,sa);nn(this,Vs);nn(this,Vm);this.config=e,kt(this,sa,new Set),kt(this,Vs,new Map),kt(this,Vm,0)}build(e,n,r){const i=new LY({mutationCache:this,mutationId:++wy(this,Vm)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){be(this,sa).add(e);const n=Wy(e);if(typeof n=="string"){const r=be(this,Vs).get(n);r?r.push(e):be(this,Vs).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(be(this,sa).delete(e)){const n=Wy(e);if(typeof n=="string"){const r=be(this,Vs).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&be(this,Vs).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Wy(e);if(typeof n=="string"){const r=be(this,Vs).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=Wy(e);if(typeof n=="string"){const i=(r=be(this,Vs).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){si.batch(()=>{be(this,sa).forEach(e=>{this.notify({type:"removed",mutation:e})}),be(this,sa).clear(),be(this,Vs).clear()})}getAll(){return Array.from(be(this,sa))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>KN(n,r))}findAll(e={}){return this.getAll().filter(n=>KN(e,n))}notify(e){si.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return si.batch(()=>Promise.all(e.map(n=>n.continue().catch(Fs))))}},sa=new WeakMap,Vs=new WeakMap,Vm=new WeakMap,L3);function Wy(t){var e;return(e=t.options.scope)==null?void 0:e.id}function QN(t){return{onFetch:(e,n)=>{var u,f,p,m,y;const r=e.options,i=(p=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,s=((m=e.state.data)==null?void 0:m.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let x=!1;const v=S=>{Object.defineProperty(S,"signal",{enumerable:!0,get:()=>(e.signal.aborted?x=!0:e.signal.addEventListener("abort",()=>{x=!0}),e.signal)})},g=I4(e.options,e.fetchOptions),w=async(S,M,C)=>{if(x)return Promise.reject();if(M==null&&S.pages.length)return Promise.resolve(S);const I=(()=>{const V={client:e.client,queryKey:e.queryKey,pageParam:M,direction:C?"backward":"forward",meta:e.options.meta};return v(V),V})(),O=await g(I),{maxPages:N}=e.options,k=C?SY:wY;return{pages:k(S.pages,O,N),pageParams:k(S.pageParams,M,N)}};if(i&&s.length){const S=i==="backward",M=S?OY:eI,C={pages:s,pageParams:o},P=M(r,C);a=await w(C,P,S)}else{const S=t??s.length;do{const M=l===0?o[0]??r.initialPageParam:eI(r,a);if(l>0&&M==null)break;a=await w(a,M),l++}while(l<S)}return a};e.options.persister?e.fetchFn=()=>{var x,v;return(v=(x=e.options).persister)==null?void 0:v.call(x,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function eI(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function OY(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Vn,cl,ul,hf,pf,dl,mf,gf,k3,FY=(k3=class{constructor(t={}){nn(this,Vn);nn(this,cl);nn(this,ul);nn(this,hf);nn(this,pf);nn(this,dl);nn(this,mf);nn(this,gf);kt(this,Vn,t.queryCache||new IY),kt(this,cl,t.mutationCache||new DY),kt(this,ul,t.defaultOptions||{}),kt(this,hf,new Map),kt(this,pf,new Map),kt(this,dl,0)}mount(){wy(this,dl)._++,be(this,dl)===1&&(kt(this,mf,L4.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,Vn).onFocus())})),kt(this,gf,rx.subscribe(async t=>{t&&(await this.resumePausedMutations(),be(this,Vn).onOnline())})))}unmount(){var t,e;wy(this,dl)._--,be(this,dl)===0&&((t=be(this,mf))==null||t.call(this),kt(this,mf,void 0),(e=be(this,gf))==null||e.call(this),kt(this,gf,void 0))}isFetching(t){return be(this,Vn).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return be(this,cl).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,Vn).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=be(this,Vn).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(NE(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return be(this,Vn).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=be(this,Vn).get(r.queryHash),s=i==null?void 0:i.state.data,o=mY(e,s);if(o!==void 0)return be(this,Vn).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return si.batch(()=>be(this,Vn).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=be(this,Vn).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=be(this,Vn);si.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=be(this,Vn);return si.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=si.batch(()=>be(this,Vn).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Fs).catch(Fs)}invalidateQueries(t,e={}){return si.batch(()=>(be(this,Vn).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=si.batch(()=>be(this,Vn).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Fs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Fs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=be(this,Vn).build(this,e);return n.isStaleByTime(NE(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Fs).catch(Fs)}fetchInfiniteQuery(t){return t.behavior=QN(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Fs).catch(Fs)}ensureInfiniteQueryData(t){return t.behavior=QN(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return rx.isOnline()?be(this,cl).resumePausedMutations():Promise.resolve()}getQueryCache(){return be(this,Vn)}getMutationCache(){return be(this,cl)}getDefaultOptions(){return be(this,ul)}setDefaultOptions(t){kt(this,ul,t)}setQueryDefaults(t,e){be(this,hf).set(am(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...be(this,hf).values()],n={};return e.forEach(r=>{lm(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){be(this,pf).set(am(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...be(this,pf).values()],n={};return e.forEach(r=>{lm(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...be(this,ul).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=IA(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===LA&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...be(this,ul).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){be(this,Vn).clear(),be(this,cl).clear()}},Vn=new WeakMap,cl=new WeakMap,ul=new WeakMap,hf=new WeakMap,pf=new WeakMap,dl=new WeakMap,mf=new WeakMap,gf=new WeakMap,k3),UY=T.createContext(void 0),BY=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(UY.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cm(){return cm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cm.apply(this,arguments)}var pl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pl||(pl={}));const tI="popstate";function zY(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return LE("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ix(i)}return jY(e,n,null,t)}function Jn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function U4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VY(){return Math.random().toString(36).substr(2,8)}function nI(t,e){return{usr:t.state,key:t.key,idx:e}}function LE(t,e,n,r){return n===void 0&&(n=null),cm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Jf(e):e,{state:n,key:e&&e.key||r||VY()})}function ix(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Jf(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function jY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=pl.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(cm({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=pl.Pop;let v=u(),g=v==null?null:v-c;c=v,l&&l({action:a,location:x.location,delta:g})}function p(v,g){a=pl.Push;let w=LE(x.location,v,g);c=u()+1;let S=nI(w,c),M=x.createHref(w);try{o.pushState(S,"",M)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;i.location.assign(M)}s&&l&&l({action:a,location:x.location,delta:1})}function m(v,g){a=pl.Replace;let w=LE(x.location,v,g);c=u();let S=nI(w,c),M=x.createHref(w);o.replaceState(S,"",M),s&&l&&l({action:a,location:x.location,delta:0})}function y(v){let g=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:ix(v);return w=w.replace(/ $/,"%20"),Jn(g,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,g)}let x={get action(){return a},get location(){return t(i,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(tI,f),l=v,()=>{i.removeEventListener(tI,f),l=null}},createHref(v){return e(i,v)},createURL:y,encodeLocation(v){let g=y(v);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:p,replace:m,go(v){return o.go(v)}};return x}var rI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(rI||(rI={}));function HY(t,e,n){return n===void 0&&(n="/"),WY(t,e,n,!1)}function WY(t,e,n,r){let i=typeof e=="string"?Jf(e):e,s=kA(i.pathname||"/",n);if(s==null)return null;let o=B4(t);GY(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=nK(s);a=eK(o[l],c,r)}return a}function B4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Jn(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=El([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Jn(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),B4(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:JY(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of z4(s.path))i(s,o,l)}),e}function z4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=z4(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function GY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:QY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const $Y=/^:[\w-]+$/,XY=3,qY=2,YY=1,KY=10,ZY=-2,iI=t=>t==="*";function JY(t,e){let n=t.split("/"),r=n.length;return n.some(iI)&&(r+=ZY),e&&(r+=qY),n.filter(i=>!iI(i)).reduce((i,s)=>i+($Y.test(s)?XY:s===""?YY:KY),r)}function QY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function eK(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=sI({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),p=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=sI({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:El([s,f.pathname]),pathnameBase:oK(El([s,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(s=El([s,f.pathnameBase]))}return o}function sI(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=tK(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:p,isOptional:m}=u;if(p==="*"){let x=a[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[f];return m&&!y?c[p]=void 0:c[p]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function tK(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),U4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nK(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return U4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kA(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function rK(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Jf(t):t;return{pathname:n?n.startsWith("/")?n:iK(n,e):e,search:aK(r),hash:lK(i)}}function iK(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function J1(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sK(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DA(t,e){let n=sK(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function OA(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Jf(t):(i=cm({},t),Jn(!i.pathname||!i.pathname.includes("?"),J1("?","pathname","search",i)),Jn(!i.pathname||!i.pathname.includes("#"),J1("#","pathname","hash",i)),Jn(!i.search||!i.search.includes("#"),J1("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;i.pathname=p.join("/")}a=f>=0?e[f]:"/"}let l=rK(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const El=t=>t.join("/").replace(/\/\/+/g,"/"),oK=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aK=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,lK=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cK(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const V4=["post","put","patch","delete"];new Set(V4);const uK=["get",...V4];new Set(uK);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}const FA=T.createContext(null),dK=T.createContext(null),$l=T.createContext(null),h_=T.createContext(null),Ra=T.createContext({outlet:null,matches:[],isDataRoute:!1}),j4=T.createContext(null);function fK(t,e){let{relative:n}=e===void 0?{}:e;Qf()||Jn(!1);let{basename:r,navigator:i}=T.useContext($l),{hash:s,pathname:o,search:a}=W4(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:El([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Qf(){return T.useContext(h_)!=null}function Pa(){return Qf()||Jn(!1),T.useContext(h_).location}function H4(t){T.useContext($l).static||T.useLayoutEffect(t)}function p_(){let{isDataRoute:t}=T.useContext(Ra);return t?MK():hK()}function hK(){Qf()||Jn(!1);let t=T.useContext(FA),{basename:e,future:n,navigator:r}=T.useContext($l),{matches:i}=T.useContext(Ra),{pathname:s}=Pa(),o=JSON.stringify(DA(i,n.v7_relativeSplatPath)),a=T.useRef(!1);return H4(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=OA(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:El([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,s,t])}function UA(){let{matches:t}=T.useContext(Ra),e=t[t.length-1];return e?e.params:{}}function W4(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext($l),{matches:i}=T.useContext(Ra),{pathname:s}=Pa(),o=JSON.stringify(DA(i,r.v7_relativeSplatPath));return T.useMemo(()=>OA(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function pK(t,e){return mK(t,e)}function mK(t,e,n,r){Qf()||Jn(!1);let{navigator:i}=T.useContext($l),{matches:s}=T.useContext(Ra),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Pa(),u;if(e){var f;let v=typeof e=="string"?Jf(e):e;l==="/"||(f=v.pathname)!=null&&f.startsWith(l)||Jn(!1),u=v}else u=c;let p=u.pathname||"/",m=p;if(l!=="/"){let v=l.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(v.length).join("/")}let y=HY(t,{pathname:m}),x=_K(y&&y.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:El([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:El([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&x?T.createElement(h_.Provider,{value:{location:um({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:pl.Pop}},x):x}function gK(){let t=EK(),e=cK(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const yK=T.createElement(gK,null);class vK extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Ra.Provider,{value:this.props.routeContext},T.createElement(j4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xK(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(FA);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ra.Provider,{value:e},r)}function _K(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||Jn(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:p,errors:m}=n,y=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,p)=>{let m,y=!1,x=null,v=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,x=f.route.errorElement||yK,l&&(c<0&&p===0?(y=!0,v=null):c===p&&(y=!0,v=f.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,p+1)),w=()=>{let S;return m?S=x:y?S=v:f.route.Component?S=T.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=u,T.createElement(xK,{match:f,routeContext:{outlet:u,matches:g,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?T.createElement(vK,{location:n.location,revalidation:n.revalidation,component:x,error:m,children:w(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):w()},null)}var G4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(G4||{}),sx=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sx||{});function wK(t){let e=T.useContext(FA);return e||Jn(!1),e}function SK(t){let e=T.useContext(dK);return e||Jn(!1),e}function bK(t){let e=T.useContext(Ra);return e||Jn(!1),e}function $4(t){let e=bK(),n=e.matches[e.matches.length-1];return n.route.id||Jn(!1),n.route.id}function EK(){var t;let e=T.useContext(j4),n=SK(sx.UseRouteError),r=$4(sx.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function MK(){let{router:t}=wK(G4.UseNavigateStable),e=$4(sx.UseNavigateStable),n=T.useRef(!1);return H4(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,um({fromRouteId:e},s)))},[t,e])}function TK(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function X4(t){let{to:e,replace:n,state:r,relative:i}=t;Qf()||Jn(!1);let{future:s,static:o}=T.useContext($l),{matches:a}=T.useContext(Ra),{pathname:l}=Pa(),c=p_(),u=OA(e,DA(a,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Hi(t){Jn(!1)}function AK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=pl.Pop,navigator:s,static:o=!1,future:a}=t;Qf()&&Jn(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:o,future:um({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Jf(r));let{pathname:u="/",search:f="",hash:p="",state:m=null,key:y="default"}=r,x=T.useMemo(()=>{let v=kA(u,l);return v==null?null:{location:{pathname:v,search:f,hash:p,state:m,key:y},navigationType:i}},[l,u,f,p,m,y,i]);return x==null?null:T.createElement($l.Provider,{value:c},T.createElement(h_.Provider,{children:n,value:x}))}function CK(t){let{children:e,location:n}=t;return pK(kE(e),n)}new Promise(()=>{});function kE(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,kE(r.props.children,s));return}r.type!==Hi&&Jn(!1),!r.props.index||!r.props.children||Jn(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=kE(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function DE(){return DE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DE.apply(this,arguments)}function RK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function PK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function NK(t,e){return t.button===0&&(!e||e==="_self")&&!PK(t)}function OE(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function IK(t,e){let n=OE(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(s=>{n.append(i,s)})}),n}const LK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],kK="6";try{window.__reactRouterVersion=kK}catch{}const DK="startTransition",oI=wT[DK];function OK(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=zY({window:i,v5Compat:!0}));let o=s.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=T.useCallback(f=>{c&&oI?oI(()=>l(f)):l(f)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.useEffect(()=>TK(r),[r]),T.createElement(AK,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const FK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gn=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,p=RK(e,LK),{basename:m}=T.useContext($l),y,x=!1;if(typeof c=="string"&&UK.test(c)&&(y=c,FK))try{let S=new URL(window.location.href),M=c.startsWith("//")?new URL(S.protocol+c):new URL(c),C=kA(M.pathname,m);M.origin===S.origin&&C!=null?c=C+M.search+M.hash:x=!0}catch{}let v=fK(c,{relative:i}),g=BK(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(S){r&&r(S),S.defaultPrevented||g(S)}return T.createElement("a",DE({},p,{href:y||v,onClick:x||s?r:w,ref:n,target:l}))});var aI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(aI||(aI={}));var lI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lI||(lI={}));function BK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=p_(),c=Pa(),u=W4(t,{relative:o});return T.useCallback(f=>{if(NK(f,n)){f.preventDefault();let p=r!==void 0?r:ix(c)===ix(u);l(t,{replace:p,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}function q4(t){let e=T.useRef(OE(t)),n=T.useRef(!1),r=Pa(),i=T.useMemo(()=>IK(r.search,n.current?null:e.current),[r.search]),s=p_(),o=T.useCallback((a,l)=>{const c=OE(typeof a=="function"?a(i):a);n.current=!0,s("?"+c,l)},[s,i]);return[i,o]}const Y4=[{code:"en",name:"English",nativeName:"English",direction:"ltr"},{code:"ar",name:"Arabic",nativeName:"",direction:"rtl"},{code:"fr",name:"French",nativeName:"Franais",direction:"ltr"}],zK="en",cI={ar:{"nav.home":"","nav.search":"","nav.onThisDay":"   ","nav.articles":"","nav.about":" ","nav.privacy":" ","nav.contact":" ","hero.title":"EraTracker","hero.subtitle":"    ","hero.description":"        .        .","hero.searchPlaceholder":"   ...","hero.exploreButton":" ","hero.onThisDayButton":"   ","search.title":" ","search.year":"","search.yearPlaceholder":"  (: 1969)","search.month":"","search.monthPlaceholder":" ","search.day":"","search.dayPlaceholder":" ","search.category":"","search.categoryPlaceholder":" ","search.country":"","search.countryPlaceholder":" ","search.submit":"","search.random":" ","search.required":"  ","search.invalidYear":"  ","results.title":" ","results.found":"   {count} ","results.noResults":"    ","results.noResultsSuggestion":"       ","results.sortBy":" ","results.sortByDate":"","results.sortByImportance":"","results.loadMore":" ","event.sources":"","event.relatedEvents":"  ","event.share":"","event.backToResults":" ","event.readFullOnWikipedia":"    ","event.externalDisclaimer":"*        .","onThisDay.title":"   ","onThisDay.subtitle":"    {date}","onThisDay.selectDate":" ","articles.title":"","articles.readMore":" ","articles.readingTime":"{minutes}  ","articles.by":"","category.science":"","category.politics":"","category.war":"","category.culture":"","category.discovery":"","category.invention":"","category.natural_disaster":" ","category.medicine":"","category.space":"","category.religion":"","category.economics":"","category.sports":"","category.art":"","category.literature":"","month.1":"","month.2":"","month.3":"","month.4":"","month.5":"","month.6":"","month.7":"","month.8":"","month.9":"","month.10":"","month.11":"","month.12":"","common.loading":" ...","common.error":" ","common.retry":" ","common.viewAll":" ","common.learnMore":" ","theme.light":"","theme.dark":"","footer.rights":"  ","footer.description":"     ","about.title":" ","about.mission":"","about.missionText":"             .","contact.title":" ","contact.name":"","contact.email":" ","contact.message":"","contact.send":"","privacy.title":" "},en:{"nav.home":"Home","nav.search":"Search","nav.onThisDay":"On This Day","nav.articles":"Articles","nav.about":"About","nav.privacy":"Privacy Policy","nav.contact":"Contact","hero.title":"EraTracker","hero.subtitle":"Track history and science across time","hero.description":"Discover important historical and scientific events from around the world. A journey through time to understand how the past shaped our present.","hero.searchPlaceholder":"Search for historical events...","hero.exploreButton":"Explore Events","hero.onThisDayButton":"On This Day","search.title":"Advanced Search","search.year":"Year","search.yearPlaceholder":"Enter year (e.g., 1969)","search.month":"Month","search.monthPlaceholder":"Select month","search.day":"Day","search.dayPlaceholder":"Select day","search.category":"Category","search.categoryPlaceholder":"Select category","search.country":"Country","search.countryPlaceholder":"Select country","search.submit":"Search","search.random":"Random Search","search.required":"This field is required","search.invalidYear":"Invalid year","results.title":"Search Results","results.found":"Found {count} results","results.noResults":"No results found","results.noResultsSuggestion":"Try changing your search criteria or use random search","results.sortBy":"Sort by","results.sortByDate":"Date","results.sortByImportance":"Importance","results.loadMore":"Load More","event.sources":"Sources","event.relatedEvents":"Related Events","event.share":"Share","event.backToResults":"Back to Results","event.readFullOnWikipedia":"Read full article on Wikipedia","event.externalDisclaimer":"* You will be redirected to Wikipedia to read the full story.","onThisDay.title":"On This Day","onThisDay.subtitle":"Discover what happened on {date}","onThisDay.selectDate":"Select a date","articles.title":"Articles","articles.readMore":"Read More","articles.readingTime":"{minutes} min read","articles.by":"By","category.science":"Science","category.politics":"Politics","category.war":"War","category.culture":"Culture","category.discovery":"Discovery","category.invention":"Invention","category.natural_disaster":"Natural Disaster","category.medicine":"Medicine","category.space":"Space","category.religion":"Religion","category.economics":"Economics","category.sports":"Sports","category.art":"Art","category.literature":"Literature","month.1":"January","month.2":"February","month.3":"March","month.4":"April","month.5":"May","month.6":"June","month.7":"July","month.8":"August","month.9":"September","month.10":"October","month.11":"November","month.12":"December","common.loading":"Loading...","common.error":"An error occurred","common.retry":"Retry","common.viewAll":"View All","common.learnMore":"Learn More","theme.light":"Light","theme.dark":"Dark","footer.rights":"All rights reserved","footer.description":"A platform to explore history and science through time","about.title":"About Us","about.mission":"Our Mission","about.missionText":"We aim to make history and science accessible to everyone through an interactive, easy-to-use platform.","contact.title":"Contact Us","contact.name":"Name","contact.email":"Email","contact.message":"Message","contact.send":"Send","privacy.title":"Privacy Policy"},fr:{"nav.home":"Accueil","nav.search":"Recherche","nav.onThisDay":"Ce Jour-l","nav.articles":"Articles","nav.about":" Propos","nav.privacy":"Politique de Confidentialit","nav.contact":"Contact","hero.title":"EraTracker","hero.subtitle":"Suivez l'histoire et la science  travers le temps","hero.description":"Dcouvrez les vnements historiques et scientifiques importants du monde entier. Un voyage dans le temps pour comprendre comment le pass a faonn notre prsent.","hero.searchPlaceholder":"Rechercher des vnements historiques...","hero.exploreButton":"Explorer les vnements","hero.onThisDayButton":"Ce Jour-l","search.title":"Recherche Avance","search.year":"Anne","search.yearPlaceholder":"Entrer l'anne (ex: 1969)","search.month":"Mois","search.monthPlaceholder":"Slectionner le mois","search.day":"Jour","search.dayPlaceholder":"Slectionner le jour","search.category":"Catgorie","search.categoryPlaceholder":"Slectionner la catgorie","search.country":"Pays","search.countryPlaceholder":"Slectionner le pays","search.submit":"Rechercher","search.random":"Recherche Alatoire","search.required":"Ce champ est obligatoire","search.invalidYear":"Anne invalide","results.title":"Rsultats de Recherche","results.found":"{count} rsultats trouvs","results.noResults":"Aucun rsultat trouv","results.noResultsSuggestion":"Essayez de modifier vos critres de recherche ou utilisez la recherche alatoire","results.sortBy":"Trier par","results.sortByDate":"Date","results.sortByImportance":"Importance","results.loadMore":"Charger Plus","event.sources":"Sources","event.relatedEvents":"vnements Connexes","event.share":"Partager","event.backToResults":"Retour aux Rsultats","event.readFullOnWikipedia":"Lire l'article complet sur Wikipdia","event.externalDisclaimer":"* Vous serez redirig vers Wikipdia pour lire l'histoire complte.","onThisDay.title":"Ce Jour-l","onThisDay.subtitle":"Dcouvrez ce qui s'est pass le {date}","onThisDay.selectDate":"Slectionner une date","articles.title":"Articles","articles.readMore":"Lire la Suite","articles.readingTime":"{minutes} min de lecture","articles.by":"Par","category.science":"Science","category.politics":"Politique","category.war":"Guerre","category.culture":"Culture","category.discovery":"Dcouverte","category.invention":"Invention","category.natural_disaster":"Catastrophe Naturelle","category.medicine":"Mdecine","category.space":"Espace","category.religion":"Religion","category.economics":"conomie","category.sports":"Sports","category.art":"Art","category.literature":"Littrature","month.1":"Janvier","month.2":"Fvrier","month.3":"Mars","month.4":"Avril","month.5":"Mai","month.6":"Juin","month.7":"Juillet","month.8":"Aot","month.9":"Septembre","month.10":"Octobre","month.11":"Novembre","month.12":"Dcembre","common.loading":"Chargement...","common.error":"Une erreur est survenue","common.retry":"Ressayer","common.viewAll":"Voir Tout","common.learnMore":"En Savoir Plus","theme.light":"Clair","theme.dark":"Sombre","footer.rights":"Tous droits rservs","footer.description":"Une plateforme pour explorer l'histoire et la science  travers le temps","about.title":" Propos","about.mission":"Notre Mission","about.missionText":"Nous visons  rendre l'histoire et la science accessibles  tous grce  une plateforme interactive et facile  utiliser.","contact.title":"Contactez-nous","contact.name":"Nom","contact.email":"Email","contact.message":"Message","contact.send":"Envoyer","privacy.title":"Politique de Confidentialit"}};function VK(t){var e;return((e=Y4.find(n=>n.code===t))==null?void 0:e.direction)||"ltr"}const K4=T.createContext(void 0),uI="erastracker-locale",dI="erastracker-theme",fI="erastracker-accent";function jK({children:t}){const[e,n]=T.useState(()=>localStorage.getItem(uI)||zK),[r,i]=T.useState(()=>{const m=localStorage.getItem(dI);return m||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}),[s,o]=T.useState(()=>localStorage.getItem(fI)||"38 92% 50%"),a=VK(e);T.useEffect(()=>{document.documentElement.dir=a,document.documentElement.lang=e},[e,a]),T.useEffect(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(r)},[r]),T.useEffect(()=>{document.documentElement.style.setProperty("--primary",s),document.documentElement.style.setProperty("--accent",s),document.documentElement.style.setProperty("--ring",s)},[s]);const l=m=>{n(m),localStorage.setItem(uI,m)},c=m=>{i(m),localStorage.setItem(dI,m)},u=()=>{c(r==="light"?"dark":"light")},f=m=>{o(m),localStorage.setItem(fI,m)},p=(m,y)=>{const x=cI[e],v=cI.en;let g=(x==null?void 0:x[m])||v[m]||m;return y&&Object.entries(y).forEach(([w,S])=>{g=g.replace(`{${w}}`,String(S))}),g};return _.jsx(K4.Provider,{value:{locale:e,setLocale:l,direction:a,t:p,theme:r,setTheme:c,toggleTheme:u,accentColor:s,setAccentColor:f},children:t})}function Tn(){const t=T.useContext(K4);if(!t)throw new Error("useApp must be used within an AppProvider");return t}const BA=T.createContext({});function zA(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const Z4=typeof window<"u",J4=Z4?T.useLayoutEffect:T.useEffect,m_=T.createContext(null);function VA(t,e){t.indexOf(e)===-1&&t.push(e)}function jA(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Uo=(t,e,n)=>n>e?e:n<t?t:n;let g_=()=>{},Rf=()=>{};const ba={},Q4=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function eB(t){return typeof t=="object"&&t!==null}const tB=t=>/^0[^.\s]+$/u.test(t);function HA(t){let e;return()=>(e===void 0&&(e=t()),e)}const ws=t=>t,HK=(t,e)=>n=>e(t(n)),Jm=(...t)=>t.reduce(HK),dm=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class WA{constructor(){this.subscriptions=[]}add(e){return VA(this.subscriptions,e),()=>jA(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const No=t=>t*1e3,xs=t=>t/1e3;function nB(t,e){return e?t*(1e3/e):0}const rB=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,WK=1e-7,GK=12;function $K(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=rB(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>WK&&++a<GK);return o}function Qm(t,e,n,r){if(t===e&&n===r)return ws;const i=s=>$K(s,0,1,t,n);return s=>s===0||s===1?s:rB(i(s),e,r)}const iB=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,sB=t=>e=>1-t(1-e),oB=Qm(.33,1.53,.69,.99),GA=sB(oB),aB=iB(GA),lB=t=>(t*=2)<1?.5*GA(t):.5*(2-Math.pow(2,-10*(t-1))),$A=t=>1-Math.sin(Math.acos(t)),cB=sB($A),uB=iB($A),XK=Qm(.42,0,1,1),qK=Qm(0,0,.58,1),dB=Qm(.42,0,.58,1),YK=t=>Array.isArray(t)&&typeof t[0]!="number",fB=t=>Array.isArray(t)&&typeof t[0]=="number",hI={linear:ws,easeIn:XK,easeInOut:dB,easeOut:qK,circIn:$A,circInOut:uB,circOut:cB,backIn:GA,backInOut:aB,backOut:oB,anticipate:lB},KK=t=>typeof t=="string",pI=t=>{if(fB(t)){Rf(t.length===4,"Cubic bezier arrays must contain four numerical values.","cubic-bezier-length");const[e,n,r,i]=t;return Qm(e,n,r,i)}else if(KK(t))return Rf(hI[t]!==void 0,`Invalid easing type '${t}'`,"invalid-easing-type"),hI[t];return t},Gy=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],mI={value:null,addProjectionMetrics:null};function ZK(t,e){let n=new Set,r=new Set,i=!1,s=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},l=0;function c(f){o.has(f)&&(u.schedule(f),t()),l++,f(a)}const u={schedule:(f,p=!1,m=!1)=>{const x=m&&i?n:r;return p&&o.add(f),x.has(f)||x.add(f),f},cancel:f=>{r.delete(f),o.delete(f)},process:f=>{if(a=f,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&mI.value&&mI.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const JK=40;function hB(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Gy.reduce((S,M)=>(S[M]=ZK(s,e?M:void 0),S),{}),{setup:a,read:l,resolveKeyframes:c,preUpdate:u,update:f,preRender:p,render:m,postRender:y}=o,x=()=>{const S=ba.useManualTiming?i.timestamp:performance.now();n=!1,ba.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(S-i.timestamp,JK),1)),i.timestamp=S,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),u.process(i),f.process(i),p.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(x))},v=()=>{n=!0,r=!0,i.isProcessing||t(x)};return{schedule:Gy.reduce((S,M)=>{const C=o[M];return S[M]=(P,I=!1,O=!1)=>(n||v(),C.schedule(P,I,O)),S},{}),cancel:S=>{for(let M=0;M<Gy.length;M++)o[Gy[M]].cancel(S)},state:i,steps:o}}const{schedule:Mn,cancel:Ll,state:Pr,steps:Q1}=hB(typeof requestAnimationFrame<"u"?requestAnimationFrame:ws,!0);let d0;function QK(){d0=void 0}const ai={now:()=>(d0===void 0&&ai.set(Pr.isProcessing||ba.useManualTiming?Pr.timestamp:performance.now()),d0),set:t=>{d0=t,queueMicrotask(QK)}},pB=t=>e=>typeof e=="string"&&e.startsWith(t),mB=pB("--"),eZ=pB("var(--"),XA=t=>eZ(t)?tZ.test(t.split("/*")[0].trim()):!1,tZ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function gI(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const eh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},fm={...eh,transform:t=>Uo(0,1,t)},$y={...eh,default:1},Rp=t=>Math.round(t*1e5)/1e5,qA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function nZ(t){return t==null}const rZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,YA=(t,e)=>n=>!!(typeof n=="string"&&rZ.test(n)&&n.startsWith(t)||e&&!nZ(n)&&Object.prototype.hasOwnProperty.call(n,e)),gB=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(qA);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},iZ=t=>Uo(0,255,t),eS={...eh,transform:t=>Math.round(iZ(t))},Lc={test:YA("rgb","red"),parse:gB("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+eS.transform(t)+", "+eS.transform(e)+", "+eS.transform(n)+", "+Rp(fm.transform(r))+")"};function sZ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const FE={test:YA("#"),parse:sZ,transform:Lc.transform},eg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ja=eg("deg"),Io=eg("%"),rt=eg("px"),oZ=eg("vh"),aZ=eg("vw"),yI={...Io,parse:t=>Io.parse(t)/100,transform:t=>Io.transform(t*100)},Fd={test:YA("hsl","hue"),parse:gB("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Io.transform(Rp(e))+", "+Io.transform(Rp(n))+", "+Rp(fm.transform(r))+")"},sr={test:t=>Lc.test(t)||FE.test(t)||Fd.test(t),parse:t=>Lc.test(t)?Lc.parse(t):Fd.test(t)?Fd.parse(t):FE.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lc.transform(t):Fd.transform(t),getAnimatableNone:t=>{const e=sr.parse(t);return e.alpha=0,sr.transform(e)}},lZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cZ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qA))==null?void 0:e.length)||0)+(((n=t.match(lZ))==null?void 0:n.length)||0)>0}const yB="number",vB="color",uZ="var",dZ="var(",vI="${}",fZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hm(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(fZ,l=>(sr.test(l)?(r.color.push(s),i.push(vB),n.push(sr.parse(l))):l.startsWith(dZ)?(r.var.push(s),i.push(uZ),n.push(l)):(r.number.push(s),i.push(yB),n.push(parseFloat(l))),++s,vI)).split(vI);return{values:n,split:a,indexes:r,types:i}}function xB(t){return hm(t).values}function _B(t){const{split:e,types:n}=hm(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===yB?s+=Rp(i[o]):a===vB?s+=sr.transform(i[o]):s+=i[o]}return s}}const hZ=t=>typeof t=="number"?0:sr.test(t)?sr.getAnimatableNone(t):t;function pZ(t){const e=xB(t);return _B(t)(e.map(hZ))}const kl={test:cZ,parse:xB,createTransformer:_B,getAnimatableNone:pZ};function tS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=tS(l,a,t+1/3),s=tS(l,a,t),o=tS(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function ox(t,e){return n=>n>0?e:t}const kn=(t,e,n)=>t+(e-t)*n,nS=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},gZ=[FE,Lc,Fd],yZ=t=>gZ.find(e=>e.test(t));function xI(t){const e=yZ(t);if(g_(!!e,`'${t}' is not an animatable color. Use the equivalent color code instead.`,"color-not-animatable"),!e)return!1;let n=e.parse(t);return e===Fd&&(n=mZ(n)),n}const _I=(t,e)=>{const n=xI(t),r=xI(e);if(!n||!r)return ox(t,e);const i={...n};return s=>(i.red=nS(n.red,r.red,s),i.green=nS(n.green,r.green,s),i.blue=nS(n.blue,r.blue,s),i.alpha=kn(n.alpha,r.alpha,s),Lc.transform(i))},UE=new Set(["none","hidden"]);function vZ(t,e){return UE.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function xZ(t,e){return n=>kn(t,e,n)}function KA(t){return typeof t=="number"?xZ:typeof t=="string"?XA(t)?ox:sr.test(t)?_I:SZ:Array.isArray(t)?wB:typeof t=="object"?sr.test(t)?_I:_Z:ox}function wB(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>KA(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function _Z(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=KA(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function wZ(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],o=t.indexes[s][r[s]],a=t.values[o]??0;n[i]=a,r[s]++}return n}const SZ=(t,e)=>{const n=kl.createTransformer(e),r=hm(t),i=hm(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?UE.has(t)&&!i.values.length||UE.has(e)&&!r.values.length?vZ(t,e):Jm(wB(wZ(r,i),i.values),n):(g_(!0,`Complex values '${t}' and '${e}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`,"complex-values-different"),ox(t,e))};function SB(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?kn(t,e,n):KA(t)(t,e)}const bZ=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Mn.update(e,n),stop:()=>Ll(e),now:()=>Pr.isProcessing?Pr.timestamp:ai.now()}},bB=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},ax=2e4;function ZA(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ax;)e+=n,r=t.next(e);return e>=ax?1/0:e}function EZ(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(ZA(r),ax);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:xs(i)}}const MZ=5;function EB(t,e,n){const r=Math.max(e-MZ,0);return nB(n-t(r),e-r)}const In={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rS=.001;function TZ({duration:t=In.duration,bounce:e=In.bounce,velocity:n=In.velocity,mass:r=In.mass}){let i,s;g_(t<=No(In.maxDuration),"Spring duration must be 10 seconds or less","spring-duration-limit");let o=1-e;o=Uo(In.minDamping,In.maxDamping,o),t=Uo(In.minDuration,In.maxDuration,xs(t)),o<1?(i=c=>{const u=c*o,f=u*t,p=u-n,m=BE(c,o),y=Math.exp(-f);return rS-p/m*y},s=c=>{const f=c*o*t,p=f*n+n,m=Math.pow(o,2)*Math.pow(c,2)*t,y=Math.exp(-f),x=BE(Math.pow(c,2),o);return(-i(c)+rS>0?-1:1)*((p-m)*y)/x}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-rS+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=CZ(i,s,a);if(t=No(t),isNaN(l))return{stiffness:In.stiffness,damping:In.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const AZ=12;function CZ(t,e,n){let r=n;for(let i=1;i<AZ;i++)r=r-t(r)/e(r);return r}function BE(t,e){return t*Math.sqrt(1-e*e)}const RZ=["duration","bounce"],PZ=["stiffness","damping","mass"];function wI(t,e){return e.some(n=>t[n]!==void 0)}function NZ(t){let e={velocity:In.velocity,stiffness:In.stiffness,damping:In.damping,mass:In.mass,isResolvedFromDuration:!1,...t};if(!wI(t,PZ)&&wI(t,RZ))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Uo(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:In.mass,stiffness:i,damping:s}}else{const n=TZ(t);e={...e,...n,mass:In.mass},e.isResolvedFromDuration=!0}return e}function lx(t=In.visualDuration,e=In.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:f,velocity:p,isResolvedFromDuration:m}=NZ({...n,velocity:-xs(n.velocity||0)}),y=p||0,x=c/(2*Math.sqrt(l*u)),v=o-s,g=xs(Math.sqrt(l/u)),w=Math.abs(v)<5;r||(r=w?In.restSpeed.granular:In.restSpeed.default),i||(i=w?In.restDelta.granular:In.restDelta.default);let S;if(x<1){const C=BE(g,x);S=P=>{const I=Math.exp(-x*g*P);return o-I*((y+x*g*v)/C*Math.sin(C*P)+v*Math.cos(C*P))}}else if(x===1)S=C=>o-Math.exp(-g*C)*(v+(y+g*v)*C);else{const C=g*Math.sqrt(x*x-1);S=P=>{const I=Math.exp(-x*g*P),O=Math.min(C*P,300);return o-I*((y+x*g*v)*Math.sinh(O)+C*v*Math.cosh(O))/C}}const M={calculatedDuration:m&&f||null,next:C=>{const P=S(C);if(m)a.done=C>=f;else{let I=C===0?y:0;x<1&&(I=C===0?No(y):EB(S,C,P));const O=Math.abs(I)<=r,N=Math.abs(o-P)<=i;a.done=O&&N}return a.value=a.done?o:P,a},toString:()=>{const C=Math.min(ZA(M),ax),P=bB(I=>M.next(C*I).value,C,30);return C+"ms "+P},toTransition:()=>{}};return M}lx.applyToOptions=t=>{const e=EZ(t,100,lx);return t.ease=e.ease,t.duration=No(e.duration),t.type="keyframes",t};function zE({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],p={done:!1,value:f},m=O=>a!==void 0&&O<a||l!==void 0&&O>l,y=O=>a===void 0?l:l===void 0||Math.abs(a-O)<Math.abs(l-O)?a:l;let x=n*e;const v=f+x,g=o===void 0?v:o(v);g!==v&&(x=g-f);const w=O=>-x*Math.exp(-O/r),S=O=>g+w(O),M=O=>{const N=w(O),k=S(O);p.done=Math.abs(N)<=c,p.value=p.done?g:k};let C,P;const I=O=>{m(p.value)&&(C=O,P=lx({keyframes:[p.value,y(p.value)],velocity:EB(S,O,p.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return I(0),{calculatedDuration:null,next:O=>{let N=!1;return!P&&C===void 0&&(N=!0,M(O),I(O)),C!==void 0&&O>=C?P.next(O-C):(!N&&M(O),p)}}}function IZ(t,e,n){const r=[],i=n||ba.mix||SB,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||ws:e;a=Jm(l,a)}r.push(a)}return r}function LZ(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Rf(s===e.length,"Both input and output ranges must be the same length","range-length"),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=IZ(e,r,i),l=a.length,c=u=>{if(o&&u<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(u<t[f+1]);f++);const p=dm(t[f],t[f+1],u);return a[f](p)};return n?u=>c(Uo(t[0],t[s-1],u)):c}function kZ(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=dm(0,e,r);t.push(kn(n,1,i))}}function DZ(t){const e=[0];return kZ(e,t.length-1),e}function OZ(t,e){return t.map(n=>n*e)}function FZ(t,e){return t.map(()=>e||dB).splice(0,t.length-1)}function Pp({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=YK(r)?r.map(pI):pI(r),s={done:!1,value:e[0]},o=OZ(n&&n.length===e.length?n:DZ(e),t),a=LZ(o,e,{ease:Array.isArray(i)?i:FZ(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const UZ=t=>t!==null;function JA(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(UZ),a=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const BZ={decay:zE,inertia:zE,tween:Pp,keyframes:Pp,spring:lx};function MB(t){typeof t.type=="string"&&(t.type=BZ[t.type])}class QA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const zZ=t=>t/100;class eC extends QA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==ai.now()&&this.tick(ai.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;MB(e);const{type:n=Pp,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=e;let{keyframes:a}=e;const l=n||Pp;l!==Pp&&typeof a[0]!="number"&&(this.mixKeyframes=Jm(zZ,SB(a[0],a[1])),a=[0,100]);const c=l({...e,keyframes:a});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...a].reverse(),velocity:-o})),c.calculatedDuration===null&&(c.calculatedDuration=ZA(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:f,repeatType:p,repeatDelay:m,type:y,onUpdate:x,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const g=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?g<0:g>i;this.currentTime=Math.max(g,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let S=this.currentTime,M=r;if(f){const O=Math.min(this.currentTime,i)/a;let N=Math.floor(O),k=O%1;!k&&O>=1&&(k=1),k===1&&N--,N=Math.min(N,f+1),!!(N%2)&&(p==="reverse"?(k=1-k,m&&(k-=m/a)):p==="mirror"&&(M=o)),S=Uo(0,1,k)*a}const C=w?{done:!1,value:u[0]}:M.next(S);s&&(C.value=s(C.value));let{done:P}=C;!w&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return I&&y!==zE&&(C.value=JA(u,this.options,v,this.speed)),x&&x(C.value),I&&this.finish(),C}then(e,n){return this.finished.then(e,n)}get duration(){return xs(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(this.currentTime)}set time(e){var n;e=No(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ai.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=xs(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=bZ,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ai.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function VZ(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const kc=t=>t*180/Math.PI,VE=t=>{const e=kc(Math.atan2(t[1],t[0]));return jE(e)},jZ={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:VE,rotateZ:VE,skewX:t=>kc(Math.atan(t[1])),skewY:t=>kc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},jE=t=>(t=t%360,t<0&&(t+=360),t),SI=VE,bI=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),EI=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),HZ={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bI,scaleY:EI,scale:t=>(bI(t)+EI(t))/2,rotateX:t=>jE(kc(Math.atan2(t[6],t[5]))),rotateY:t=>jE(kc(Math.atan2(-t[2],t[0]))),rotateZ:SI,rotate:SI,skewX:t=>kc(Math.atan(t[4])),skewY:t=>kc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function HE(t){return t.includes("scale")?1:0}function WE(t,e){if(!t||t==="none")return HE(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=HZ,i=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=jZ,i=a}if(!i)return HE(e);const s=r[e],o=i[1].split(",").map(GZ);return typeof s=="function"?s(o):o[s]}const WZ=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return WE(n,e)};function GZ(t){return parseFloat(t.trim())}const th=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],nh=new Set(th),MI=t=>t===eh||t===rt,$Z=new Set(["x","y","z"]),XZ=th.filter(t=>!$Z.has(t));function qZ(t){const e=[];return XZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ml={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>WE(e,"x"),y:(t,{transform:e})=>WE(e,"y")};ml.translateX=ml.x;ml.translateY=ml.y;const Kc=new Set;let GE=!1,$E=!1,XE=!1;function TB(){if($E){const t=Array.from(Kc).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=qZ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}$E=!1,GE=!1,Kc.forEach(t=>t.complete(XE)),Kc.clear()}function AB(){Kc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($E=!0)})}function YZ(){XE=!0,AB(),TB(),XE=!1}class tC{constructor(e,n,r,i,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Kc.add(this),GE||(GE=!0,Mn.read(AB),Mn.resolveKeyframes(TB))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),i&&s===void 0&&i.set(e[0])}VZ(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Kc.delete(this)}cancel(){this.state==="scheduled"&&(Kc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const KZ=t=>t.startsWith("--");function ZZ(t,e,n){KZ(e)?t.style.setProperty(e,n):t.style[e]=n}const JZ=HA(()=>window.ScrollTimeline!==void 0),QZ={};function eJ(t,e){const n=HA(t);return()=>QZ[e]??n()}const CB=eJ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),dp=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,TI={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:dp([0,.65,.55,1]),circOut:dp([.55,0,1,.45]),backIn:dp([.31,.01,.66,-.59]),backOut:dp([.33,1.53,.69,.99])};function RB(t,e){if(t)return typeof t=="function"?CB()?bB(t,e):"ease-out":fB(t)?dp(t):Array.isArray(t)?t.map(n=>RB(n,e)||TI.easeOut):TI[t]}function tJ(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const f=RB(a,i);Array.isArray(f)&&(u.easing=f);const p={delay:r,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return c&&(p.pseudoElement=c),t.animate(u,p)}function PB(t){return typeof t=="function"&&"applyToOptions"in t}function nJ({type:t,...e}){return PB(t)&&CB()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class rJ extends QA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:a,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,Rf(typeof e.type!="string",`Mini animate() doesn't support "type" as a string.`,"mini-spring");const c=nJ(e);this.animation=tJ(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=JA(i,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(u):ZZ(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return xs(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+xs(e)}get time(){return xs(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=No(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&JZ()?(this.animation.timeline=e,ws):n(this)}}const NB={anticipate:lB,backInOut:aB,circInOut:uB};function iJ(t){return t in NB}function sJ(t){typeof t.ease=="string"&&iJ(t.ease)&&(t.ease=NB[t.ease])}const iS=10;class oJ extends rJ{constructor(e){sJ(e),MB(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new eC({...o,autoplay:!1}),l=Math.max(iS,ai.now()-this.startTime),c=Uo(0,iS,l-iS);n.setWithVelocity(a.sample(Math.max(0,l-c)).value,a.sample(l).value,c),a.stop()}}const AI=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kl.test(t)||t==="0")&&!t.startsWith("url("));function aJ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function lJ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=AI(i,e),a=AI(s,e);return g_(o===a,`You are trying to animate ${e} from "${i}" to "${s}". "${o?s:i}" is not an animatable value.`,"value-not-animatable"),!o||!a?!1:aJ(t)||(n==="spring"||PB(n))&&r}function qE(t){t.duration=0,t.type="keyframes"}const cJ=new Set(["opacity","clipPath","filter","transform"]),uJ=HA(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dJ(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:o}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return uJ()&&n&&cJ.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&o!=="inertia"}const fJ=40;class hJ extends QA{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",keyframes:a,name:l,motionValue:c,element:u,...f}){var y;super(),this.stop=()=>{var x,v;this._animation&&(this._animation.stop(),(x=this.stopTimeline)==null||x.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=ai.now();const p={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,name:l,motionValue:c,element:u,...f},m=(u==null?void 0:u.KeyframeResolver)||tC;this.keyframeResolver=new m(a,(x,v,g)=>this.onKeyframesResolved(x,v,p,!g),l,c,u),(y=this.keyframeResolver)==null||y.scheduleResolve()}onKeyframesResolved(e,n,r,i){var v,g;this.keyframeResolver=void 0;const{name:s,type:o,velocity:a,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=ai.now(),lJ(e,s,o,a)||((ba.instantAnimations||!l)&&(u==null||u(JA(e,r,n))),e[0]=e[e.length-1],qE(r),r.repeat=0);const p={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>fJ?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},m=!c&&dJ(p),y=(g=(v=p.motionValue)==null?void 0:v.owner)==null?void 0:g.current,x=m?new oJ({...p,element:y}):new eC(p);x.finished.then(()=>{this.notifyFinished()}).catch(ws),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),YZ()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}function IB(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),o=t.size,a=(o-1)*r;return typeof n=="function"?n(s,o):i===1?s*r:a-s*r}const pJ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function mJ(t){const e=pJ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}const gJ=4;function LB(t,e,n=1){Rf(n<=gJ,`Max CSS variable fallback depth detected in property "${t}". This may indicate a circular fallback dependency.`,"max-css-var-depth");const[r,i]=mJ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return Q4(o)?parseFloat(o):o}return XA(i)?LB(i,e,n+1):i}const yJ={type:"spring",stiffness:500,damping:25,restSpeed:10},vJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xJ={type:"keyframes",duration:.8},_J={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wJ=(t,{keyframes:e})=>e.length>2?xJ:nh.has(t)?t.startsWith("scale")?vJ(e[1]):yJ:_J,SJ=t=>t!==null;function bJ(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(SJ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}function nC(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}function EJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const rC=(t,e,n,r={},i,s)=>o=>{const a=nC(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-No(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:p=>{e.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};EJ(a)||Object.assign(u,wJ(t,u)),u.duration&&(u.duration=No(u.duration)),u.repeatDelay&&(u.repeatDelay=No(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let f=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(qE(u),u.delay===0&&(f=!0)),(ba.instantAnimations||ba.skipAnimations)&&(f=!0,qE(u),u.delay=0),u.allowFlatten=!a.type&&!a.ease,f&&!s&&e.get()!==void 0){const p=bJ(u.keyframes,a);if(p!==void 0){Mn.update(()=>{u.onUpdate(p),u.onComplete()});return}}return a.isSync?new eC(u):new hJ(u)};function CI(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function iC(t,e,n,r){if(typeof e=="function"){const[i,s]=CI(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=CI(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function of(t,e,n){const r=t.getProps();return iC(r,e,n!==void 0?n:r.custom,t)}const kB=new Set(["width","height","top","left","right","bottom",...th]),RI=30,MJ=t=>!isNaN(parseFloat(t));class TJ{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=ai.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ai.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=MJ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new WA);const r=this.events[e].add(n);return e==="change"?()=>{r(),Mn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ai.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>RI)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,RI);return nB(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Pf(t,e){return new TJ(t,e)}const YE=t=>Array.isArray(t);function AJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Pf(n))}function CJ(t){return YE(t)?t[t.length-1]||0:t}function RJ(t,e){const n=of(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=CJ(s[o]);AJ(t,o,a)}}const qr=t=>!!(t&&t.getVelocity);function PJ(t){return!!(qr(t)&&t.add)}function KE(t,e){const n=t.getValue("willChange");if(PJ(n))return n.add(e);if(!n&&ba.WillChange){const r=new ba.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function sC(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const NJ="framerAppearId",DB="data-"+sC(NJ);function OB(t){return t.props[DB]}function IJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function FB(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=e;const l=s==null?void 0:s.reduceMotion;r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const p=t.getValue(f,t.latestValues[f]??null),m=a[f];if(m===void 0||u&&IJ(u,f))continue;const y={delay:n,...nC(s||{},f)},x=p.get();if(x!==void 0&&!p.isAnimating&&!Array.isArray(m)&&m===x&&!y.velocity)continue;let v=!1;if(window.MotionHandoffAnimation){const S=OB(t);if(S){const M=window.MotionHandoffAnimation(S,f,Mn);M!==null&&(y.startTime=M,v=!0)}}KE(t,f);const g=l??t.shouldReduceMotion;p.start(rC(f,p,m,g&&kB.has(f)?{type:!1}:y,t,v));const w=p.animation;w&&c.push(w)}return o&&Promise.all(c).then(()=>{Mn.update(()=>{o&&RJ(t,o)})}),c}function ZE(t,e,n={}){var l;const r=of(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(FB(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:f,staggerDirection:p}=i;return LJ(t,e,c,u,f,p,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[c,u]=a==="beforeChildren"?[s,o]:[o,s];return c().then(()=>u())}else return Promise.all([s(),o(n.delay)])}function LJ(t,e,n=0,r=0,i=0,s=1,o){const a=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),a.push(ZE(l,e,{...o,delay:n+(typeof r=="function"?0:r)+IB(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(a)}function kJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>ZE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=ZE(t,e,n);else{const i=typeof e=="function"?of(t,e,n.custom):e;r=Promise.all(FB(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const DJ={test:t=>t==="auto",parse:t=>t},UB=t=>e=>e.test(t),BB=[eh,rt,Io,Ja,aZ,oZ,DJ],PI=t=>BB.find(UB(t));function OJ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||tB(t):!0}const FJ=new Set(["brightness","contrast","saturate","opacity"]);function UJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(qA)||[];if(!r)return t;const i=n.replace(r,"");let s=FJ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const BJ=/\b([a-z-]*)\(.*?\)/gu,JE={...kl,getAnimatableNone:t=>{const e=t.match(BJ);return e?e.map(UJ).join(" "):t}},NI={...eh,transform:Math.round},zJ={rotate:Ja,rotateX:Ja,rotateY:Ja,rotateZ:Ja,scale:$y,scaleX:$y,scaleY:$y,scaleZ:$y,skew:Ja,skewX:Ja,skewY:Ja,distance:rt,translateX:rt,translateY:rt,translateZ:rt,x:rt,y:rt,z:rt,perspective:rt,transformPerspective:rt,opacity:fm,originX:yI,originY:yI,originZ:rt},oC={borderWidth:rt,borderTopWidth:rt,borderRightWidth:rt,borderBottomWidth:rt,borderLeftWidth:rt,borderRadius:rt,borderTopLeftRadius:rt,borderTopRightRadius:rt,borderBottomRightRadius:rt,borderBottomLeftRadius:rt,width:rt,maxWidth:rt,height:rt,maxHeight:rt,top:rt,right:rt,bottom:rt,left:rt,inset:rt,insetBlock:rt,insetBlockStart:rt,insetBlockEnd:rt,insetInline:rt,insetInlineStart:rt,insetInlineEnd:rt,padding:rt,paddingTop:rt,paddingRight:rt,paddingBottom:rt,paddingLeft:rt,paddingBlock:rt,paddingBlockStart:rt,paddingBlockEnd:rt,paddingInline:rt,paddingInlineStart:rt,paddingInlineEnd:rt,margin:rt,marginTop:rt,marginRight:rt,marginBottom:rt,marginLeft:rt,marginBlock:rt,marginBlockStart:rt,marginBlockEnd:rt,marginInline:rt,marginInlineStart:rt,marginInlineEnd:rt,fontSize:rt,backgroundPositionX:rt,backgroundPositionY:rt,...zJ,zIndex:NI,fillOpacity:fm,strokeOpacity:fm,numOctaves:NI},VJ={...oC,color:sr,backgroundColor:sr,outlineColor:sr,fill:sr,stroke:sr,borderColor:sr,borderTopColor:sr,borderRightColor:sr,borderBottomColor:sr,borderLeftColor:sr,filter:JE,WebkitFilter:JE},zB=t=>VJ[t];function VB(t,e){let n=zB(t);return n!==JE&&(n=kl),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jJ=new Set(["auto","none","0"]);function HJ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!jJ.has(s)&&hm(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=VB(n,i)}class WJ extends tC{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<e.length;u++){let f=e[u];if(typeof f=="string"&&(f=f.trim(),XA(f))){const p=LB(f,n.current);p!==void 0&&(e[u]=p),u===e.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!kB.has(r)||e.length!==2)return;const[i,s]=e,o=PI(i),a=PI(s),l=gI(i),c=gI(s);if(l!==c&&ml[r]){this.needsMeasurement=!0;return}if(o!==a)if(MI(o)&&MI(a))for(let u=0;u<e.length;u++){const f=e[u];typeof f=="string"&&(e[u]=parseFloat(f))}else ml[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||OJ(e[i]))&&r.push(i);r.length&&HJ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ml[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,o=r[s];r[s]=ml[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function GJ(t,e,n){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t).filter(r=>r!=null)}const jB=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function QE(t){return eB(t)&&"offsetHeight"in t}const{schedule:aC,cancel:rye}=hB(queueMicrotask,!1),ks={x:!1,y:!1};function HB(){return ks.x||ks.y}function $J(t){return t==="x"||t==="y"?ks[t]?null:(ks[t]=!0,()=>{ks[t]=!1}):ks.x||ks.y?null:(ks.x=ks.y=!0,()=>{ks.x=ks.y=!1})}function WB(t,e){const n=GJ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function II(t){return!(t.pointerType==="touch"||HB())}function XJ(t,e,n={}){const[r,i,s]=WB(t,n),o=a=>{if(!II(a))return;const{target:l}=a,c=e(l,a);if(typeof c!="function"||!l)return;const u=f=>{II(f)&&(c(f),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const GB=(t,e)=>e?t===e?!0:GB(t,e.parentElement):!1,lC=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,qJ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function $B(t){return qJ.has(t.tagName)||t.isContentEditable===!0}const f0=new WeakSet;function LI(t){return e=>{e.key==="Enter"&&t(e)}}function sS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YJ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=LI(()=>{if(f0.has(n))return;sS(n,"down");const i=LI(()=>{sS(n,"up")}),s=()=>sS(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kI(t){return lC(t)&&!HB()}function KJ(t,e,n={}){const[r,i,s]=WB(t,n),o=a=>{const l=a.currentTarget;if(!kI(a))return;f0.add(l);const c=e(l,a),u=(m,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",p),f0.has(l)&&f0.delete(l),kI(m)&&typeof c=="function"&&c(m,{success:y})},f=m=>{u(m,l===window||l===document||n.useGlobalTarget||GB(l,m.target))},p=m=>{u(m,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",p,i)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),QE(a)&&(a.addEventListener("focus",c=>YJ(c,i)),!$B(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),s}function XB(t){return eB(t)&&"ownerSVGElement"in t}function ZJ(t){return XB(t)&&t.tagName==="svg"}const JJ=[...BB,sr,kl],QJ=t=>JJ.find(UB(t)),DI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ud=()=>({x:DI(),y:DI()}),OI=()=>({min:0,max:0}),ur=()=>({x:OI(),y:OI()}),eM={current:null},qB={current:!1},eQ=typeof window<"u";function tQ(){if(qB.current=!0,!!eQ)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>eM.current=t.matches;t.addEventListener("change",e),e()}else eM.current=!1}const nQ=new WeakMap;function y_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function pm(t){return typeof t=="string"||Array.isArray(t)}const cC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],uC=["initial",...cC];function v_(t){return y_(t.animate)||uC.some(e=>pm(t[e]))}function YB(t){return!!(v_(t)||t.variants)}function rQ(t,e,n){for(const r in e){const i=e[r],s=n[r];if(qr(i))t.addValue(r,i);else if(qr(s))t.addValue(r,Pf(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,Pf(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const FI=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let cx={};function KB(t){cx=t}function iQ(){return cx}class sQ{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=tC,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ai.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,Mn.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=o;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=v_(n),this.isVariantNode=YB(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...f}=this.scrapeMotionValuesFromProps(n,{},this);for(const p in f){const m=f[p];l[p]!==void 0&&qr(m)&&m.set(l[p])}}mount(e){var n;this.current=e,nQ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(qB.current||tQ(),this.shouldReduceMotion=eM.current),(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ll(this.notifyUpdate),Ll(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=nh.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Mn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;typeof window<"u"&&window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in cx){const n=cx[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ur()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<FI.length;r++){const i=FI[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=rQ(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Pf(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Q4(r)||tB(r))?r=parseFloat(r):!QJ(r)&&kl.test(n)&&(r=VB(e,n)),this.setBaseTarget(e,qr(r)?r.get():r)),qr(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=iC(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!qr(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new WA),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){aC.render(this.render)}}class ZB extends sQ{constructor(){super(...arguments),this.KeyframeResolver=WJ}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){const r=e.style;return r?r[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;qr(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}class Xl{constructor(e){this.isMounted=!1,this.node=e}update(){}}function JB({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function aQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function oS(t){return t===void 0||t===1}function tM({scale:t,scaleX:e,scaleY:n}){return!oS(t)||!oS(e)||!oS(n)}function bc(t){return tM(t)||QB(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QB(t){return UI(t.x)||UI(t.y)}function UI(t){return t&&t!=="0%"}function ux(t,e,n){const r=t-n,i=e*r;return n+i}function BI(t,e,n,r,i){return i!==void 0&&(t=ux(t,i,r)),ux(t,n,r)+e}function nM(t,e=0,n=1,r,i){t.min=BI(t.min,e,n,r,i),t.max=BI(t.max,e,n,r,i)}function ez(t,{x:e,y:n}){nM(t.x,e.translate,e.scale,e.originPoint),nM(t.y,n.translate,n.scale,n.originPoint)}const zI=.999999999999,VI=1.0000000000001;function lQ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&zd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ez(t,o)),r&&bc(s.latestValues)&&zd(t,s.latestValues))}e.x<VI&&e.x>zI&&(e.x=1),e.y<VI&&e.y>zI&&(e.y=1)}function Bd(t,e){t.min=t.min+e,t.max=t.max+e}function jI(t,e,n,r,i=.5){const s=kn(t.min,t.max,i);nM(t,e,n,s,r)}function zd(t,e){jI(t.x,e.x,e.scaleX,e.scale,e.originX),jI(t.y,e.y,e.scaleY,e.scale,e.originY)}function tz(t,e){return JB(aQ(t.getBoundingClientRect(),e))}function cQ(t,e,n){const r=tz(t,n),{scroll:i}=e;return i&&(Bd(r.x,i.offset.x),Bd(r.y,i.offset.y)),r}const uQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dQ=th.length;function fQ(t,e,n){let r="",i=!0;for(let s=0;s<dQ;s++){const o=th[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number")l=a===(o.startsWith("scale")?1:0);else{const c=parseFloat(a);l=o.startsWith("scale")?c===1:c===0}if(!l||n){const c=jB(a,oC[o]);if(!l){i=!1;const u=uQ[o]||o;r+=`${u}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function dC(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(nh.has(l)){o=!0;continue}else if(mB(l)){i[l]=c;continue}else{const u=jB(c,oC[l]);l.startsWith("origin")?(a=!0,s[l]=u):r[l]=u}}if(e.transform||(o||n?r.transform=fQ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}function nz(t,{style:e,vars:n},r,i){const s=t.style;let o;for(o in e)s[o]=e[o];i==null||i.applyProjectionStyles(s,r);for(o in n)s.setProperty(o,n[o])}function HI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Wh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(rt.test(t))t=parseFloat(t);else return t;const n=HI(t,e.target.x),r=HI(t,e.target.y);return`${n}% ${r}%`}},hQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=kl.parse(t);if(i.length>5)return r;const s=kl.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=kn(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}},rM={borderRadius:{...Wh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wh,borderTopRightRadius:Wh,borderBottomLeftRadius:Wh,borderBottomRightRadius:Wh,boxShadow:hQ};function rz(t,{layout:e,layoutId:n}){return nh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!rM[t]||t==="opacity")}function fC(t,e,n){var o;const r=t.style,i=e==null?void 0:e.style,s={};if(!r)return s;for(const a in r)(qr(r[a])||i&&qr(i[a])||rz(a,t)||((o=n==null?void 0:n.getValue(a))==null?void 0:o.liveStyle)!==void 0)&&(s[a]=r[a]);return s}function pQ(t){return window.getComputedStyle(t)}class mQ extends ZB{constructor(){super(...arguments),this.type="html",this.renderInstance=nz}readValueFromInstance(e,n){var r;if(nh.has(n))return(r=this.projection)!=null&&r.isProjecting?HE(n):WZ(e,n);{const i=pQ(e),s=(mB(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return tz(e,n)}build(e,n,r){dC(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return fC(e,n,r)}}const gQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},yQ={offset:"strokeDashoffset",array:"strokeDasharray"};function vQ(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?gQ:yQ;t[s.offset]=`${-r}`,t[s.array]=`${e} ${n}`}const xQ=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function iz(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:o=0,...a},l,c,u){if(dC(t,a,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:p}=t;f.transform&&(p.transform=f.transform,delete f.transform),(p.transform||f.transformOrigin)&&(p.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),p.transform&&(p.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete f.transformBox);for(const m of xQ)f[m]!==void 0&&(p[m]=f[m],delete f[m]);e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),i!==void 0&&vQ(f,i,s,o,!1)}const sz=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),oz=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _Q(t,e,n,r){nz(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(sz.has(i)?i:sC(i),e.attrs[i])}function az(t,e,n){const r=fC(t,e,n);for(const i in t)if(qr(t[i])||qr(e[i])){const s=th.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}class wQ extends ZB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ur}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(nh.has(n)){const r=zB(n);return r&&r.default||0}return n=sz.has(n)?n:sC(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return az(e,n,r)}build(e,n,r){iz(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){_Q(e,n,r,i)}mount(e){this.isSVGTag=oz(e.tagName),super.mount(e)}}const SQ=uC.length;function lz(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?lz(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<SQ;n++){const r=uC[n],i=t.props[r];(pm(i)||i===!1)&&(e[r]=i)}return e}function cz(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const bQ=[...cC].reverse(),EQ=cC.length;function MQ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>kJ(t,n,r)))}function TQ(t){let e=MQ(t),n=WI(),r=!0;const i=l=>(c,u)=>{var p;const f=of(t,u,l==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(f){const{transition:m,transitionEnd:y,...x}=f;c={...c,...x,...y}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,u=lz(t.parent)||{},f=[],p=new Set;let m={},y=1/0;for(let v=0;v<EQ;v++){const g=bQ[v],w=n[g],S=c[g]!==void 0?c[g]:u[g],M=pm(S),C=g===l?w.isActive:null;C===!1&&(y=v);let P=S===u[g]&&S!==c[g]&&M;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...m},!w.isActive&&C===null||!S&&!w.prevProp||y_(S)||typeof S=="boolean")continue;const I=AQ(w.prevProp,S);let O=I||g===l&&w.isActive&&!P&&M||v>y&&M,N=!1;const k=Array.isArray(S)?S:[S];let V=k.reduce(i(g),{});C===!1&&(V={});const{prevResolvedValues:W={}}=w,Q={...W,...V},U=te=>{O=!0,p.has(te)&&(N=!0,p.delete(te)),w.needsAnimating[te]=!0;const D=t.getValue(te);D&&(D.liveStyle=!1)};for(const te in Q){const D=V[te],F=W[te];if(m.hasOwnProperty(te))continue;let j=!1;YE(D)&&YE(F)?j=!cz(D,F):j=D!==F,j?D!=null?U(te):p.add(te):D!==void 0&&p.has(te)?U(te):w.protectedKeys[te]=!0}w.prevProp=S,w.prevResolvedValues=V,w.isActive&&(m={...m,...V}),r&&t.blockInitialAnimation&&(O=!1);const Y=P&&I;O&&(!Y||N)&&f.push(...k.map(te=>{const D={type:g};if(typeof te=="string"&&r&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,j=of(F,te);if(F.enteringChildren&&j){const{delayChildren:K}=j.transition||{};D.delay=IB(F.enteringChildren,t,K)}}return{animation:te,options:D}}))}if(p.size){const v={};if(typeof c.initial!="boolean"){const g=of(t,Array.isArray(c.initial)?c.initial[0]:c.initial);g&&g.transition&&(v.transition=g.transition)}p.forEach(g=>{const w=t.getBaseTarget(g),S=t.getValue(g);S&&(S.liveStyle=!0),v[g]=w??null}),f.push({animation:v})}let x=!!f.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(f):Promise.resolve()}function a(l,c){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(p=>{var m;return(m=p.animationState)==null?void 0:m.setActive(l,c)}),n[l].isActive=c;const u=o(l);for(const p in n)n[p].protectedKeys={};return u}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=WI()}}}function AQ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!cz(e,t):!1}function uc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function WI(){return{animate:uc(!0),whileInView:uc(),whileHover:uc(),whileTap:uc(),whileDrag:uc(),whileFocus:uc(),exit:uc()}}function GI(t,e){t.min=e.min,t.max=e.max}function Ps(t,e){GI(t.x,e.x),GI(t.y,e.y)}function $I(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const uz=1e-4,CQ=1-uz,RQ=1+uz,dz=.01,PQ=0-dz,NQ=0+dz;function li(t){return t.max-t.min}function IQ(t,e,n){return Math.abs(t-e)<=n}function XI(t,e,n,r=.5){t.origin=r,t.originPoint=kn(e.min,e.max,t.origin),t.scale=li(n)/li(e),t.translate=kn(n.min,n.max,t.origin)-t.originPoint,(t.scale>=CQ&&t.scale<=RQ||isNaN(t.scale))&&(t.scale=1),(t.translate>=PQ&&t.translate<=NQ||isNaN(t.translate))&&(t.translate=0)}function Np(t,e,n,r){XI(t.x,e.x,n.x,r?r.originX:void 0),XI(t.y,e.y,n.y,r?r.originY:void 0)}function qI(t,e,n){t.min=n.min+e.min,t.max=t.min+li(e)}function LQ(t,e,n){qI(t.x,e.x,n.x),qI(t.y,e.y,n.y)}function YI(t,e,n){t.min=e.min-n.min,t.max=t.min+li(e)}function dx(t,e,n){YI(t.x,e.x,n.x),YI(t.y,e.y,n.y)}function KI(t,e,n,r,i){return t-=e,t=ux(t,1/n,r),i!==void 0&&(t=ux(t,1/i,r)),t}function kQ(t,e=0,n=1,r=.5,i,s=t,o=t){if(Io.test(e)&&(e=parseFloat(e),e=kn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=kn(s.min,s.max,r);t===s&&(a-=e),t.min=KI(t.min,e,n,a,i),t.max=KI(t.max,e,n,a,i)}function ZI(t,e,[n,r,i],s,o){kQ(t,e[n],e[r],e[i],e.scale,s,o)}const DQ=["x","scaleX","originX"],OQ=["y","scaleY","originY"];function JI(t,e,n,r){ZI(t.x,e,DQ,n?n.x:void 0,r?r.x:void 0),ZI(t.y,e,OQ,n?n.y:void 0,r?r.y:void 0)}function QI(t){return t.translate===0&&t.scale===1}function fz(t){return QI(t.x)&&QI(t.y)}function eL(t,e){return t.min===e.min&&t.max===e.max}function FQ(t,e){return eL(t.x,e.x)&&eL(t.y,e.y)}function tL(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function hz(t,e){return tL(t.x,e.x)&&tL(t.y,e.y)}function nL(t){return li(t.x)/li(t.y)}function rL(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function hs(t){return[t("x"),t("y")]}function UQ(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:f,rotateY:p,skewX:m,skewY:y}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),f&&(r+=`rotateX(${f}deg) `),p&&(r+=`rotateY(${p}deg) `),m&&(r+=`skewX(${m}deg) `),y&&(r+=`skewY(${y}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const pz=["TopLeft","TopRight","BottomLeft","BottomRight"],BQ=pz.length,iL=t=>typeof t=="string"?parseFloat(t):t,sL=t=>typeof t=="number"||rt.test(t);function zQ(t,e,n,r,i,s){i?(t.opacity=kn(0,n.opacity??1,VQ(r)),t.opacityExit=kn(e.opacity??1,0,jQ(r))):s&&(t.opacity=kn(e.opacity??1,n.opacity??1,r));for(let o=0;o<BQ;o++){const a=`border${pz[o]}Radius`;let l=oL(e,a),c=oL(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||sL(l)===sL(c)?(t[a]=Math.max(kn(iL(l),iL(c),r),0),(Io.test(c)||Io.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=kn(e.rotate||0,n.rotate||0,r))}function oL(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const VQ=mz(0,.5,cB),jQ=mz(.5,.95,ws);function mz(t,e,n){return r=>r<t?0:r>e?1:n(dm(t,e,r))}function HQ(t,e,n){const r=qr(t)?t:Pf(t);return r.start(rC("",r,e,n)),r.animation}function mm(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const WQ=(t,e)=>t.depth-e.depth;class GQ{constructor(){this.children=[],this.isDirty=!1}add(e){VA(this.children,e),this.isDirty=!0}remove(e){jA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WQ),this.isDirty=!1,this.children.forEach(e)}}function $Q(t,e){const n=ai.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(Ll(r),t(s-e))};return Mn.setup(r,!0),()=>Ll(r)}function h0(t){return qr(t)?t.get():t}class XQ{constructor(){this.members=[]}add(e){VA(this.members,e),e.scheduleRender()}remove(e){if(jA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender();const i=r.options.layoutDependency,s=e.options.layoutDependency;i!==void 0&&s!==void 0&&i===s||(e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0));const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const p0={hasAnimatedSinceResize:!0,hasEverUpdated:!1},aS=["","X","Y","Z"],qQ=1e3;let YQ=0;function lS(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function gz(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=OB(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Mn,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&gz(r)}function yz({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=YQ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(JQ),this.nodes.forEach(nee),this.nodes.forEach(ree),this.nodes.forEach(QQ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new GQ)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new WA),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=XB(o)&&!ZJ(o),this.instance=o;const{layoutId:a,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||a)&&(this.isLayoutDirty=!0),t){let u,f=0;const p=()=>this.root.updateBlockedByResize=!1;Mn.read(()=>{f=window.innerWidth}),t(o,()=>{const m=window.innerWidth;m!==f&&(f=m,this.root.updateBlockedByResize=!0,u&&u(),u=$Q(p,250),p0.hasAnimatedSinceResize&&(p0.hasAnimatedSinceResize=!1,this.nodes.forEach(cL)))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||c.getDefaultTransition()||lee,{onLayoutAnimationStart:x,onLayoutAnimationComplete:v}=c.getProps(),g=!this.targetLayout||!hz(this.targetLayout,m),w=!f&&p;if(this.options.layoutRoot||this.resumeFrom||w||f&&(g||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...nC(y,"layout"),onPlay:x,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(u,w)}else f||cL(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ll(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(iee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&gz(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(aL);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lL);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tee),this.nodes.forEach(KQ),this.nodes.forEach(ZQ)):this.nodes.forEach(lL),this.clearAllSnapshots();const a=ai.now();Pr.delta=Uo(0,1e3/60,a-Pr.timestamp),Pr.timestamp=a,Pr.isProcessing=!0,Q1.update.process(Pr),Q1.preRender.process(Pr),Q1.render.process(Pr),Pr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,aC.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(eee),this.sharedNodes.forEach(see)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Mn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Mn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!li(this.snapshot.measuredBox.x)&&!li(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ur(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!fz(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&this.instance&&(a||bc(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),cee(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:o}=this.options;if(!o)return ur();const a=o.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(uee))){const{scroll:u}=this.root;u&&(Bd(a.x,u.offset.x),Bd(a.y,u.offset.y))}return a}removeElementScroll(o){var l;const a=ur();if(Ps(a,o),(l=this.scroll)!=null&&l.wasRoot)return a;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:f,options:p}=u;u!==this.root&&f&&p.layoutScroll&&(f.wasRoot&&Ps(a,o),Bd(a.x,f.offset.x),Bd(a.y,f.offset.y))}return a}applyTransform(o,a=!1){const l=ur();Ps(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&zd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),bc(u.latestValues)&&zd(l,u.latestValues)}return bc(this.latestValues)&&zd(l,this.latestValues),l}removeTransform(o){const a=ur();Ps(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!bc(c.latestValues))continue;tM(c.latestValues)&&c.updateSnapshot();const u=ur(),f=c.measurePageBox();Ps(u,f),JI(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return bc(this.latestValues)&&JI(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Pr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var m;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==a;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:f}=this.options;if(!this.layout||!(u||f))return;this.resolvedRelativeTargetAt=Pr.timestamp;const p=this.getClosestProjectingParent();p&&this.linkedParentVersion!==p.layoutVersion&&!p.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(p&&p.layout?this.createRelativeTarget(p,this.layout.layoutBox,p.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ur(),this.targetWithTransforms=ur()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),LQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ps(this.target,this.layout.layoutBox),ez(this.target,this.targetDelta)):Ps(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?this.createRelativeTarget(p,this.target,p.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||tM(this.parent.latestValues)||QB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,a,l){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ur(),this.relativeTargetOrigin=ur(),dx(this.relativeTargetOrigin,a,l),Ps(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var y;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let l=!0;if((this.isProjectionDirty||(y=this.parent)!=null&&y.isProjectionDirty)&&(l=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Pr.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Ps(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,p=this.treeScale.y;lQ(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=ur());const{target:m}=o;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($I(this.prevProjectionDelta.x,this.projectionDelta.x),$I(this.prevProjectionDelta.y,this.projectionDelta.y)),Np(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==p||!rL(this.projectionDelta.x,this.prevProjectionDelta.x)||!rL(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ud(),this.projectionDelta=Ud(),this.projectionDeltaWithTransform=Ud()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Ud();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const p=ur(),m=l?l.source:void 0,y=this.layout?this.layout.source:void 0,x=m!==y,v=this.getStack(),g=!v||v.members.length<=1,w=!!(x&&!g&&this.options.crossfade===!0&&!this.path.some(aee));this.animationProgress=0;let S;this.mixTargetDelta=M=>{const C=M/1e3;uL(f.x,o.x,C),uL(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dx(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),oee(this.relativeTarget,this.relativeTargetOrigin,p,C),S&&FQ(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=ur()),Ps(S,this.relativeTarget)),x&&(this.animationValues=u,zQ(u,c,this.latestValues,C,w,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,l,c;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(Ll(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Mn.update(()=>{p0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Pf(0)),this.currentAnimation=HQ(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),o.onUpdate&&o.onUpdate(u)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qQ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&vz(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ur();const f=li(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const p=li(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+p}Ps(a,l),zd(a,u),Np(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new XQ),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&lS("z",o,c,this.animationValues);for(let u=0;u<aS.length;u++)lS(`rotate${aS[u]}`,o,c,this.animationValues),lS(`skew${aS[u]}`,o,c,this.animationValues);o.render();for(const u in c)o.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);o.scheduleRender()}applyProjectionStyles(o,a){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=h0(a==null?void 0:a.pointerEvents)||"",o.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=h0(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!bc(this.latestValues)&&(o.transform=l?l({},""):"none",this.hasProjected=!1);return}o.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let f=UQ(this.projectionDeltaWithTransform,this.treeScale,u);l&&(f=l(u,f)),o.transform=f;const{x:p,y:m}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,c.animationValues?o.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:o.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const y in rM){if(u[y]===void 0)continue;const{correct:x,applyTo:v,isCSSVariable:g}=rM[y],w=f==="none"?u[y]:x(u[y],c);if(v){const S=v.length;for(let M=0;M<S;M++)o[v[M]]=w}else g?this.options.visualElement.renderState.vars[y]=w:o[y]=w}this.options.layoutId&&(o.pointerEvents=c===this?h0(a==null?void 0:a.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(aL),this.root.sharedNodes.clear()}}}function KQ(t){t.updateLayout()}function ZQ(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?hs(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],m=li(p);p.min=r[f].min,p.max=p.min+m}):vz(s,e.layoutBox,r)&&hs(f=>{const p=o?e.measuredBox[f]:e.layoutBox[f],m=li(r[f]);p.max=p.min+m,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+m)});const a=Ud();Np(a,r,e.layoutBox);const l=Ud();o?Np(l,t.applyTransform(i,!0),e.measuredBox):Np(l,r,e.layoutBox);const c=!fz(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:p,layout:m}=f;if(p&&m){const y=ur();dx(y,e.layoutBox,p.layoutBox);const x=ur();dx(x,r,m.layoutBox),hz(y,x)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function JQ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function QQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function eee(t){t.clearSnapshot()}function aL(t){t.clearMeasurements()}function lL(t){t.isLayoutDirty=!1}function tee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cL(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function nee(t){t.resolveTargetDelta()}function ree(t){t.calcProjection()}function iee(t){t.resetSkewAndRotation()}function see(t){t.removeLeadSnapshot()}function uL(t,e,n){t.translate=kn(e.translate,0,n),t.scale=kn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function dL(t,e,n,r){t.min=kn(e.min,n.min,r),t.max=kn(e.max,n.max,r)}function oee(t,e,n,r){dL(t.x,e.x,n.x,r),dL(t.y,e.y,n.y,r)}function aee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lee={duration:.45,ease:[.4,0,.1,1]},fL=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),hL=fL("applewebkit/")&&!fL("chrome/")?Math.round:ws;function pL(t){t.min=hL(t.min),t.max=hL(t.max)}function cee(t){pL(t.x),pL(t.y)}function vz(t,e,n){return t==="position"||t==="preserve-aspect"&&!IQ(nL(e),nL(n),.2)}function uee(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const dee=yz({attachResizeListener:(t,e)=>mm(t,"resize",e),measureScroll:()=>{var t,e;return{x:document.documentElement.scrollLeft||((t=document.body)==null?void 0:t.scrollLeft)||0,y:document.documentElement.scrollTop||((e=document.body)==null?void 0:e.scrollTop)||0}},checkIsScrollRoot:()=>!0}),cS={current:void 0},xz=yz({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!cS.current){const t=new dee({});t.mount(window),t.setOptions({layoutScroll:!0}),cS.current=t}return cS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),hC=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function mL(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function fee(...t){return e=>{let n=!1;const r=t.map(i=>{const s=mL(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():mL(t[i],null)}}}}function hee(...t){return T.useCallback(fee(...t),t)}class pee extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=QE(r)&&r.offsetWidth||0,s=QE(r)&&r.offsetHeight||0,o=this.props.sizeRef.current;o.height=n.offsetHeight||0,o.width=n.offsetWidth||0,o.top=n.offsetTop,o.left=n.offsetLeft,o.right=i-o.width-o.left,o.bottom=s-o.height-o.top}return null}componentDidUpdate(){}render(){return this.props.children}}function mee({children:t,isPresent:e,anchorX:n,anchorY:r,root:i}){var f;const s=T.useId(),o=T.useRef(null),a=T.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:l}=T.useContext(hC),c=((f=t.props)==null?void 0:f.ref)??(t==null?void 0:t.ref),u=hee(o,c);return T.useInsertionEffect(()=>{const{width:p,height:m,top:y,left:x,right:v,bottom:g}=a.current;if(e||!o.current||!p||!m)return;const w=n==="left"?`left: ${x}`:`right: ${v}`,S=r==="bottom"?`bottom: ${g}`:`top: ${y}`;o.current.dataset.motionPopId=s;const M=document.createElement("style");l&&(M.nonce=l);const C=i??document.head;return C.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${p}px !important;
            height: ${m}px !important;
            ${w}px !important;
            ${S}px !important;
          }
        `),()=>{C.contains(M)&&C.removeChild(M)}},[e]),_.jsx(pee,{isPresent:e,childRef:o,sizeRef:a,children:T.cloneElement(t,{ref:u})})}const gee=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o,anchorX:a,anchorY:l,root:c})=>{const u=zA(yee),f=T.useId();let p=!0,m=T.useMemo(()=>(p=!1,{id:f,initial:e,isPresent:n,custom:i,onExitComplete:y=>{u.set(y,!0);for(const x of u.values())if(!x)return;r&&r()},register:y=>(u.set(y,!1),()=>u.delete(y))}),[n,u,r]);return s&&p&&(m={...m}),T.useMemo(()=>{u.forEach((y,x)=>u.set(x,!1))},[n]),T.useEffect(()=>{!n&&!u.size&&r&&r()},[n]),o==="popLayout"&&(t=_.jsx(mee,{isPresent:n,anchorX:a,anchorY:l,root:c,children:t})),_.jsx(m_.Provider,{value:m,children:t})};function yee(){return new Map}function _z(t=!0){const e=T.useContext(m_);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const o=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const Xy=t=>t.key||"";function gL(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const pC=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1,anchorX:a="left",anchorY:l="top",root:c})=>{const[u,f]=_z(o),p=T.useMemo(()=>gL(t),[t]),m=o&&!u?[]:p.map(Xy),y=T.useRef(!0),x=T.useRef(p),v=zA(()=>new Map),g=T.useRef(new Set),[w,S]=T.useState(p),[M,C]=T.useState(p);J4(()=>{y.current=!1,x.current=p;for(let O=0;O<M.length;O++){const N=Xy(M[O]);m.includes(N)?(v.delete(N),g.current.delete(N)):v.get(N)!==!0&&v.set(N,!1)}},[M,m.length,m.join("-")]);const P=[];if(p!==w){let O=[...p];for(let N=0;N<M.length;N++){const k=M[N],V=Xy(k);m.includes(V)||(O.splice(N,0,k),P.push(k))}return s==="wait"&&P.length&&(O=P),C(gL(O)),S(p),null}const{forceRender:I}=T.useContext(BA);return _.jsx(_.Fragment,{children:M.map(O=>{const N=Xy(O),k=o&&!u?!1:p===M||m.includes(N),V=()=>{if(g.current.has(N))return;if(g.current.add(N),v.has(N))v.set(N,!0);else return;let W=!0;v.forEach(Q=>{Q||(W=!1)}),W&&(I==null||I(),C(x.current),o&&(f==null||f()),r&&r())};return _.jsx(gee,{isPresent:k,initial:!y.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:c,onExitComplete:k?void 0:V,anchorX:a,anchorY:l,children:O},N)})})},wz=T.createContext({strict:!1}),yL={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let vL=!1;function vee(){if(vL)return;const t={};for(const e in yL)t[e]={isEnabled:n=>yL[e].some(r=>!!n[r])};KB(t),vL=!0}function Sz(){return vee(),iQ()}function xee(t){const e=Sz();for(const n in t)e[n]={...e[n],...t[n]};KB(e)}const _ee=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function fx(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_ee.has(t)}let bz=t=>!fx(t);function wee(t){typeof t=="function"&&(bz=e=>e.startsWith("on")?!fx(e):t(e))}try{wee(require("@emotion/is-prop-valid").default)}catch{}function See(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(bz(i)||n===!0&&fx(i)||!e&&!fx(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const x_=T.createContext({});function bee(t,e){if(v_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||pm(n)?n:void 0,animate:pm(r)?r:void 0}}return t.inherit!==!1?e:{}}function Eee(t){const{initial:e,animate:n}=bee(t,T.useContext(x_));return T.useMemo(()=>({initial:e,animate:n}),[xL(e),xL(n)])}function xL(t){return Array.isArray(t)?t.join(" "):t}const mC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ez(t,e,n){for(const r in e)!qr(e[r])&&!rz(r,n)&&(t[r]=e[r])}function Mee({transformTemplate:t},e){return T.useMemo(()=>{const n=mC();return dC(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Tee(t,e){const n=t.style||{},r={};return Ez(r,n,t),Object.assign(r,Mee(t,e)),r}function Aee(t,e){const n={},r=Tee(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const Mz=()=>({...mC(),attrs:{}});function Cee(t,e,n,r){const i=T.useMemo(()=>{const s=Mz();return iz(s,e,oz(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Ez(s,t.style,t),i.style={...s,...i.style}}return i}const Ree=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gC(t){return typeof t!="string"||t.includes("-")?!1:!!(Ree.indexOf(t)>-1||/[A-Z]/u.test(t))}function Pee(t,e,n,{latestValues:r},i,s=!1,o){const l=(o??gC(t)?Cee:Aee)(e,r,i,t),c=See(e,typeof t=="string",s),u=t!==T.Fragment?{...c,...l,ref:n}:{},{children:f}=e,p=T.useMemo(()=>qr(f)?f.get():f,[f]);return T.createElement(t,{...u,children:p})}function Nee({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:Iee(n,r,i,t),renderState:e()}}function Iee(t,e,n,r){const i={},s=r(t,{});for(const p in s)i[p]=h0(s[p]);let{initial:o,animate:a}=t;const l=v_(t),c=YB(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;if(f&&typeof f!="boolean"&&!y_(f)){const p=Array.isArray(f)?f:[f];for(let m=0;m<p.length;m++){const y=iC(t,p[m]);if(y){const{transitionEnd:x,transition:v,...g}=y;for(const w in g){let S=g[w];if(Array.isArray(S)){const M=u?S.length-1:0;S=S[M]}S!==null&&(i[w]=S)}for(const w in x)i[w]=x[w]}}}return i}const Tz=t=>(e,n)=>{const r=T.useContext(x_),i=T.useContext(m_),s=()=>Nee(t,e,r,i);return n?s():zA(s)},Lee=Tz({scrapeMotionValuesFromProps:fC,createRenderState:mC}),kee=Tz({scrapeMotionValuesFromProps:az,createRenderState:Mz}),Dee=Symbol.for("motionComponentSymbol");function Oee(t,e,n){const r=T.useRef(n);T.useInsertionEffect(()=>{r.current=n});const i=T.useRef(null);return T.useCallback(s=>{var a;s&&((a=t.onMount)==null||a.call(t,s)),e&&(s?e.mount(s):e.unmount());const o=r.current;if(typeof o=="function")if(s){const l=o(s);typeof l=="function"&&(i.current=l)}else i.current?(i.current(),i.current=null):o(s);else o&&(o.current=s)},[e])}const Az=T.createContext({});function fp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Fee(t,e,n,r,i,s){var g,w;const{visualElement:o}=T.useContext(x_),a=T.useContext(wz),l=T.useContext(m_),c=T.useContext(hC).reducedMotion,u=T.useRef(null),f=T.useRef(!1);r=r||a.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:o,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c,isSVG:s}),f.current&&u.current&&(u.current.manuallyAnimateOnMount=!0));const p=u.current,m=T.useContext(Az);p&&!p.projection&&i&&(p.type==="html"||p.type==="svg")&&Uee(u.current,n,i,m);const y=T.useRef(!1);T.useInsertionEffect(()=>{p&&y.current&&p.update(n,l)});const x=n[DB],v=T.useRef(!!x&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,x))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,x)));return J4(()=>{f.current=!0,p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),v.current&&p.animationState&&p.animationState.animateChanges())}),T.useEffect(()=>{p&&(!v.current&&p.animationState&&p.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)==null||S.call(window,x)}),v.current=!1),p.enteringChildren=void 0)}),p}function Uee(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:Cz(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&fp(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function Cz(t){if(t)return t.options.allowProjection!==!1?t.projection:Cz(t.parent)}function uS(t,{forwardMotionProps:e=!1,type:n}={},r,i){r&&xee(r);const s=n?n==="svg":gC(t),o=s?kee:Lee;function a(c,u){let f;const p={...T.useContext(hC),...c,layoutId:Bee(c)},{isStatic:m}=p,y=Eee(c),x=o(c,m);if(!m&&Z4){zee();const v=Vee(p);f=v.MeasureLayout,y.visualElement=Fee(t,x,p,i,v.ProjectionNode,s)}return _.jsxs(x_.Provider,{value:y,children:[f&&y.visualElement?_.jsx(f,{visualElement:y.visualElement,...p}):null,Pee(t,c,Oee(x,y.visualElement,u),x,m,e,s)]})}a.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=T.forwardRef(a);return l[Dee]=t,l}function Bee({layoutId:t}){const e=T.useContext(BA).id;return e&&t!==void 0?e+"-"+t:t}function zee(t,e){T.useContext(wz).strict}function Vee(t){const e=Sz(),{drag:n,layout:r}=e;if(!n&&!r)return{};const i={...n,...r};return{MeasureLayout:n!=null&&n.isEnabled(t)||r!=null&&r.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}function jee(t,e){if(typeof Proxy>"u")return uS;const n=new Map,r=(s,o)=>uS(s,o,t,e),i=(s,o)=>r(s,o);return new Proxy(i,{get:(s,o)=>o==="create"?r:(n.has(o)||n.set(o,uS(o,void 0,t,e)),n.get(o))})}const Hee=(t,e)=>e.isSVG??gC(t)?new wQ(e):new mQ(e,{allowProjection:t!==T.Fragment});class Wee extends Xl{constructor(e){super(e),e.animationState||(e.animationState=TQ(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();y_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Gee=0;class $ee extends Xl{constructor(){super(...arguments),this.id=Gee++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xee={animation:{Feature:Wee},exit:{Feature:$ee}};function tg(t){return{point:{x:t.pageX,y:t.pageY}}}const qee=t=>e=>lC(e)&&t(e,tg(e));function Ip(t,e,n,r){return mm(t,e,qee(n),r)}const Rz=({current:t})=>t?t.ownerDocument.defaultView:null,_L=(t,e)=>Math.abs(t-e);function Yee(t,e){const n=_L(t.x,e.x),r=_L(t.y,e.y);return Math.sqrt(n**2+r**2)}const wL=new Set(["auto","scroll"]);class Pz{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3,element:a}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=m=>{this.handleScroll(m.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=fS(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,x=Yee(m.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!x)return;const{point:v}=m,{timestamp:g}=Pr;this.history.push({...v,timestamp:g});const{onStart:w,onMove:S}=this.handlers;y||(w&&w(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=dS(y,this.transformPagePoint),Mn.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:x,onSessionEnd:v,resumeAnimation:g}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=fS(m.type==="pointercancel"?this.lastMoveEventInfo:dS(y,this.transformPagePoint),this.history);this.startEvent&&x&&x(m,w),v&&v(m,w)},!lC(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=o,this.contextWindow=i||window;const l=tg(e),c=dS(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=Pr;this.history=[{...u,timestamp:f}];const{onSessionStart:p}=n;p&&p(e,fS(c,this.history)),this.removeListeners=Jm(Ip(this.contextWindow,"pointermove",this.handlePointerMove),Ip(this.contextWindow,"pointerup",this.handlePointerUp),Ip(this.contextWindow,"pointercancel",this.handlePointerUp)),a&&this.startScrollTracking(a)}startScrollTracking(e){let n=e.parentElement;for(;n;){const r=getComputedStyle(n);(wL.has(r.overflowX)||wL.has(r.overflowY))&&this.scrollPositions.set(n,{x:n.scrollLeft,y:n.scrollTop}),n=n.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0,passive:!0}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0}),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const n=this.scrollPositions.get(e);if(!n)return;const r=e===window,i=r?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},s={x:i.x-n.x,y:i.y-n.y};s.x===0&&s.y===0||(r?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=s.x,this.lastMoveEventInfo.point.y+=s.y):this.history.length>0&&(this.history[0].x-=s.x,this.history[0].y-=s.y),this.scrollPositions.set(e,i),Mn.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Ll(this.updatePoint)}}function dS(t,e){return e?{point:e(t.point)}:t}function SL(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fS({point:t},e){return{point:t,delta:SL(t,Nz(e)),offset:SL(t,Kee(e)),velocity:Zee(e,.1)}}function Kee(t){return t[0]}function Nz(t){return t[t.length-1]}function Zee(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Nz(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>No(e)));)n--;if(!r)return{x:0,y:0};const s=xs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Jee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?kn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?kn(n,t,r.max):Math.min(t,n)),t}function bL(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function Qee(t,{top:e,left:n,bottom:r,right:i}){return{x:bL(t.x,n,i),y:bL(t.y,e,r)}}function EL(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function ete(t,e){return{x:EL(t.x,e.x),y:EL(t.y,e.y)}}function tte(t,e){let n=.5;const r=li(t),i=li(e);return i>r?n=dm(e.min,e.max-r,t.min):r>i&&(n=dm(t.min,t.max-i,e.min)),Uo(0,1,n)}function nte(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iM=.35;function rte(t=iM){return t===!1?t=0:t===!0&&(t=iM),{x:ML(t,"left","right"),y:ML(t,"top","bottom")}}function ML(t,e,n){return{min:TL(t,e),max:TL(t,n)}}function TL(t,e){return typeof t=="number"?t:t[e]||0}const ite=new WeakMap;class ste{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ur(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{n?(this.stopAnimation(),this.snapToCursor(tg(f).point)):this.pauseAnimation()},o=(f,p)=>{this.stopAnimation();const{drag:m,dragPropagation:y,onDragStart:x}=this.getProps();if(m&&!y&&(this.openDragLock&&this.openDragLock(),this.openDragLock=$J(m),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),hs(g=>{let w=this.getAxisMotionValue(g).get()||0;if(Io.test(w)){const{projection:S}=this.visualElement;if(S&&S.layout){const M=S.layout.layoutBox[g];M&&(w=li(M)*(parseFloat(w)/100))}}this.originPoint[g]=w}),x&&Mn.postRender(()=>x(f,p)),KE(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},a=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p;const{dragPropagation:m,dragDirectionLock:y,onDirectionLock:x,onDrag:v}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:g}=p;if(y&&this.currentDirection===null){this.currentDirection=ote(g),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",p.point,g),this.updateAxis("y",p.point,g),this.visualElement.render(),v&&v(f,p)},l=(f,p)=>{this.latestPointerEvent=f,this.latestPanInfo=p,this.stop(f,p),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>hs(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)==null?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Pz(e,{onSessionStart:s,onStart:o,onMove:a,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:Rz(this.visualElement),element:this.visualElement.current})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:o}=i;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&Mn.postRender(()=>a(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!qy(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=Jee(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&fp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=Qee(r.layoutBox,e):this.constraints=!1,this.elastic=rte(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&hs(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=nte(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!fp(e))return!1;const r=e.current;Rf(r!==null,"If `dragConstraints` is set as a React ref, that ref must be passed to another component's `ref` prop.","drag-constraints-ref");const{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=cQ(r,i.root,this.visualElement.getTransformPagePoint());let o=ete(i.layout.layoutBox,s);if(n){const a=n(oQ(o));this.hasMutatedConstraints=!!a,a&&(o=JB(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=hs(u=>{if(!qy(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const p=i?200:1e6,m=i?40:1e7,y={type:"inertia",velocity:r?e[u]:0,bounceStiffness:p,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,y)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return KE(this.visualElement,e),r.start(rC(e,r,0,n,this.visualElement,!1))}stopAnimation(){hs(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){hs(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){hs(n=>{const{drag:r}=this.getProps();if(!qy(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n],l=s.get()||0;s.set(e[n]-kn(o,a,.5)+l)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!fp(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};hs(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=tte({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),hs(o=>{if(!qy(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(kn(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;ite.set(this.visualElement,this);const e=this.visualElement.current,n=Ip(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps(),f=l.target,p=f!==e&&$B(f);c&&u&&!p&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();fp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Mn.read(r);const o=mm(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(hs(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=iM,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function qy(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ote(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ate extends Xl{constructor(e){super(e),this.removeGroupControls=ws,this.removeListeners=ws,this.controls=new ste(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ws}update(){const{dragControls:e}=this.node.getProps(),{dragControls:n}=this.node.prevProps||{};e!==n&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const AL=t=>(e,n)=>{t&&Mn.postRender(()=>t(e,n))};class lte extends Xl{constructor(){super(...arguments),this.removePointerDownListener=ws}onPointerDown(e){this.session=new Pz(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rz(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:AL(e),onStart:AL(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Mn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Ip(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let hS=!1;class cte extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),hS&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),p0.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:o}=r;return o&&(o.isPresent=s,e.layoutDependency!==n&&o.setOptions({...o.options,layoutDependency:n}),hS=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Mn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),aC.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;hS=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Iz(t){const[e,n]=_z(),r=T.useContext(BA);return _.jsx(cte,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(Az),isPresent:e,safeToRemove:n})}const ute={pan:{Feature:lte},drag:{Feature:ate,ProjectionNode:xz,MeasureLayout:Iz}};function CL(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Mn.postRender(()=>s(e,tg(e)))}class dte extends Xl{mount(){const{current:e}=this.node;e&&(this.unmount=XJ(e,(n,r)=>(CL(this.node,r,"Start"),i=>CL(this.node,i,"End"))))}unmount(){}}class fte extends Xl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Jm(mm(this.node.current,"focus",()=>this.onFocus()),mm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function RL(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Mn.postRender(()=>s(e,tg(e)))}class hte extends Xl{mount(){const{current:e}=this.node;e&&(this.unmount=KJ(e,(n,r)=>(RL(this.node,r,"Start"),(i,{success:s})=>RL(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sM=new WeakMap,pS=new WeakMap,pte=t=>{const e=sM.get(t.target);e&&e(t)},mte=t=>{t.forEach(pte)};function gte({root:t,...e}){const n=t||document;pS.has(n)||pS.set(n,{});const r=pS.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(mte,{root:t,...e})),r[i]}function yte(t,e,n){const r=gte(e);return sM.set(t,n),r.observe(t),()=>{sM.delete(t),r.unobserve(t)}}const vte={some:0,all:1};class xte extends Xl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:vte[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),p=c?u:f;p&&p(l)};return yte(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_te(e,n))&&this.startObserver()}unmount(){}}function _te({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const wte={inView:{Feature:xte},tap:{Feature:hte},focus:{Feature:fte},hover:{Feature:dte}},Ste={layout:{ProjectionNode:xz,MeasureLayout:Iz}},bte={...Xee,...wte,...ute,...Ste},at=jee(bte,Hee);var Ete=T.createContext(void 0);function yC(t){const e=T.useContext(Ete);return t||e||"ltr"}var mS=0;function Lz(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PL()),document.body.insertAdjacentElement("beforeend",t[1]??PL()),mS++,()=>{mS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mS--}},[])}function PL(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var gS="focusScope.autoFocusOnMount",yS="focusScope.autoFocusOnUnmount",NL={bubbles:!1,cancelable:!0},Mte="FocusScope",vC=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=T.useState(null),c=ki(i),u=ki(s),f=T.useRef(null),p=pn(e,x=>l(x)),m=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let x=function(S){if(m.paused||!a)return;const M=S.target;a.contains(M)?f.current=M:Qa(f.current,{select:!0})},v=function(S){if(m.paused||!a)return;const M=S.relatedTarget;M!==null&&(a.contains(M)||Qa(f.current,{select:!0}))},g=function(S){if(document.activeElement===document.body)for(const C of S)C.removedNodes.length>0&&Qa(a)};document.addEventListener("focusin",x),document.addEventListener("focusout",v);const w=new MutationObserver(g);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",v),w.disconnect()}}},[r,a,m.paused]),T.useEffect(()=>{if(a){LL.add(m);const x=document.activeElement;if(!a.contains(x)){const g=new CustomEvent(gS,NL);a.addEventListener(gS,c),a.dispatchEvent(g),g.defaultPrevented||(Tte(Nte(kz(a)),{select:!0}),document.activeElement===x&&Qa(a))}return()=>{a.removeEventListener(gS,c),setTimeout(()=>{const g=new CustomEvent(yS,NL);a.addEventListener(yS,u),a.dispatchEvent(g),g.defaultPrevented||Qa(x??document.body,{select:!0}),a.removeEventListener(yS,u),LL.remove(m)},0)}}},[a,c,u,m]);const y=T.useCallback(x=>{if(!n&&!r||m.paused)return;const v=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,g=document.activeElement;if(v&&g){const w=x.currentTarget,[S,M]=Ate(w);S&&M?!x.shiftKey&&g===M?(x.preventDefault(),n&&Qa(S,{select:!0})):x.shiftKey&&g===S&&(x.preventDefault(),n&&Qa(M,{select:!0})):g===w&&x.preventDefault()}},[n,r,m.paused]);return _.jsx($t.div,{tabIndex:-1,...o,ref:p,onKeyDown:y})});vC.displayName=Mte;function Tte(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Qa(r,{select:e}),document.activeElement!==n)return}function Ate(t){const e=kz(t),n=IL(e,t),r=IL(e.reverse(),t);return[n,r]}function kz(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function IL(t,e){for(const n of t)if(!Cte(n,{upTo:e}))return n}function Cte(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rte(t){return t instanceof HTMLInputElement&&"select"in t}function Qa(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Rte(t)&&e&&t.select()}}var LL=Pte();function Pte(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=kL(t,e),t.unshift(e)},remove(e){var n;t=kL(t,e),(n=t[0])==null||n.resume()}}}function kL(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Nte(t){return t.filter(e=>e.tagName!=="A")}var vS="rovingFocusGroup.onEntryFocus",Ite={bubbles:!1,cancelable:!0},ng="RovingFocusGroup",[oM,Dz,Lte]=Qx(ng),[kte,Oz]=Gl(ng,[Lte]),[Dte,Ote]=kte(ng),Fz=T.forwardRef((t,e)=>_.jsx(oM.Provider,{scope:t.__scopeRovingFocusGroup,children:_.jsx(oM.Slot,{scope:t.__scopeRovingFocusGroup,children:_.jsx(Fte,{...t,ref:e})})}));Fz.displayName=ng;var Fte=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...f}=t,p=T.useRef(null),m=pn(e,p),y=yC(s),[x,v]=im({prop:o,defaultProp:a??null,onChange:l,caller:ng}),[g,w]=T.useState(!1),S=ki(c),M=Dz(n),C=T.useRef(!1),[P,I]=T.useState(0);return T.useEffect(()=>{const O=p.current;if(O)return O.addEventListener(vS,S),()=>O.removeEventListener(vS,S)},[S]),_.jsx(Dte,{scope:n,orientation:r,dir:y,loop:i,currentTabStopId:x,onItemFocus:T.useCallback(O=>v(O),[v]),onItemShiftTab:T.useCallback(()=>w(!0),[]),onFocusableItemAdd:T.useCallback(()=>I(O=>O+1),[]),onFocusableItemRemove:T.useCallback(()=>I(O=>O-1),[]),children:_.jsx($t.div,{tabIndex:g||P===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:Ze(t.onMouseDown,()=>{C.current=!0}),onFocus:Ze(t.onFocus,O=>{const N=!C.current;if(O.target===O.currentTarget&&N&&!g){const k=new CustomEvent(vS,Ite);if(O.currentTarget.dispatchEvent(k),!k.defaultPrevented){const V=M().filter(q=>q.focusable),W=V.find(q=>q.active),Q=V.find(q=>q.id===x),Y=[W,Q,...V].filter(Boolean).map(q=>q.ref.current);zz(Y,u)}}C.current=!1}),onBlur:Ze(t.onBlur,()=>w(!1))})})}),Uz="RovingFocusGroupItem",Bz=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:o,...a}=t,l=Tf(),c=s||l,u=Ote(Uz,n),f=u.currentTabStopId===c,p=Dz(n),{onFocusableItemAdd:m,onFocusableItemRemove:y,currentTabStopId:x}=u;return T.useEffect(()=>{if(r)return m(),()=>y()},[r,m,y]),_.jsx(oM.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:_.jsx($t.span,{tabIndex:f?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:Ze(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:Ze(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:Ze(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const g=zte(v,u.orientation,u.dir);if(g!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let S=p().filter(M=>M.focusable).map(M=>M.ref.current);if(g==="last")S.reverse();else if(g==="prev"||g==="next"){g==="prev"&&S.reverse();const M=S.indexOf(v.currentTarget);S=u.loop?Vte(S,M+1):S.slice(M+1)}setTimeout(()=>zz(S))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});Bz.displayName=Uz;var Ute={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Bte(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function zte(t,e,n){const r=Bte(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Ute[r]}function zz(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function Vte(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var jte=Fz,Hte=Bz,Wte=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},$u=new WeakMap,Yy=new WeakMap,Ky={},xS=0,Vz=function(t){return t&&(t.host||Vz(t.parentNode))},Gte=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Vz(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},$te=function(t,e,n,r){var i=Gte(e,Array.isArray(t)?t:[t]);Ky[n]||(Ky[n]=new WeakMap);var s=Ky[n],o=[],a=new Set,l=new Set(i),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};i.forEach(c);var u=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))u(p);else try{var m=p.getAttribute(r),y=m!==null&&m!=="false",x=($u.get(p)||0)+1,v=(s.get(p)||0)+1;$u.set(p,x),s.set(p,v),o.push(p),x===1&&y&&Yy.set(p,!0),v===1&&p.setAttribute(n,"true"),y||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return u(e),a.clear(),xS++,function(){o.forEach(function(f){var p=$u.get(f)-1,m=s.get(f)-1;$u.set(f,p),s.set(f,m),p||(Yy.has(f)||f.removeAttribute(r),Yy.delete(f)),m||f.removeAttribute(n)}),xS--,xS||($u=new WeakMap,$u=new WeakMap,Yy=new WeakMap,Ky={})}},jz=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=Wte(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),$te(r,i,n,"aria-hidden")):function(){return null}},Eo=function(){return Eo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Eo.apply(this,arguments)};function Hz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xte(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var m0="right-scroll-bar-position",g0="width-before-scroll-bar",qte="with-scroll-bars-hidden",Yte="--removed-body-scroll-bar-size";function _S(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Kte(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var Zte=typeof window<"u"?T.useLayoutEffect:T.useEffect,DL=new WeakMap;function Jte(t,e){var n=Kte(null,function(r){return t.forEach(function(i){return _S(i,r)})});return Zte(function(){var r=DL.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||_S(a,null)}),s.forEach(function(a){i.has(a)||_S(a,o)})}DL.set(n,t)},[t]),n}function Qte(t){return t}function ene(t,e){e===void 0&&(e=Qte);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var u=o;o=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){o.push(u),c()},filter:function(u){return o=o.filter(u),n}}}};return i}function tne(t){t===void 0&&(t={});var e=ene(null);return e.options=Eo({async:!0,ssr:!1},t),e}var Wz=function(t){var e=t.sideCar,n=Hz(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Eo({},n))};Wz.isSideCarExport=!0;function nne(t,e){return t.useMedium(e),Wz}var Gz=tne(),wS=function(){},__=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:wS,onWheelCapture:wS,onTouchMoveCapture:wS}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,y=t.noIsolation,x=t.inert,v=t.allowPinchZoom,g=t.as,w=g===void 0?"div":g,S=t.gapMode,M=Hz(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=p,P=Jte([n,e]),I=Eo(Eo({},M),i);return T.createElement(T.Fragment,null,u&&T.createElement(C,{sideCar:Gz,removeScrollBar:c,shards:f,noRelative:m,noIsolation:y,inert:x,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:S}),o?T.cloneElement(T.Children.only(a),Eo(Eo({},I),{ref:P})):T.createElement(w,Eo({},I,{className:l,ref:P}),a))});__.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};__.classNames={fullWidth:g0,zeroRight:m0};var rne=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ine(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rne();return e&&t.setAttribute("nonce",e),t}function sne(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function one(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var ane=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ine())&&(sne(e,n),one(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lne=function(){var t=ane();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},$z=function(){var t=lne(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},cne={left:0,top:0,right:0,gap:0},SS=function(t){return parseInt(t||"",10)||0},une=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[SS(n),SS(r),SS(i)]},dne=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cne;var e=une(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},fne=$z(),af="data-scroll-locked",hne=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(qte,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(af,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(m0,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(g0,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(m0," .").concat(m0,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(g0," .").concat(g0,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(af,`] {
    `).concat(Yte,": ").concat(a,`px;
  }
`)},OL=function(){var t=parseInt(document.body.getAttribute(af)||"0",10);return isFinite(t)?t:0},pne=function(){T.useEffect(function(){return document.body.setAttribute(af,(OL()+1).toString()),function(){var t=OL()-1;t<=0?document.body.removeAttribute(af):document.body.setAttribute(af,t.toString())}},[])},mne=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;pne();var s=T.useMemo(function(){return dne(i)},[i]);return T.createElement(fne,{styles:hne(s,!e,i,n?"":"!important")})},aM=!1;if(typeof window<"u")try{var Zy=Object.defineProperty({},"passive",{get:function(){return aM=!0,!0}});window.addEventListener("test",Zy,Zy),window.removeEventListener("test",Zy,Zy)}catch{aM=!1}var Xu=aM?{passive:!1}:!1,gne=function(t){return t.tagName==="TEXTAREA"},Xz=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gne(t)&&n[e]==="visible")},yne=function(t){return Xz(t,"overflowY")},vne=function(t){return Xz(t,"overflowX")},FL=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=qz(t,r);if(i){var s=Yz(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},xne=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_ne=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},qz=function(t,e){return t==="v"?yne(e):vne(e)},Yz=function(t,e){return t==="v"?xne(e):_ne(e)},wne=function(t,e){return t==="h"&&e==="rtl"?-1:1},Sne=function(t,e,n,r,i){var s=wne(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,u=o>0,f=0,p=0;do{if(!a)break;var m=Yz(t,a),y=m[0],x=m[1],v=m[2],g=x-v-s*y;(y||g)&&qz(t,a)&&(f+=g,p+=y);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(u&&(Math.abs(f)<1||!i)||!u&&(Math.abs(p)<1||!i))&&(c=!0),c},Jy=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},UL=function(t){return[t.deltaX,t.deltaY]},BL=function(t){return t&&"current"in t?t.current:t},bne=function(t,e){return t[0]===e[0]&&t[1]===e[1]},Ene=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},Mne=0,qu=[];function Tne(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(Mne++)[0],s=T.useState($z)[0],o=T.useRef(t);T.useEffect(function(){o.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=Xte([t.lockRef.current],(t.shards||[]).map(BL),!0).filter(Boolean);return x.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=T.useCallback(function(x,v){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var g=Jy(x),w=n.current,S="deltaX"in x?x.deltaX:w[0]-g[0],M="deltaY"in x?x.deltaY:w[1]-g[1],C,P=x.target,I=Math.abs(S)>Math.abs(M)?"h":"v";if("touches"in x&&I==="h"&&P.type==="range")return!1;var O=FL(I,P);if(!O)return!0;if(O?C=I:(C=I==="v"?"h":"v",O=FL(I,P)),!O)return!1;if(!r.current&&"changedTouches"in x&&(S||M)&&(r.current=C),!C)return!0;var N=r.current||C;return Sne(N,v,x,N==="h"?S:M,!0)},[]),l=T.useCallback(function(x){var v=x;if(!(!qu.length||qu[qu.length-1]!==s)){var g="deltaY"in v?UL(v):Jy(v),w=e.current.filter(function(C){return C.name===v.type&&(C.target===v.target||v.target===C.shadowParent)&&bne(C.delta,g)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var S=(o.current.shards||[]).map(BL).filter(Boolean).filter(function(C){return C.contains(v.target)}),M=S.length>0?a(v,S[0]):!o.current.noIsolation;M&&v.cancelable&&v.preventDefault()}}},[]),c=T.useCallback(function(x,v,g,w){var S={name:x,delta:v,target:g,should:w,shadowParent:Ane(g)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(M){return M!==S})},1)},[]),u=T.useCallback(function(x){n.current=Jy(x),r.current=void 0},[]),f=T.useCallback(function(x){c(x.type,UL(x),x.target,a(x,t.lockRef.current))},[]),p=T.useCallback(function(x){c(x.type,Jy(x),x.target,a(x,t.lockRef.current))},[]);T.useEffect(function(){return qu.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Xu),document.addEventListener("touchmove",l,Xu),document.addEventListener("touchstart",u,Xu),function(){qu=qu.filter(function(x){return x!==s}),document.removeEventListener("wheel",l,Xu),document.removeEventListener("touchmove",l,Xu),document.removeEventListener("touchstart",u,Xu)}},[]);var m=t.removeScrollBar,y=t.inert;return T.createElement(T.Fragment,null,y?T.createElement(s,{styles:Ene(i)}):null,m?T.createElement(mne,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function Ane(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const Cne=nne(Gz,Tne);var xC=T.forwardRef(function(t,e){return T.createElement(__,Eo({},t,{ref:e,sideCar:Cne}))});xC.classNames=__.classNames;var lM=["Enter"," "],Rne=["ArrowDown","PageUp","Home"],Kz=["ArrowUp","PageDown","End"],Pne=[...Rne,...Kz],Nne={ltr:[...lM,"ArrowRight"],rtl:[...lM,"ArrowLeft"]},Ine={ltr:["ArrowLeft"],rtl:["ArrowRight"]},rg="Menu",[gm,Lne,kne]=Qx(rg),[Su,Zz]=Gl(rg,[kne,Zf,Oz]),w_=Zf(),Jz=Oz(),[Dne,bu]=Su(rg),[One,ig]=Su(rg),Qz=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:o=!0}=t,a=w_(e),[l,c]=T.useState(null),u=T.useRef(!1),f=ki(s),p=yC(i);return T.useEffect(()=>{const m=()=>{u.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>u.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),_.jsx(S4,{...a,children:_.jsx(Dne,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:_.jsx(One,{scope:e,onClose:T.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:u,dir:p,modal:o,children:r})})})};Qz.displayName=rg;var Fne="MenuAnchor",_C=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=w_(n);return _.jsx(CA,{...i,...r,ref:e})});_C.displayName=Fne;var wC="MenuPortal",[Une,e5]=Su(wC,{forceMount:void 0}),t5=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=bu(wC,e);return _.jsx(Une,{scope:e,forceMount:n,children:_.jsx(wu,{present:n||s.open,children:_.jsx(e_,{asChild:!0,container:i,children:r})})})};t5.displayName=wC;var Ss="MenuContent",[Bne,SC]=Su(Ss),n5=T.forwardRef((t,e)=>{const n=e5(Ss,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=bu(Ss,t.__scopeMenu),o=ig(Ss,t.__scopeMenu);return _.jsx(gm.Provider,{scope:t.__scopeMenu,children:_.jsx(wu,{present:r||s.open,children:_.jsx(gm.Slot,{scope:t.__scopeMenu,children:o.modal?_.jsx(zne,{...i,ref:e}):_.jsx(Vne,{...i,ref:e})})})})}),zne=T.forwardRef((t,e)=>{const n=bu(Ss,t.__scopeMenu),r=T.useRef(null),i=pn(e,r);return T.useEffect(()=>{const s=r.current;if(s)return jz(s)},[]),_.jsx(bC,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Ze(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),Vne=T.forwardRef((t,e)=>{const n=bu(Ss,t.__scopeMenu);return _.jsx(bC,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),jne=Ef("MenuContent.ScrollLock"),bC=T.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:y,...x}=t,v=bu(Ss,n),g=ig(Ss,n),w=w_(n),S=Jz(n),M=Lne(n),[C,P]=T.useState(null),I=T.useRef(null),O=pn(e,I,v.onContentChange),N=T.useRef(0),k=T.useRef(""),V=T.useRef(0),W=T.useRef(null),Q=T.useRef("right"),U=T.useRef(0),Y=y?xC:T.Fragment,q=y?{as:jne,allowPinchZoom:!0}:void 0,te=F=>{var ce,Oe;const j=k.current+F,K=M().filter(Be=>!Be.disabled),ee=document.activeElement,J=(ce=K.find(Be=>Be.ref.current===ee))==null?void 0:ce.textValue,ae=K.map(Be=>Be.textValue),Se=ere(ae,j,J),Ae=(Oe=K.find(Be=>Be.textValue===Se))==null?void 0:Oe.ref.current;(function Be(Re){k.current=Re,window.clearTimeout(N.current),Re!==""&&(N.current=window.setTimeout(()=>Be(""),1e3))})(j),Ae&&setTimeout(()=>Ae.focus())};T.useEffect(()=>()=>window.clearTimeout(N.current),[]),Lz();const D=T.useCallback(F=>{var K,ee;return Q.current===((K=W.current)==null?void 0:K.side)&&nre(F,(ee=W.current)==null?void 0:ee.area)},[]);return _.jsx(Bne,{scope:n,searchRef:k,onItemEnter:T.useCallback(F=>{D(F)&&F.preventDefault()},[D]),onItemLeave:T.useCallback(F=>{var j;D(F)||((j=I.current)==null||j.focus(),P(null))},[D]),onTriggerLeave:T.useCallback(F=>{D(F)&&F.preventDefault()},[D]),pointerGraceTimerRef:V,onPointerGraceIntentChange:T.useCallback(F=>{W.current=F},[]),children:_.jsx(Y,{...q,children:_.jsx(vC,{asChild:!0,trapped:i,onMountAutoFocus:Ze(s,F=>{var j;F.preventDefault(),(j=I.current)==null||j.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:_.jsx(Xm,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:_.jsx(jte,{asChild:!0,...S,dir:g.dir,orientation:"vertical",loop:r,currentTabStopId:C,onCurrentTabStopIdChange:P,onEntryFocus:Ze(l,F=>{g.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:_.jsx(RA,{role:"menu","aria-orientation":"vertical","data-state":v5(v.open),"data-radix-menu-content":"",dir:g.dir,...w,...x,ref:O,style:{outline:"none",...x.style},onKeyDown:Ze(x.onKeyDown,F=>{const K=F.target.closest("[data-radix-menu-content]")===F.currentTarget,ee=F.ctrlKey||F.altKey||F.metaKey,J=F.key.length===1;K&&(F.key==="Tab"&&F.preventDefault(),!ee&&J&&te(F.key));const ae=I.current;if(F.target!==ae||!Pne.includes(F.key))return;F.preventDefault();const Ae=M().filter(ce=>!ce.disabled).map(ce=>ce.ref.current);Kz.includes(F.key)&&Ae.reverse(),Jne(Ae)}),onBlur:Ze(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(N.current),k.current="")}),onPointerMove:Ze(t.onPointerMove,ym(F=>{const j=F.target,K=U.current!==F.clientX;if(F.currentTarget.contains(j)&&K){const ee=F.clientX>U.current?"right":"left";Q.current=ee,U.current=F.clientX}}))})})})})})})});n5.displayName=Ss;var Hne="MenuGroup",EC=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx($t.div,{role:"group",...r,ref:e})});EC.displayName=Hne;var Wne="MenuLabel",r5=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx($t.div,{...r,ref:e})});r5.displayName=Wne;var hx="MenuItem",zL="menu.itemSelect",S_=T.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=T.useRef(null),o=ig(hx,t.__scopeMenu),a=SC(hx,t.__scopeMenu),l=pn(e,s),c=T.useRef(!1),u=()=>{const f=s.current;if(!n&&f){const p=new CustomEvent(zL,{bubbles:!0,cancelable:!0});f.addEventListener(zL,m=>r==null?void 0:r(m),{once:!0}),mA(f,p),p.defaultPrevented?c.current=!1:o.onClose()}};return _.jsx(i5,{...i,ref:l,disabled:n,onClick:Ze(t.onClick,u),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),c.current=!0},onPointerUp:Ze(t.onPointerUp,f=>{var p;c.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:Ze(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||lM.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});S_.displayName=hx;var i5=T.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,o=SC(hx,n),a=Jz(n),l=T.useRef(null),c=pn(e,l),[u,f]=T.useState(!1),[p,m]=T.useState("");return T.useEffect(()=>{const y=l.current;y&&m((y.textContent??"").trim())},[s.children]),_.jsx(gm.ItemSlot,{scope:n,disabled:r,textValue:i??p,children:_.jsx(Hte,{asChild:!0,...a,focusable:!r,children:_.jsx($t.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:Ze(t.onPointerMove,ym(y=>{r?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ze(t.onPointerLeave,ym(y=>o.onItemLeave(y))),onFocus:Ze(t.onFocus,()=>f(!0)),onBlur:Ze(t.onBlur,()=>f(!1))})})})}),Gne="MenuCheckboxItem",s5=T.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return _.jsx(u5,{scope:t.__scopeMenu,checked:n,children:_.jsx(S_,{role:"menuitemcheckbox","aria-checked":px(n)?"mixed":n,...i,ref:e,"data-state":TC(n),onSelect:Ze(i.onSelect,()=>r==null?void 0:r(px(n)?!0:!n),{checkForDefaultPrevented:!1})})})});s5.displayName=Gne;var o5="MenuRadioGroup",[$ne,Xne]=Su(o5,{value:void 0,onValueChange:()=>{}}),a5=T.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=ki(r);return _.jsx($ne,{scope:t.__scopeMenu,value:n,onValueChange:s,children:_.jsx(EC,{...i,ref:e})})});a5.displayName=o5;var l5="MenuRadioItem",c5=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=Xne(l5,t.__scopeMenu),s=n===i.value;return _.jsx(u5,{scope:t.__scopeMenu,checked:s,children:_.jsx(S_,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":TC(s),onSelect:Ze(r.onSelect,()=>{var o;return(o=i.onValueChange)==null?void 0:o.call(i,n)},{checkForDefaultPrevented:!1})})})});c5.displayName=l5;var MC="MenuItemIndicator",[u5,qne]=Su(MC,{checked:!1}),d5=T.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=qne(MC,n);return _.jsx(wu,{present:r||px(s.checked)||s.checked===!0,children:_.jsx($t.span,{...i,ref:e,"data-state":TC(s.checked)})})});d5.displayName=MC;var Yne="MenuSeparator",f5=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return _.jsx($t.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});f5.displayName=Yne;var Kne="MenuArrow",h5=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=w_(n);return _.jsx(PA,{...i,...r,ref:e})});h5.displayName=Kne;var Zne="MenuSub",[sye,p5]=Su(Zne),hp="MenuSubTrigger",m5=T.forwardRef((t,e)=>{const n=bu(hp,t.__scopeMenu),r=ig(hp,t.__scopeMenu),i=p5(hp,t.__scopeMenu),s=SC(hp,t.__scopeMenu),o=T.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=T.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return T.useEffect(()=>u,[u]),T.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),_.jsx(_C,{asChild:!0,...c,children:_.jsx(i5,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":v5(n.open),...t,ref:Jx(e,i.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Ze(t.onPointerMove,ym(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:Ze(t.onPointerLeave,ym(f=>{var m,y;u();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const x=(y=n.content)==null?void 0:y.dataset.side,v=x==="right",g=v?-5:5,w=p[v?"left":"right"],S=p[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+g,y:f.clientY},{x:w,y:p.top},{x:S,y:p.top},{x:S,y:p.bottom},{x:w,y:p.bottom}],side:x}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ze(t.onKeyDown,f=>{var m;const p=s.searchRef.current!=="";t.disabled||p&&f.key===" "||Nne[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});m5.displayName=hp;var g5="MenuSubContent",y5=T.forwardRef((t,e)=>{const n=e5(Ss,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=bu(Ss,t.__scopeMenu),o=ig(Ss,t.__scopeMenu),a=p5(g5,t.__scopeMenu),l=T.useRef(null),c=pn(e,l);return _.jsx(gm.Provider,{scope:t.__scopeMenu,children:_.jsx(wu,{present:r||s.open,children:_.jsx(gm.Slot,{scope:t.__scopeMenu,children:_.jsx(bC,{id:a.contentId,"aria-labelledby":a.triggerId,...i,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:Ze(t.onFocusOutside,u=>{u.target!==a.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ze(t.onEscapeKeyDown,u=>{o.onClose(),u.preventDefault()}),onKeyDown:Ze(t.onKeyDown,u=>{var m;const f=u.currentTarget.contains(u.target),p=Ine[o.dir].includes(u.key);f&&p&&(s.onOpenChange(!1),(m=a.trigger)==null||m.focus(),u.preventDefault())})})})})})});y5.displayName=g5;function v5(t){return t?"open":"closed"}function px(t){return t==="indeterminate"}function TC(t){return px(t)?"indeterminate":t?"checked":"unchecked"}function Jne(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Qne(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function ere(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=Qne(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function tre(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s],l=e[o],c=a.x,u=a.y,f=l.x,p=l.y;u>r!=p>r&&n<(f-c)*(r-u)/(p-u)+c&&(i=!i)}return i}function nre(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return tre(n,e)}function ym(t){return e=>e.pointerType==="mouse"?t(e):void 0}var rre=Qz,ire=_C,sre=t5,ore=n5,are=EC,lre=r5,cre=S_,ure=s5,dre=a5,fre=c5,hre=d5,pre=f5,mre=h5,gre=m5,yre=y5,b_="DropdownMenu",[vre,oye]=Gl(b_,[Zz]),mi=Zz(),[xre,x5]=vre(b_),_5=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:o,modal:a=!0}=t,l=mi(e),c=T.useRef(null),[u,f]=im({prop:i,defaultProp:s??!1,onChange:o,caller:b_});return _.jsx(xre,{scope:e,triggerId:Tf(),triggerRef:c,contentId:Tf(),open:u,onOpenChange:f,onOpenToggle:T.useCallback(()=>f(p=>!p),[f]),modal:a,children:_.jsx(rre,{...l,open:u,onOpenChange:f,dir:r,modal:a,children:n})})};_5.displayName=b_;var w5="DropdownMenuTrigger",S5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=x5(w5,n),o=mi(n);return _.jsx(ire,{asChild:!0,...o,children:_.jsx($t.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:Jx(e,s.triggerRef),onPointerDown:Ze(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(s.onOpenToggle(),s.open||a.preventDefault())}),onKeyDown:Ze(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&s.onOpenToggle(),a.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});S5.displayName=w5;var _re="DropdownMenuPortal",b5=t=>{const{__scopeDropdownMenu:e,...n}=t,r=mi(e);return _.jsx(sre,{...r,...n})};b5.displayName=_re;var E5="DropdownMenuContent",M5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=x5(E5,n),s=mi(n),o=T.useRef(!1);return _.jsx(ore,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:Ze(t.onCloseAutoFocus,a=>{var l;o.current||(l=i.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:Ze(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});M5.displayName=E5;var wre="DropdownMenuGroup",Sre=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(are,{...i,...r,ref:e})});Sre.displayName=wre;var bre="DropdownMenuLabel",T5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(lre,{...i,...r,ref:e})});T5.displayName=bre;var Ere="DropdownMenuItem",A5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(cre,{...i,...r,ref:e})});A5.displayName=Ere;var Mre="DropdownMenuCheckboxItem",C5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(ure,{...i,...r,ref:e})});C5.displayName=Mre;var Tre="DropdownMenuRadioGroup",Are=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(dre,{...i,...r,ref:e})});Are.displayName=Tre;var Cre="DropdownMenuRadioItem",R5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(fre,{...i,...r,ref:e})});R5.displayName=Cre;var Rre="DropdownMenuItemIndicator",P5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(hre,{...i,...r,ref:e})});P5.displayName=Rre;var Pre="DropdownMenuSeparator",N5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(pre,{...i,...r,ref:e})});N5.displayName=Pre;var Nre="DropdownMenuArrow",Ire=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(mre,{...i,...r,ref:e})});Ire.displayName=Nre;var Lre="DropdownMenuSubTrigger",I5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(gre,{...i,...r,ref:e})});I5.displayName=Lre;var kre="DropdownMenuSubContent",L5=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=mi(n);return _.jsx(yre,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});L5.displayName=kre;var Dre=_5,Ore=S5,Fre=b5,k5=M5,D5=T5,O5=A5,F5=C5,U5=R5,B5=P5,z5=N5,V5=I5,j5=L5;const Ure=Dre,Bre=Ore,zre=T.forwardRef(({className:t,inset:e,children:n,...r},i)=>_.jsxs(V5,{ref:i,className:qt("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,_.jsx(FU,{className:"ml-auto h-4 w-4"})]}));zre.displayName=V5.displayName;const Vre=T.forwardRef(({className:t,...e},n)=>_.jsx(j5,{ref:n,className:qt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Vre.displayName=j5.displayName;const H5=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(Fre,{children:_.jsx(k5,{ref:r,sideOffset:e,className:qt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));H5.displayName=k5.displayName;const W5=T.forwardRef(({className:t,inset:e,...n},r)=>_.jsx(O5,{ref:r,className:qt("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));W5.displayName=O5.displayName;const jre=T.forwardRef(({className:t,children:e,checked:n,...r},i)=>_.jsxs(F5,{ref:i,className:qt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(B5,{children:_.jsx(DU,{className:"h-4 w-4"})})}),e]}));jre.displayName=F5.displayName;const Hre=T.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(U5,{ref:r,className:qt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(B5,{children:_.jsx(P$,{className:"h-2 w-2 fill-current"})})}),e]}));Hre.displayName=U5.displayName;const Wre=T.forwardRef(({className:t,inset:e,...n},r)=>_.jsx(D5,{ref:r,className:qt("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Wre.displayName=D5.displayName;const Gre=T.forwardRef(({className:t,...e},n)=>_.jsx(z5,{ref:n,className:qt("-mx-1 my-1 h-px bg-muted",t),...e}));Gre.displayName=z5.displayName;const VL=[{key:"nav.home",path:"/"},{key:"nav.search",path:"/search"},{key:"nav.onThisDay",path:"/on-this-day"},{key:"nav.articles",path:"/articles"},{key:"nav.about",path:"/about"}];function $re(){const[t,e]=T.useState(!1),{t:n,locale:r,setLocale:i,theme:s,toggleTheme:o,direction:a}=Tn(),l=Pa(),c=u=>l.pathname===u;return _.jsxs("header",{className:"fixed top-0 left-0 right-0 z-50 glass",children:[_.jsxs("nav",{className:"container mx-auto px-4 h-16 flex items-center justify-between",children:[_.jsxs(gn,{to:"/",className:"flex items-center gap-2 group",children:[_.jsx(at.div,{className:"w-10 h-10 rounded-xl bg-gradient-accent flex items-center justify-center",whileHover:{scale:1.05},whileTap:{scale:.95},children:_.jsx("span",{className:"text-primary-foreground font-display font-bold text-xl",children:"E"})}),_.jsx("span",{className:"font-display text-xl font-semibold text-foreground hidden sm:block",children:"EraTracker"})]}),_.jsx("div",{className:"hidden md:flex items-center gap-1",children:VL.map(u=>_.jsx(gn,{to:u.path,className:qt("px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200",c(u.path)?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:n(u.key)},u.path))}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsxs(Ure,{children:[_.jsx(Bre,{asChild:!0,children:_.jsx(sn,{variant:"ghost",size:"icon",className:"w-10 h-10",children:_.jsx(i_,{className:"h-5 w-5"})})}),_.jsx(H5,{align:a==="rtl"?"start":"end",className:"bg-popover",children:Y4.map(u=>_.jsx(W5,{onClick:()=>i(u.code),className:qt("cursor-pointer",r===u.code&&"bg-primary/10 text-primary"),children:u.nativeName},u.code))})]}),_.jsx(sn,{variant:"ghost",size:"icon",onClick:o,className:"w-10 h-10",children:_.jsx(at.div,{initial:!1,animate:{rotate:s==="dark"?180:0},transition:{duration:.3},children:s==="light"?_.jsx(G$,{className:"h-5 w-5"}):_.jsx(z$,{className:"h-5 w-5"})})}),_.jsx(sn,{variant:"ghost",size:"icon",className:"md:hidden w-10 h-10",onClick:()=>e(!t),children:t?_.jsx(YU,{className:"h-5 w-5"}):_.jsx(F$,{className:"h-5 w-5"})})]})]}),_.jsx(at.div,{initial:!1,animate:{height:t?"auto":0,opacity:t?1:0},className:"md:hidden overflow-hidden bg-background border-t border-border",children:_.jsx("div",{className:"container mx-auto px-4 py-4 space-y-2",children:VL.map(u=>_.jsx(gn,{to:u.path,onClick:()=>e(!1),className:qt("block px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200",c(u.path)?"bg-primary/10 text-primary":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:n(u.key)},u.path))})})]})}function Xre(){const{t}=Tn(),e=new Date().getFullYear(),n=[{title:t("nav.about"),links:[{label:t("nav.about"),path:"/about"},{label:t("nav.contact"),path:"/contact"},{label:t("nav.privacy"),path:"/privacy"}]},{title:t("nav.search"),links:[{label:t("nav.search"),path:"/search"},{label:t("nav.onThisDay"),path:"/on-this-day"},{label:t("nav.articles"),path:"/articles"}]}];return _.jsx("footer",{className:"bg-card border-t border-border mt-auto",children:_.jsxs("div",{className:"container mx-auto px-4 py-12",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[_.jsxs("div",{className:"md:col-span-2",children:[_.jsxs(gn,{to:"/",className:"flex items-center gap-2 mb-4",children:[_.jsx(at.div,{className:"w-10 h-10 rounded-xl bg-gradient-accent flex items-center justify-center",whileHover:{scale:1.05},children:_.jsx("span",{className:"text-primary-foreground font-display font-bold text-xl",children:"E"})}),_.jsx("span",{className:"font-display text-xl font-semibold",children:"EraTracker"})]}),_.jsx("p",{className:"text-muted-foreground text-sm max-w-md mb-6",children:t("footer.description")}),_.jsxs("div",{className:"flex items-center gap-4",children:[_.jsx("a",{href:"tel:+01210923756",className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-primary hover:bg-primary/10 transition-colors",title:"Phone",children:_.jsx(j$,{className:"w-5 h-5"})}),_.jsx("a",{href:"https://wa.me/01210923756",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-primary hover:bg-primary/10 transition-colors",title:"WhatsApp",children:_.jsx(U$,{className:"w-5 h-5"})}),_.jsx("a",{href:"mailto:Support@eratracker.com",className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-primary hover:bg-primary/10 transition-colors",title:"Email",children:_.jsx(WU,{className:"w-5 h-5"})}),_.jsx("a",{href:"https://www.tiktok.com/@eratracker",target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full bg-muted flex items-center justify-center text-muted-foreground hover:text-primary hover:bg-primary/10 transition-colors",title:"TikTok",children:_.jsx(V$,{className:"w-5 h-5"})})]})]}),n.map(r=>_.jsxs("div",{children:[_.jsx("h3",{className:"font-semibold text-foreground mb-4",children:r.title}),_.jsx("ul",{className:"space-y-2",children:r.links.map(i=>_.jsx("li",{children:_.jsx(gn,{to:i.path,className:"text-muted-foreground hover:text-primary transition-colors text-sm",children:i.label})},i.path))})]},r.title))]}),_.jsx("div",{className:"border-t border-border mt-12 pt-8 flex flex-col sm:flex-row justify-between items-center gap-4",children:_.jsxs("p",{className:"text-sm text-muted-foreground",children:[" ",e," EraTracker. ",t("footer.rights")]})})]})})}const qre={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.4,ease:[.25,.46,.45,.94]}},exit:{opacity:0,y:-20,transition:{duration:.3}}};function ui({children:t}){return _.jsxs("div",{className:"min-h-screen flex flex-col",children:[_.jsx($re,{}),_.jsx(at.main,{className:"flex-1 pt-16",initial:"initial",animate:"animate",exit:"exit",variants:qre,children:t}),_.jsx(Xre,{})]})}/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const sg="160",Yre={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kre={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},G5=0,cM=1,$5=2,Zre=3,X5=0,E_=1,Lp=2,Us=3,Ea=0,di=1,Mo=2,Jre=2,pa=0,Zc=1,mx=2,uM=3,dM=4,q5=5,ol=100,Y5=101,K5=102,fM=103,hM=104,Z5=200,J5=201,Q5=202,eV=203,gx=204,yx=205,tV=206,nV=207,rV=208,iV=209,sV=210,oV=211,aV=212,lV=213,cV=214,uV=0,dV=1,fV=2,vm=3,hV=4,pV=5,mV=6,gV=7,og=0,yV=1,vV=2,Lo=0,xV=1,_V=2,wV=3,AC=4,SV=5,bV=6,pM="attached",EV="detached",M_=300,Ma=301,Dl=302,xm=303,_m=304,rh=306,wm=1e3,$r=1001,Sm=1002,Yn=1003,vx=1004,Qre=1004,kp=1005,eie=1005,Zn=1006,CC=1007,tie=1007,Ol=1008,nie=1008,ko=1009,MV=1010,TV=1011,T_=1012,RC=1013,ua=1014,qs=1015,Nf=1016,PC=1017,NC=1018,Ml=1020,AV=1021,oi=1023,CV=1024,RV=1025,Tl=1026,cu=1027,PV=1028,IC=1029,NV=1030,LC=1031,kC=1033,y0=33776,v0=33777,x0=33778,_0=33779,mM=35840,gM=35841,yM=35842,vM=35843,DC=36196,xM=37492,_M=37496,wM=37808,SM=37809,bM=37810,EM=37811,MM=37812,TM=37813,AM=37814,CM=37815,RM=37816,PM=37817,NM=37818,IM=37819,LM=37820,kM=37821,w0=36492,DM=36494,OM=36495,IV=36283,FM=36284,UM=36285,BM=36286,LV=2200,kV=2201,DV=2202,bm=2300,Em=2301,S0=2302,Dc=2400,Oc=2401,Mm=2402,A_=2500,OC=2501,rie=0,iie=1,sie=2,FC=3e3,Al=3001,OV=3200,FV=3201,ql=0,UV=1,Xi="",fr="srgb",Bo="srgb-linear",C_="display-p3",ag="display-p3-linear",Tm="linear",yn="srgb",Am="rec709",Cm="p3",oie=0,Ec=7680,aie=7681,lie=7682,cie=7683,uie=34055,die=34056,fie=5386,hie=512,pie=513,mie=514,gie=515,yie=516,vie=517,xie=518,zM=519,BV=512,zV=513,VV=514,UC=515,jV=516,HV=517,WV=518,GV=519,Rm=35044,_ie=35048,wie=35040,Sie=35045,bie=35049,Eie=35041,Mie=35046,Tie=35050,Aie=35042,Cie="100",VM="300 es",xx=1035,Ys=2e3,If=2001;class Na{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const Vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jL=1234567;const Jc=Math.PI/180,Lf=180/Math.PI;function Zi(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Vr[t&255]+Vr[t>>8&255]+Vr[t>>16&255]+Vr[t>>24&255]+"-"+Vr[e&255]+Vr[e>>8&255]+"-"+Vr[e>>16&15|64]+Vr[e>>24&255]+"-"+Vr[n&63|128]+Vr[n>>8&255]+"-"+Vr[n>>16&255]+Vr[n>>24&255]+Vr[r&255]+Vr[r>>8&255]+Vr[r>>16&255]+Vr[r>>24&255]).toLowerCase()}function Wn(t,e,n){return Math.max(e,Math.min(n,t))}function BC(t,e){return(t%e+e)%e}function Rie(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function Pie(t,e,n){return t!==e?(n-t)/(e-t):0}function Dp(t,e,n){return(1-n)*t+n*e}function Nie(t,e,n,r){return Dp(t,e,1-Math.exp(-n*r))}function Iie(t,e=1){return e-Math.abs(BC(t,e*2)-e)}function Lie(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function kie(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function Die(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Oie(t,e){return t+Math.random()*(e-t)}function Fie(t){return t*(.5-Math.random())}function Uie(t){t!==void 0&&(jL=t);let e=jL+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function Bie(t){return t*Jc}function zie(t){return t*Lf}function jM(t){return(t&t-1)===0&&t!==0}function Vie(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function _x(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function jie(t,e,n,r,i){const s=Math.cos,o=Math.sin,a=s(n/2),l=o(n/2),c=s((e+r)/2),u=o((e+r)/2),f=s((e-r)/2),p=o((e-r)/2),m=s((r-e)/2),y=o((r-e)/2);switch(i){case"XYX":t.set(a*u,l*f,l*p,a*c);break;case"YZY":t.set(l*p,a*u,l*f,a*c);break;case"ZXZ":t.set(l*f,l*p,a*u,a*c);break;case"XZX":t.set(a*u,l*y,l*m,a*c);break;case"YXY":t.set(l*m,a*u,l*y,a*c);break;case"ZYZ":t.set(l*y,l*m,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ti(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ft(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const $V={DEG2RAD:Jc,RAD2DEG:Lf,generateUUID:Zi,clamp:Wn,euclideanModulo:BC,mapLinear:Rie,inverseLerp:Pie,lerp:Dp,damp:Nie,pingpong:Iie,smoothstep:Lie,smootherstep:kie,randInt:Die,randFloat:Oie,randFloatSpread:Fie,seededRandom:Uie,degToRad:Bie,radToDeg:zie,isPowerOfTwo:jM,ceilPowerOfTwo:Vie,floorPowerOfTwo:_x,setQuaternionFromProperEuler:jie,normalize:Ft,denormalize:Ti};class Te{constructor(e=0,n=0){Te.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Bt{constructor(e,n,r,i,s,o,a,l,c){Bt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],p=r[2],m=r[5],y=r[8],x=i[0],v=i[3],g=i[6],w=i[1],S=i[4],M=i[7],C=i[2],P=i[5],I=i[8];return s[0]=o*x+a*w+l*C,s[3]=o*v+a*S+l*P,s[6]=o*g+a*M+l*I,s[1]=c*x+u*w+f*C,s[4]=c*v+u*S+f*P,s[7]=c*g+u*M+f*I,s[2]=p*x+m*w+y*C,s[5]=p*v+m*S+y*P,s[8]=p*g+m*M+y*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,p=a*l-u*s,m=c*s-o*l,y=n*f+r*p+i*m;if(y===0)return this.set(0,0,0,0,0,0,0,0,0);const x=1/y;return e[0]=f*x,e[1]=(i*c-u*r)*x,e[2]=(a*r-i*o)*x,e[3]=p*x,e[4]=(u*n-i*l)*x,e[5]=(i*s-a*n)*x,e[6]=m*x,e[7]=(r*l-c*n)*x,e[8]=(o*n-r*s)*x,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(bS.makeScale(e,n)),this}rotate(e){return this.premultiply(bS.makeRotation(-e)),this}translate(e,n){return this.premultiply(bS.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const bS=new Bt;function XV(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Hie={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Vd(t,e){return new Hie[t](e)}function Pm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function qV(){const t=Pm("canvas");return t.style.display="block",t}const HL={};function Op(t){t in HL||(HL[t]=!0,console.warn(t))}const WL=new Bt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),GL=new Bt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Qy={[Bo]:{transfer:Tm,primaries:Am,toReference:t=>t,fromReference:t=>t},[fr]:{transfer:yn,primaries:Am,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[ag]:{transfer:Tm,primaries:Cm,toReference:t=>t.applyMatrix3(GL),fromReference:t=>t.applyMatrix3(WL)},[C_]:{transfer:yn,primaries:Cm,toReference:t=>t.convertSRGBToLinear().applyMatrix3(GL),fromReference:t=>t.applyMatrix3(WL).convertLinearToSRGB()}},Wie=new Set([Bo,ag]),un={enabled:!0,_workingColorSpace:Bo,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Wie.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Qy[e].toReference,i=Qy[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Qy[t].primaries},getTransfer:function(t){return t===Xi?Tm:Qy[t].transfer}};function lf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function ES(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Yu;class zC{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Yu===void 0&&(Yu=Pm("canvas")),Yu.width=e.width,Yu.height=e.height;const r=Yu.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Yu}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Pm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=lf(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(lf(n[r]/255)*255):n[r]=lf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Gie=0;class Fc{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Gie++}),this.uuid=Zi(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(MS(i[o].image)):s.push(MS(i[o]))}else s=MS(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function MS(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?zC.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let $ie=0;class Qn extends Na{constructor(e=Qn.DEFAULT_IMAGE,n=Qn.DEFAULT_MAPPING,r=$r,i=$r,s=Zn,o=Ol,a=oi,l=ko,c=Qn.DEFAULT_ANISOTROPY,u=Xi){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:$ie++}),this.uuid=Zi(),this.name="",this.source=new Fc(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new Te(0,0),this.repeat=new Te(1,1),this.center=new Te(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Bt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Op("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Al?fr:Xi),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==M_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case wm:e.x=e.x-Math.floor(e.x);break;case $r:e.x=e.x<0?0:1;break;case Sm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case wm:e.y=e.y-Math.floor(e.y);break;case $r:e.y=e.y<0?0:1;break;case Sm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Op("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===fr?Al:FC}set encoding(e){Op("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Al?fr:Xi}}Qn.DEFAULT_IMAGE=null;Qn.DEFAULT_MAPPING=M_;Qn.DEFAULT_ANISOTROPY=1;class dn{constructor(e=0,n=0,r=0,i=1){dn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],p=l[1],m=l[5],y=l[9],x=l[2],v=l[6],g=l[10];if(Math.abs(u-p)<.01&&Math.abs(f-x)<.01&&Math.abs(y-v)<.01){if(Math.abs(u+p)<.1&&Math.abs(f+x)<.1&&Math.abs(y+v)<.1&&Math.abs(c+m+g-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const S=(c+1)/2,M=(m+1)/2,C=(g+1)/2,P=(u+p)/4,I=(f+x)/4,O=(y+v)/4;return S>M&&S>C?S<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(S),i=P/r,s=I/r):M>C?M<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(M),r=P/i,s=O/i):C<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(C),r=I/s,i=O/s),this.set(r,i,s,n),this}let w=Math.sqrt((v-y)*(v-y)+(f-x)*(f-x)+(p-u)*(p-u));return Math.abs(w)<.001&&(w=1),this.x=(v-y)/w,this.y=(f-x)/w,this.z=(p-u)/w,this.w=Math.acos((c+m+g-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class YV extends Na{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new dn(0,0,e,n),this.scissorTest=!1,this.viewport=new dn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Op("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Al?fr:Xi),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Zn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Qn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Fc(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class to extends YV{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class R_ extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=$r,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Xie extends to{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new R_(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class VC extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Yn,this.minFilter=Yn,this.wrapR=$r,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class qie extends to{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new VC(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Yie extends to{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=s.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class Ni{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const p=s[o+0],m=s[o+1],y=s[o+2],x=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(a===1){e[n+0]=p,e[n+1]=m,e[n+2]=y,e[n+3]=x;return}if(f!==x||l!==p||c!==m||u!==y){let v=1-a;const g=l*p+c*m+u*y+f*x,w=g>=0?1:-1,S=1-g*g;if(S>Number.EPSILON){const C=Math.sqrt(S),P=Math.atan2(C,g*w);v=Math.sin(v*P)/C,a=Math.sin(a*P)/C}const M=a*w;if(l=l*v+p*M,c=c*v+m*M,u=u*v+y*M,f=f*v+x*M,v===1-a){const C=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=C,c*=C,u*=C,f*=C}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],p=s[o+1],m=s[o+2],y=s[o+3];return e[n]=a*y+u*f+l*m-c*p,e[n+1]=l*y+u*p+c*f-a*m,e[n+2]=c*y+u*m+a*p-l*f,e[n+3]=u*y-a*f-l*p-c*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),p=l(r/2),m=l(i/2),y=l(s/2);switch(o){case"XYZ":this._x=p*u*f+c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f-p*m*y;break;case"YXZ":this._x=p*u*f+c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f+p*m*y;break;case"ZXY":this._x=p*u*f-c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f-p*m*y;break;case"ZYX":this._x=p*u*f-c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f+p*m*y;break;case"YZX":this._x=p*u*f+c*m*y,this._y=c*m*f+p*u*y,this._z=c*u*y-p*m*f,this._w=c*u*f-p*m*y;break;case"XZY":this._x=p*u*f-c*m*y,this._y=c*m*f-p*u*y,this._z=c*u*y+p*m*f,this._w=c*u*f+p*m*y;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],f=n[10],p=r+a+f;if(p>0){const m=.5/Math.sqrt(p+1);this._w=.25/m,this._x=(u-l)*m,this._y=(s-c)*m,this._z=(o-i)*m}else if(r>a&&r>f){const m=2*Math.sqrt(1+r-a-f);this._w=(u-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(s+c)/m}else if(a>f){const m=2*Math.sqrt(1+a-r-f);this._w=(s-c)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+u)/m}else{const m=2*Math.sqrt(1+f-r-a);this._w=(o-i)/m,this._x=(s+c)/m,this._y=(l+u)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Wn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-n)*u)/c,p=Math.sin(n*u)/c;return this._w=o*f+this._w*p,this._x=r*f+this._x*p,this._y=i*f+this._y*p,this._z=s*f+this._z*p,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class G{constructor(e=0,n=0,r=0){G.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion($L.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion($L.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*i-a*r),u=2*(a*n-s*i),f=2*(s*r-o*n);return this.x=n+l*c+o*f-a*u,this.y=r+l*u+a*c-s*f,this.z=i+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return TS.copy(this).projectOnVector(e),this.sub(TS)}reflect(e){return this.sub(TS.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Wn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const TS=new G,$L=new Ni;class fi{constructor(e=new G(1/0,1/0,1/0),n=new G(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ns.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ns.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ns.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,Ns):Ns.fromBufferAttribute(s,o),Ns.applyMatrix4(e.matrixWorld),this.expandByPoint(Ns);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ev.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ev.copy(r.boundingBox)),ev.applyMatrix4(e.matrixWorld),this.union(ev)}const i=e.children;for(let s=0,o=i.length;s<o;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ns),Ns.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gh),tv.subVectors(this.max,Gh),Ku.subVectors(e.a,Gh),Zu.subVectors(e.b,Gh),Ju.subVectors(e.c,Gh),Wa.subVectors(Zu,Ku),Ga.subVectors(Ju,Zu),dc.subVectors(Ku,Ju);let n=[0,-Wa.z,Wa.y,0,-Ga.z,Ga.y,0,-dc.z,dc.y,Wa.z,0,-Wa.x,Ga.z,0,-Ga.x,dc.z,0,-dc.x,-Wa.y,Wa.x,0,-Ga.y,Ga.x,0,-dc.y,dc.x,0];return!AS(n,Ku,Zu,Ju,tv)||(n=[1,0,0,0,1,0,0,0,1],!AS(n,Ku,Zu,Ju,tv))?!1:(nv.crossVectors(Wa,Ga),n=[nv.x,nv.y,nv.z],AS(n,Ku,Zu,Ju,tv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ns).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ns).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Yo[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Yo[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Yo[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Yo[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Yo[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Yo[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Yo[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Yo[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Yo),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Yo=[new G,new G,new G,new G,new G,new G,new G,new G],Ns=new G,ev=new fi,Ku=new G,Zu=new G,Ju=new G,Wa=new G,Ga=new G,dc=new G,Gh=new G,tv=new G,nv=new G,fc=new G;function AS(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){fc.fromArray(t,s);const a=i.x*Math.abs(fc.x)+i.y*Math.abs(fc.y)+i.z*Math.abs(fc.z),l=e.dot(fc),c=n.dot(fc),u=r.dot(fc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const Kie=new fi,$h=new G,CS=new G;let Yr=class{constructor(e=new G,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Kie.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$h.subVectors(e,this.center);const n=$h.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector($h,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(CS.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($h.copy(e.center).add(CS)),this.expandByPoint($h.copy(e.center).sub(CS))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const Ko=new G,RS=new G,rv=new G,$a=new G,PS=new G,iv=new G,NS=new G;class ih{constructor(e=new G,n=new G(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ko)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ko.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ko.copy(this.origin).addScaledVector(this.direction,n),Ko.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){RS.copy(e).add(n).multiplyScalar(.5),rv.copy(n).sub(e).normalize(),$a.copy(this.origin).sub(RS);const s=e.distanceTo(n)*.5,o=-this.direction.dot(rv),a=$a.dot(this.direction),l=-$a.dot(rv),c=$a.lengthSq(),u=Math.abs(1-o*o);let f,p,m,y;if(u>0)if(f=o*l-a,p=o*a-l,y=s*u,f>=0)if(p>=-y)if(p<=y){const x=1/u;f*=x,p*=x,m=f*(f+o*p+2*a)+p*(o*f+p+2*l)+c}else p=s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p=-s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;else p<=-y?(f=Math.max(0,-(-o*s+a)),p=f>0?-s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c):p<=y?(f=0,p=Math.min(Math.max(-s,-l),s),m=p*(p+2*l)+c):(f=Math.max(0,-(o*s+a)),p=f>0?s:Math.min(Math.max(-s,-l),s),m=-f*f+p*(p+2*l)+c);else p=o>0?-s:s,f=Math.max(0,-(o*p+a)),m=-f*f+p*(p+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(RS).addScaledVector(rv,p),m}intersectSphere(e,n){Ko.subVectors(e.center,this.origin);const r=Ko.dot(this.direction),i=Ko.dot(Ko)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,p=this.origin;return c>=0?(r=(e.min.x-p.x)*c,i=(e.max.x-p.x)*c):(r=(e.max.x-p.x)*c,i=(e.min.x-p.x)*c),u>=0?(s=(e.min.y-p.y)*u,o=(e.max.y-p.y)*u):(s=(e.max.y-p.y)*u,o=(e.min.y-p.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-p.z)*f,l=(e.max.z-p.z)*f):(a=(e.max.z-p.z)*f,l=(e.min.z-p.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ko)!==null}intersectTriangle(e,n,r,i,s){PS.subVectors(n,e),iv.subVectors(r,e),NS.crossVectors(PS,iv);let o=this.direction.dot(NS),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;$a.subVectors(this.origin,e);const l=a*this.direction.dot(iv.crossVectors($a,iv));if(l<0)return null;const c=a*this.direction.dot(PS.cross($a));if(c<0||l+c>o)return null;const u=-a*$a.dot(NS);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class St{constructor(e,n,r,i,s,o,a,l,c,u,f,p,m,y,x,v){St.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,f,p,m,y,x,v)}set(e,n,r,i,s,o,a,l,c,u,f,p,m,y,x,v){const g=this.elements;return g[0]=e,g[4]=n,g[8]=r,g[12]=i,g[1]=s,g[5]=o,g[9]=a,g[13]=l,g[2]=c,g[6]=u,g[10]=f,g[14]=p,g[3]=m,g[7]=y,g[11]=x,g[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new St().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Qu.setFromMatrixColumn(e,0).length(),s=1/Qu.setFromMatrixColumn(e,1).length(),o=1/Qu.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const p=o*u,m=o*f,y=a*u,x=a*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=m+y*c,n[5]=p-x*c,n[9]=-a*l,n[2]=x-p*c,n[6]=y+m*c,n[10]=o*l}else if(e.order==="YXZ"){const p=l*u,m=l*f,y=c*u,x=c*f;n[0]=p+x*a,n[4]=y*a-m,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-a,n[2]=m*a-y,n[6]=x+p*a,n[10]=o*l}else if(e.order==="ZXY"){const p=l*u,m=l*f,y=c*u,x=c*f;n[0]=p-x*a,n[4]=-o*f,n[8]=y+m*a,n[1]=m+y*a,n[5]=o*u,n[9]=x-p*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const p=o*u,m=o*f,y=a*u,x=a*f;n[0]=l*u,n[4]=y*c-m,n[8]=p*c+x,n[1]=l*f,n[5]=x*c+p,n[9]=m*c-y,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const p=o*l,m=o*c,y=a*l,x=a*c;n[0]=l*u,n[4]=x-p*f,n[8]=y*f+m,n[1]=f,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=m*f+y,n[10]=p-x*f}else if(e.order==="XZY"){const p=o*l,m=o*c,y=a*l,x=a*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=p*f+x,n[5]=o*u,n[9]=m*f-y,n[2]=y*f-m,n[6]=a*u,n[10]=x*f+p}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Zie,e,Jie)}lookAt(e,n,r){const i=this.elements;return Vi.subVectors(e,n),Vi.lengthSq()===0&&(Vi.z=1),Vi.normalize(),Xa.crossVectors(r,Vi),Xa.lengthSq()===0&&(Math.abs(r.z)===1?Vi.x+=1e-4:Vi.z+=1e-4,Vi.normalize(),Xa.crossVectors(r,Vi)),Xa.normalize(),sv.crossVectors(Vi,Xa),i[0]=Xa.x,i[4]=sv.x,i[8]=Vi.x,i[1]=Xa.y,i[5]=sv.y,i[9]=Vi.y,i[2]=Xa.z,i[6]=sv.z,i[10]=Vi.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],p=r[9],m=r[13],y=r[2],x=r[6],v=r[10],g=r[14],w=r[3],S=r[7],M=r[11],C=r[15],P=i[0],I=i[4],O=i[8],N=i[12],k=i[1],V=i[5],W=i[9],Q=i[13],U=i[2],Y=i[6],q=i[10],te=i[14],D=i[3],F=i[7],j=i[11],K=i[15];return s[0]=o*P+a*k+l*U+c*D,s[4]=o*I+a*V+l*Y+c*F,s[8]=o*O+a*W+l*q+c*j,s[12]=o*N+a*Q+l*te+c*K,s[1]=u*P+f*k+p*U+m*D,s[5]=u*I+f*V+p*Y+m*F,s[9]=u*O+f*W+p*q+m*j,s[13]=u*N+f*Q+p*te+m*K,s[2]=y*P+x*k+v*U+g*D,s[6]=y*I+x*V+v*Y+g*F,s[10]=y*O+x*W+v*q+g*j,s[14]=y*N+x*Q+v*te+g*K,s[3]=w*P+S*k+M*U+C*D,s[7]=w*I+S*V+M*Y+C*F,s[11]=w*O+S*W+M*q+C*j,s[15]=w*N+S*Q+M*te+C*K,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],p=e[10],m=e[14],y=e[3],x=e[7],v=e[11],g=e[15];return y*(+s*l*f-i*c*f-s*a*p+r*c*p+i*a*m-r*l*m)+x*(+n*l*m-n*c*p+s*o*p-i*o*m+i*c*u-s*l*u)+v*(+n*c*f-n*a*m-s*o*f+r*o*m+s*a*u-r*c*u)+g*(-i*a*u-n*l*f+n*a*p+i*o*f-r*o*p+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],p=e[10],m=e[11],y=e[12],x=e[13],v=e[14],g=e[15],w=f*v*c-x*p*c+x*l*m-a*v*m-f*l*g+a*p*g,S=y*p*c-u*v*c-y*l*m+o*v*m+u*l*g-o*p*g,M=u*x*c-y*f*c+y*a*m-o*x*m-u*a*g+o*f*g,C=y*f*l-u*x*l-y*a*p+o*x*p+u*a*v-o*f*v,P=n*w+r*S+i*M+s*C;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/P;return e[0]=w*I,e[1]=(x*p*s-f*v*s-x*i*m+r*v*m+f*i*g-r*p*g)*I,e[2]=(a*v*s-x*l*s+x*i*c-r*v*c-a*i*g+r*l*g)*I,e[3]=(f*l*s-a*p*s-f*i*c+r*p*c+a*i*m-r*l*m)*I,e[4]=S*I,e[5]=(u*v*s-y*p*s+y*i*m-n*v*m-u*i*g+n*p*g)*I,e[6]=(y*l*s-o*v*s-y*i*c+n*v*c+o*i*g-n*l*g)*I,e[7]=(o*p*s-u*l*s+u*i*c-n*p*c-o*i*m+n*l*m)*I,e[8]=M*I,e[9]=(y*f*s-u*x*s-y*r*m+n*x*m+u*r*g-n*f*g)*I,e[10]=(o*x*s-y*a*s+y*r*c-n*x*c-o*r*g+n*a*g)*I,e[11]=(u*a*s-o*f*s-u*r*c+n*f*c+o*r*m-n*a*m)*I,e[12]=C*I,e[13]=(u*x*i-y*f*i+y*r*p-n*x*p-u*r*v+n*f*v)*I,e[14]=(y*a*i-o*x*i-y*r*l+n*x*l+o*r*v-n*a*v)*I,e[15]=(o*f*i-u*a*i+u*r*l-n*f*l-o*r*p+n*a*p)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,f=a+a,p=s*c,m=s*u,y=s*f,x=o*u,v=o*f,g=a*f,w=l*c,S=l*u,M=l*f,C=r.x,P=r.y,I=r.z;return i[0]=(1-(x+g))*C,i[1]=(m+M)*C,i[2]=(y-S)*C,i[3]=0,i[4]=(m-M)*P,i[5]=(1-(p+g))*P,i[6]=(v+w)*P,i[7]=0,i[8]=(y+S)*I,i[9]=(v-w)*I,i[10]=(1-(p+x))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Qu.set(i[0],i[1],i[2]).length();const o=Qu.set(i[4],i[5],i[6]).length(),a=Qu.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Is.copy(this);const c=1/s,u=1/o,f=1/a;return Is.elements[0]*=c,Is.elements[1]*=c,Is.elements[2]*=c,Is.elements[4]*=u,Is.elements[5]*=u,Is.elements[6]*=u,Is.elements[8]*=f,Is.elements[9]*=f,Is.elements[10]*=f,n.setFromRotationMatrix(Is),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=Ys){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),p=(r+i)/(r-i);let m,y;if(a===Ys)m=-(o+s)/(o-s),y=-2*o*s/(o-s);else if(a===If)m=-o/(o-s),y=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=p,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=y,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=Ys){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(o-s),p=(n+e)*c,m=(r+i)*u;let y,x;if(a===Ys)y=(o+s)*f,x=-2*f;else if(a===If)y=s*f,x=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-p,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=x,l[14]=-y,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Qu=new G,Is=new St,Zie=new G(0,0,0),Jie=new G(1,1,1),Xa=new G,sv=new G,Vi=new G,XL=new St,qL=new Ni;class lg{constructor(e=0,n=0,r=0,i=lg.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],p=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(Wn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,m),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Wn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,m),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Wn(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Wn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(p,m),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Wn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,m));break;case"XZY":this._z=Math.asin(-Wn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return XL.makeRotationFromQuaternion(e),this.setFromRotationMatrix(XL,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return qL.setFromEuler(this),this.setFromQuaternion(qL,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}lg.DEFAULT_ORDER="XYZ";class Qc{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Qie=0;const YL=new G,ed=new Ni,Zo=new St,ov=new G,Xh=new G,ese=new G,tse=new Ni,KL=new G(1,0,0),ZL=new G(0,1,0),JL=new G(0,0,1),nse={type:"added"},rse={type:"removed"};class on extends Na{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Qie++}),this.uuid=Zi(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=on.DEFAULT_UP.clone();const e=new G,n=new lg,r=new Ni,i=new G(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new St},normalMatrix:{value:new Bt}}),this.matrix=new St,this.matrixWorld=new St,this.matrixAutoUpdate=on.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=on.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Qc,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ed.setFromAxisAngle(e,n),this.quaternion.multiply(ed),this}rotateOnWorldAxis(e,n){return ed.setFromAxisAngle(e,n),this.quaternion.premultiply(ed),this}rotateX(e){return this.rotateOnAxis(KL,e)}rotateY(e){return this.rotateOnAxis(ZL,e)}rotateZ(e){return this.rotateOnAxis(JL,e)}translateOnAxis(e,n){return YL.copy(e).applyQuaternion(this.quaternion),this.position.add(YL.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(KL,e)}translateY(e){return this.translateOnAxis(ZL,e)}translateZ(e){return this.translateOnAxis(JL,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ov.copy(e):ov.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Xh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zo.lookAt(Xh,ov,this.up):Zo.lookAt(ov,Xh,this.up),this.quaternion.setFromRotationMatrix(Zo),i&&(Zo.extractRotation(i.matrixWorld),ed.setFromRotationMatrix(Zo),this.quaternion.premultiply(ed.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(nse)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(rse)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Zo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,o=i.length;s<o;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xh,e,ese),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Xh,tse,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),p=o(e.skeletons),m=o(e.animations),y=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),p.length>0&&(r.skeletons=p),m.length>0&&(r.animations=m),y.length>0&&(r.nodes=y)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}on.DEFAULT_UP=new G(0,1,0);on.DEFAULT_MATRIX_AUTO_UPDATE=!0;on.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Ls=new G,Jo=new G,IS=new G,Qo=new G,td=new G,nd=new G,QL=new G,LS=new G,kS=new G,DS=new G;let av=!1;class Mi{constructor(e=new G,n=new G,r=new G){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Ls.subVectors(e,n),i.cross(Ls);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){Ls.subVectors(i,n),Jo.subVectors(r,n),IS.subVectors(e,n);const o=Ls.dot(Ls),a=Ls.dot(Jo),l=Ls.dot(IS),c=Jo.dot(Jo),u=Jo.dot(IS),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const p=1/f,m=(c*l-a*u)*p,y=(o*u-a*l)*p;return s.set(1-m-y,y,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Qo)===null?!1:Qo.x>=0&&Qo.y>=0&&Qo.x+Qo.y<=1}static getUV(e,n,r,i,s,o,a,l){return av===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),av=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Qo)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,Qo.x),l.addScaledVector(o,Qo.y),l.addScaledVector(a,Qo.z),l)}static isFrontFacing(e,n,r,i){return Ls.subVectors(r,n),Jo.subVectors(e,n),Ls.cross(Jo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Ls.subVectors(this.c,this.b),Jo.subVectors(this.a,this.b),Ls.cross(Jo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Mi.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Mi.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return av===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),av=!0),Mi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return Mi.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Mi.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Mi.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;td.subVectors(i,r),nd.subVectors(s,r),LS.subVectors(e,r);const l=td.dot(LS),c=nd.dot(LS);if(l<=0&&c<=0)return n.copy(r);kS.subVectors(e,i);const u=td.dot(kS),f=nd.dot(kS);if(u>=0&&f<=u)return n.copy(i);const p=l*f-u*c;if(p<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(td,o);DS.subVectors(e,s);const m=td.dot(DS),y=nd.dot(DS);if(y>=0&&m<=y)return n.copy(s);const x=m*c-l*y;if(x<=0&&c>=0&&y<=0)return a=c/(c-y),n.copy(r).addScaledVector(nd,a);const v=u*y-m*f;if(v<=0&&f-u>=0&&m-y>=0)return QL.subVectors(s,i),a=(f-u)/(f-u+(m-y)),n.copy(i).addScaledVector(QL,a);const g=1/(v+x+p);return o=x*g,a=p*g,n.copy(r).addScaledVector(td,o).addScaledVector(nd,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const KV={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},qa={h:0,s:0,l:0},lv={h:0,s:0,l:0};function OS(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Ye{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=fr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,un.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=un.workingColorSpace){return this.r=e,this.g=n,this.b=r,un.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=un.workingColorSpace){if(e=BC(e,1),n=Wn(n,0,1),r=Wn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=OS(o,s,e+1/3),this.g=OS(o,s,e),this.b=OS(o,s,e-1/3)}return un.toWorkingColorSpace(this,i),this}setStyle(e,n=fr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=fr){const r=KV[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=lf(e.r),this.g=lf(e.g),this.b=lf(e.b),this}copyLinearToSRGB(e){return this.r=ES(e.r),this.g=ES(e.g),this.b=ES(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fr){return un.fromWorkingColorSpace(jr.copy(this),e),Math.round(Wn(jr.r*255,0,255))*65536+Math.round(Wn(jr.g*255,0,255))*256+Math.round(Wn(jr.b*255,0,255))}getHexString(e=fr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=un.workingColorSpace){un.fromWorkingColorSpace(jr.copy(this),n);const r=jr.r,i=jr.g,s=jr.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=un.workingColorSpace){return un.fromWorkingColorSpace(jr.copy(this),n),e.r=jr.r,e.g=jr.g,e.b=jr.b,e}getStyle(e=fr){un.fromWorkingColorSpace(jr.copy(this),e);const n=jr.r,r=jr.g,i=jr.b;return e!==fr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(qa),this.setHSL(qa.h+e,qa.s+n,qa.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(qa),e.getHSL(lv);const r=Dp(qa.h,lv.h,n),i=Dp(qa.s,lv.s,n),s=Dp(qa.l,lv.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const jr=new Ye;Ye.NAMES=KV;let ise=0;class Zr extends Na{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ise++}),this.uuid=Zi(),this.name="",this.type="Material",this.blending=Zc,this.side=Ea,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=gx,this.blendDst=yx,this.blendEquation=ol,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ye(0,0,0),this.blendAlpha=0,this.depthFunc=vm,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=zM,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Ec,this.stencilZFail=Ec,this.stencilZPass=Ec,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Zc&&(r.blending=this.blending),this.side!==Ea&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==gx&&(r.blendSrc=this.blendSrc),this.blendDst!==yx&&(r.blendDst=this.blendDst),this.blendEquation!==ol&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==vm&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==zM&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Ec&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Ec&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Ec&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Yl extends Zr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=og,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const oa=sse();function sse(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:o,offsetTable:a}}function wi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Wn(t,-65504,65504),oa.floatView[0]=t;const e=oa.uint32View[0],n=e>>23&511;return oa.baseTable[n]+((e&8388607)>>oa.shiftTable[n])}function pp(t){const e=t>>10;return oa.uint32View[0]=oa.mantissaTable[oa.offsetTable[e]+(t&1023)]+oa.exponentTable[e],oa.floatView[0]}const ose={toHalfFloat:wi,fromHalfFloat:pp},rr=new G,cv=new Te;class hn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Rm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=qs,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)cv.fromBufferAttribute(this,n),cv.applyMatrix3(e),this.setXY(n,cv.x,cv.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyMatrix3(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyMatrix4(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.applyNormalMatrix(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)rr.fromBufferAttribute(this,n),rr.transformDirection(e),this.setXYZ(n,rr.x,rr.y,rr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ti(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ft(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ti(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ti(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ti(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ti(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Rm&&(e.usage=this.usage),e}}class ase extends hn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class lse extends hn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class cse extends hn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class use extends hn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class jC extends hn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class dse extends hn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class HC extends hn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class fse extends hn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=pp(this.array[e*this.itemSize]);return this.normalized&&(n=Ti(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize]=wi(n),this}getY(e){let n=pp(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ti(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+1]=wi(n),this}getZ(e){let n=pp(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ti(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+2]=wi(n),this}getW(e){let n=pp(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ti(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.array[e*this.itemSize+3]=wi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.array[e+0]=wi(n),this.array[e+1]=wi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.array[e+0]=wi(n),this.array[e+1]=wi(r),this.array[e+2]=wi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.array[e+0]=wi(n),this.array[e+1]=wi(r),this.array[e+2]=wi(i),this.array[e+3]=wi(s),this}}class st extends hn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class hse extends hn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let pse=0;const fs=new St,FS=new on,rd=new G,ji=new fi,qh=new fi,Sr=new G;class zt extends Na{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:pse++}),this.uuid=Zi(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(XV(e)?HC:jC)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Bt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return fs.makeRotationFromQuaternion(e),this.applyMatrix4(fs),this}rotateX(e){return fs.makeRotationX(e),this.applyMatrix4(fs),this}rotateY(e){return fs.makeRotationY(e),this.applyMatrix4(fs),this}rotateZ(e){return fs.makeRotationZ(e),this.applyMatrix4(fs),this}translate(e,n,r){return fs.makeTranslation(e,n,r),this.applyMatrix4(fs),this}scale(e,n,r){return fs.makeScale(e,n,r),this.applyMatrix4(fs),this}lookAt(e){return FS.lookAt(e),FS.updateMatrix(),this.applyMatrix4(FS.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(rd).negate(),this.translate(rd.x,rd.y,rd.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new st(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new G(-1/0,-1/0,-1/0),new G(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];ji.setFromBufferAttribute(s),this.morphTargetsRelative?(Sr.addVectors(this.boundingBox.min,ji.min),this.boundingBox.expandByPoint(Sr),Sr.addVectors(this.boundingBox.max,ji.max),this.boundingBox.expandByPoint(Sr)):(this.boundingBox.expandByPoint(ji.min),this.boundingBox.expandByPoint(ji.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new G,1/0);return}if(e){const r=this.boundingSphere.center;if(ji.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];qh.setFromBufferAttribute(a),this.morphTargetsRelative?(Sr.addVectors(ji.min,qh.min),ji.expandByPoint(Sr),Sr.addVectors(ji.max,qh.max),ji.expandByPoint(Sr)):(ji.expandByPoint(qh.min),ji.expandByPoint(qh.max))}ji.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Sr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Sr));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Sr.fromBufferAttribute(a,c),l&&(rd.fromBufferAttribute(e,c),Sr.add(rd)),i=Math.max(i,r.distanceToSquared(Sr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new hn(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let k=0;k<a;k++)c[k]=new G,u[k]=new G;const f=new G,p=new G,m=new G,y=new Te,x=new Te,v=new Te,g=new G,w=new G;function S(k,V,W){f.fromArray(i,k*3),p.fromArray(i,V*3),m.fromArray(i,W*3),y.fromArray(o,k*2),x.fromArray(o,V*2),v.fromArray(o,W*2),p.sub(f),m.sub(f),x.sub(y),v.sub(y);const Q=1/(x.x*v.y-v.x*x.y);isFinite(Q)&&(g.copy(p).multiplyScalar(v.y).addScaledVector(m,-x.y).multiplyScalar(Q),w.copy(m).multiplyScalar(x.x).addScaledVector(p,-v.x).multiplyScalar(Q),c[k].add(g),c[V].add(g),c[W].add(g),u[k].add(w),u[V].add(w),u[W].add(w))}let M=this.groups;M.length===0&&(M=[{start:0,count:r.length}]);for(let k=0,V=M.length;k<V;++k){const W=M[k],Q=W.start,U=W.count;for(let Y=Q,q=Q+U;Y<q;Y+=3)S(r[Y+0],r[Y+1],r[Y+2])}const C=new G,P=new G,I=new G,O=new G;function N(k){I.fromArray(s,k*3),O.copy(I);const V=c[k];C.copy(V),C.sub(I.multiplyScalar(I.dot(V))).normalize(),P.crossVectors(O,V);const Q=P.dot(u[k])<0?-1:1;l[k*4]=C.x,l[k*4+1]=C.y,l[k*4+2]=C.z,l[k*4+3]=Q}for(let k=0,V=M.length;k<V;++k){const W=M[k],Q=W.start,U=W.count;for(let Y=Q,q=Q+U;Y<q;Y+=3)N(r[Y+0]),N(r[Y+1]),N(r[Y+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new hn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let p=0,m=r.count;p<m;p++)r.setXYZ(p,0,0,0);const i=new G,s=new G,o=new G,a=new G,l=new G,c=new G,u=new G,f=new G;if(e)for(let p=0,m=e.count;p<m;p+=3){const y=e.getX(p+0),x=e.getX(p+1),v=e.getX(p+2);i.fromBufferAttribute(n,y),s.fromBufferAttribute(n,x),o.fromBufferAttribute(n,v),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,y),l.fromBufferAttribute(r,x),c.fromBufferAttribute(r,v),a.add(u),l.add(u),c.add(u),r.setXYZ(y,a.x,a.y,a.z),r.setXYZ(x,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let p=0,m=n.count;p<m;p+=3)i.fromBufferAttribute(n,p+0),s.fromBufferAttribute(n,p+1),o.fromBufferAttribute(n,p+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(p+0,u.x,u.y,u.z),r.setXYZ(p+1,u.x,u.y,u.z),r.setXYZ(p+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Sr.fromBufferAttribute(e,n),Sr.normalize(),e.setXYZ(n,Sr.x,Sr.y,Sr.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,p=new c.constructor(l.length*u);let m=0,y=0;for(let x=0,v=l.length;x<v;x++){a.isInterleavedBufferAttribute?m=l[x]*a.data.stride+a.offset:m=l[x]*u;for(let g=0;g<u;g++)p[y++]=c[m++]}return new hn(p,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new zt,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const p=c[u],m=e(p,r);l.push(m)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f];u.push(m.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let p=0,m=f.length;p<m;p++)u.push(f[p].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const ek=new St,hc=new ih,uv=new Yr,tk=new G,id=new G,sd=new G,od=new G,US=new G,dv=new G,fv=new Te,hv=new Te,pv=new Te,nk=new G,rk=new G,ik=new G,mv=new G,gv=new G;class pr extends on{constructor(e=new zt,n=new Yl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){dv.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(US.fromBufferAttribute(f,e),o?dv.addScaledVector(US,u):dv.addScaledVector(US.sub(n),u))}n.add(dv)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),uv.copy(r.boundingSphere),uv.applyMatrix4(s),hc.copy(e.ray).recast(e.near),!(uv.containsPoint(hc.origin)===!1&&(hc.intersectSphere(uv,tk)===null||hc.origin.distanceToSquared(tk)>(e.far-e.near)**2))&&(ek.copy(s).invert(),hc.copy(e.ray).applyMatrix4(ek),!(r.boundingBox!==null&&hc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,hc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,p=s.groups,m=s.drawRange;if(a!==null)if(Array.isArray(o))for(let y=0,x=p.length;y<x;y++){const v=p[y],g=o[v.materialIndex],w=Math.max(v.start,m.start),S=Math.min(a.count,Math.min(v.start+v.count,m.start+m.count));for(let M=w,C=S;M<C;M+=3){const P=a.getX(M),I=a.getX(M+1),O=a.getX(M+2);i=yv(this,g,e,r,c,u,f,P,I,O),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),x=Math.min(a.count,m.start+m.count);for(let v=y,g=x;v<g;v+=3){const w=a.getX(v),S=a.getX(v+1),M=a.getX(v+2);i=yv(this,o,e,r,c,u,f,w,S,M),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let y=0,x=p.length;y<x;y++){const v=p[y],g=o[v.materialIndex],w=Math.max(v.start,m.start),S=Math.min(l.count,Math.min(v.start+v.count,m.start+m.count));for(let M=w,C=S;M<C;M+=3){const P=M,I=M+1,O=M+2;i=yv(this,g,e,r,c,u,f,P,I,O),i&&(i.faceIndex=Math.floor(M/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const y=Math.max(0,m.start),x=Math.min(l.count,m.start+m.count);for(let v=y,g=x;v<g;v+=3){const w=v,S=v+1,M=v+2;i=yv(this,o,e,r,c,u,f,w,S,M),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function mse(t,e,n,r,i,s,o,a){let l;if(e.side===di?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===Ea,a),l===null)return null;gv.copy(a),gv.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(gv);return c<n.near||c>n.far?null:{distance:c,point:gv.clone(),object:t}}function yv(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,id),t.getVertexPosition(l,sd),t.getVertexPosition(c,od);const u=mse(t,e,n,r,id,sd,od,mv);if(u){i&&(fv.fromBufferAttribute(i,a),hv.fromBufferAttribute(i,l),pv.fromBufferAttribute(i,c),u.uv=Mi.getInterpolation(mv,id,sd,od,fv,hv,pv,new Te)),s&&(fv.fromBufferAttribute(s,a),hv.fromBufferAttribute(s,l),pv.fromBufferAttribute(s,c),u.uv1=Mi.getInterpolation(mv,id,sd,od,fv,hv,pv,new Te),u.uv2=u.uv1),o&&(nk.fromBufferAttribute(o,a),rk.fromBufferAttribute(o,l),ik.fromBufferAttribute(o,c),u.normal=Mi.getInterpolation(mv,id,sd,od,nk,rk,ik,new G),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new G,materialIndex:0};Mi.getNormal(id,sd,od,f.normal),u.face=f}return u}class Eu extends zt{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let p=0,m=0;y("z","y","x",-1,-1,r,n,e,o,s,0),y("z","y","x",1,-1,r,n,-e,o,s,1),y("x","z","y",1,1,e,r,n,i,o,2),y("x","z","y",1,-1,e,r,-n,i,o,3),y("x","y","z",1,-1,e,n,r,i,s,4),y("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new st(c,3)),this.setAttribute("normal",new st(u,3)),this.setAttribute("uv",new st(f,2));function y(x,v,g,w,S,M,C,P,I,O,N){const k=M/I,V=C/O,W=M/2,Q=C/2,U=P/2,Y=I+1,q=O+1;let te=0,D=0;const F=new G;for(let j=0;j<q;j++){const K=j*V-Q;for(let ee=0;ee<Y;ee++){const J=ee*k-W;F[x]=J*w,F[v]=K*S,F[g]=U,c.push(F.x,F.y,F.z),F[x]=0,F[v]=0,F[g]=P>0?1:-1,u.push(F.x,F.y,F.z),f.push(ee/I),f.push(1-j/O),te+=1}}for(let j=0;j<O;j++)for(let K=0;K<I;K++){const ee=p+K+Y*j,J=p+K+Y*(j+1),ae=p+(K+1)+Y*(j+1),Se=p+(K+1)+Y*j;l.push(ee,J,Se),l.push(J,ae,Se),D+=6}a.addGroup(m,D,N),m+=D,p+=te}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Eu(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function kf(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function ti(t){const e={};for(let n=0;n<t.length;n++){const r=kf(t[n]);for(const i in r)e[i]=r[i]}return e}function gse(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function ZV(t){return t.getRenderTarget()===null?t.outputColorSpace:un.workingColorSpace}const JV={clone:kf,merge:ti};var yse=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vse=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class no extends Zr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=yse,this.fragmentShader=vse,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=kf(e.uniforms),this.uniformsGroups=gse(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class cg extends on{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new St,this.projectionMatrix=new St,this.projectionMatrixInverse=new St,this.coordinateSystem=Ys}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class Er extends cg{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Lf*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Jc*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Lf*2*Math.atan(Math.tan(Jc*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Jc*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const ad=-90,ld=1;class QV extends on{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Er(ad,ld,e,n);i.layers=this.layers,this.add(i);const s=new Er(ad,ld,e,n);s.layers=this.layers,this.add(s);const o=new Er(ad,ld,e,n);o.layers=this.layers,this.add(o);const a=new Er(ad,ld,e,n);a.layers=this.layers,this.add(a);const l=new Er(ad,ld,e,n);l.layers=this.layers,this.add(l);const c=new Er(ad,ld,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===Ys)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===If)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),p=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),y=e.xr.enabled;e.xr.enabled=!1;const x=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,a),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=x,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,p,m),e.xr.enabled=y,r.texture.needsPMREMUpdate=!0}}class ug extends Qn{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ma,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ej extends to{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Op("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Al?fr:Xi),this.texture=new ug(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Zn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Eu(5,5,5),s=new no({name:"CubemapFromEquirect",uniforms:kf(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:di,blending:pa});s.uniforms.tEquirect.value=n;const o=new pr(i,s),a=n.minFilter;return n.minFilter===Ol&&(n.minFilter=Zn),new QV(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const BS=new G,xse=new G,_se=new Bt;class nl{constructor(e=new G(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=BS.subVectors(r,n).cross(xse.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(BS),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||_se.getNormalMatrix(e),i=this.coplanarPoint(BS).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const pc=new Yr,vv=new G;class dg{constructor(e=new nl,n=new nl,r=new nl,i=new nl,s=new nl,o=new nl){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ys){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],p=i[7],m=i[8],y=i[9],x=i[10],v=i[11],g=i[12],w=i[13],S=i[14],M=i[15];if(r[0].setComponents(l-s,p-c,v-m,M-g).normalize(),r[1].setComponents(l+s,p+c,v+m,M+g).normalize(),r[2].setComponents(l+o,p+u,v+y,M+w).normalize(),r[3].setComponents(l-o,p-u,v-y,M-w).normalize(),r[4].setComponents(l-a,p-f,v-x,M-S).normalize(),n===Ys)r[5].setComponents(l+a,p+f,v+x,M+S).normalize();else if(n===If)r[5].setComponents(a,f,x,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),pc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),pc.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(pc)}intersectsSprite(e){return pc.center.set(0,0,0),pc.radius=.7071067811865476,pc.applyMatrix4(e.matrixWorld),this.intersectsSphere(pc)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(vv.x=i.normal.x>0?e.max.x:e.min.x,vv.y=i.normal.y>0?e.max.y:e.min.y,vv.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(vv)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function tj(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function wse(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,p=c.usage,m=f.byteLength,y=t.createBuffer();t.bindBuffer(u,y),t.bufferData(u,f,p),c.onUploadCallback();let x;if(f instanceof Float32Array)x=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)x=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else x=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)x=t.SHORT;else if(f instanceof Uint32Array)x=t.UNSIGNED_INT;else if(f instanceof Int32Array)x=t.INT;else if(f instanceof Int8Array)x=t.BYTE;else if(f instanceof Uint8Array)x=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)x=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:y,type:x,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version,size:m}}function s(c,u,f){const p=u.array,m=u._updateRange,y=u.updateRanges;if(t.bindBuffer(f,c),m.count===-1&&y.length===0&&t.bufferSubData(f,0,p),y.length!==0){for(let x=0,v=y.length;x<v;x++){const g=y[x];n?t.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p,g.start,g.count):t.bufferSubData(f,g.start*p.BYTES_PER_ELEMENT,p.subarray(g.start,g.start+g.count))}u.clearUpdateRanges()}m.count!==-1&&(n?t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p,m.offset,m.count):t.bufferSubData(f,m.offset*p.BYTES_PER_ELEMENT,p.subarray(m.offset,m.offset+m.count)),m.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const p=r.get(c);(!p||p.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);if(f===void 0)r.set(c,i(c,u));else if(f.version<c.version){if(f.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(f.buffer,c,u),f.version=c.version}}return{get:o,remove:a,update:l}}class fg extends zt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,p=n/l,m=[],y=[],x=[],v=[];for(let g=0;g<u;g++){const w=g*p-o;for(let S=0;S<c;S++){const M=S*f-s;y.push(M,-w,0),x.push(0,0,1),v.push(S/a),v.push(1-g/l)}}for(let g=0;g<l;g++)for(let w=0;w<a;w++){const S=w+c*g,M=w+c*(g+1),C=w+1+c*(g+1),P=w+1+c*g;m.push(S,M,P),m.push(M,C,P)}this.setIndex(m),this.setAttribute("position",new st(y,3)),this.setAttribute("normal",new st(x,3)),this.setAttribute("uv",new st(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new fg(e.width,e.height,e.widthSegments,e.heightSegments)}}var Sse=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,bse=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Ese=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Mse=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Tse=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Ase=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Cse=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,Rse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Pse=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Nse=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Ise=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,Lse=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,kse=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Dse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Ose=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Fse=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Use=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Bse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,zse=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Vse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,jse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Hse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Wse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Gse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,$se=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Xse=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,qse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Yse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Kse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Zse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Jse="gl_FragColor = linearToOutputTexel( gl_FragColor );",Qse=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,eoe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,toe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,noe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,roe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,ioe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,soe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,ooe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,aoe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,loe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,coe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,uoe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,doe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,foe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,hoe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,poe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,moe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,goe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,yoe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,voe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,xoe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,_oe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,woe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Soe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,boe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Eoe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Moe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Toe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Aoe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Coe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Roe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Poe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Noe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ioe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Loe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,koe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Doe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Ooe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Foe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Uoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Boe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,zoe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Voe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,joe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Hoe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Woe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Goe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,$oe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Xoe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,qoe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Yoe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Koe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Zoe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Joe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Qoe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,eae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,tae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,nae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,iae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,sae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,oae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,aae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,lae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,cae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,uae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,dae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,fae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,hae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,pae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,mae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,gae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,yae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,xae=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,_ae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Sae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,bae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Eae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Mae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Tae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Aae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Cae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Rae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Pae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Nae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Iae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Lae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,kae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Dae=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Oae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,zae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,jae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Hae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Wae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Gae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,$ae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Xae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,qae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Yae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Kae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Zae=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Jae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Qae=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,ele=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ot={alphahash_fragment:Sse,alphahash_pars_fragment:bse,alphamap_fragment:Ese,alphamap_pars_fragment:Mse,alphatest_fragment:Tse,alphatest_pars_fragment:Ase,aomap_fragment:Cse,aomap_pars_fragment:Rse,batching_pars_vertex:Pse,batching_vertex:Nse,begin_vertex:Ise,beginnormal_vertex:Lse,bsdfs:kse,iridescence_fragment:Dse,bumpmap_pars_fragment:Ose,clipping_planes_fragment:Fse,clipping_planes_pars_fragment:Use,clipping_planes_pars_vertex:Bse,clipping_planes_vertex:zse,color_fragment:Vse,color_pars_fragment:jse,color_pars_vertex:Hse,color_vertex:Wse,common:Gse,cube_uv_reflection_fragment:$se,defaultnormal_vertex:Xse,displacementmap_pars_vertex:qse,displacementmap_vertex:Yse,emissivemap_fragment:Kse,emissivemap_pars_fragment:Zse,colorspace_fragment:Jse,colorspace_pars_fragment:Qse,envmap_fragment:eoe,envmap_common_pars_fragment:toe,envmap_pars_fragment:noe,envmap_pars_vertex:roe,envmap_physical_pars_fragment:moe,envmap_vertex:ioe,fog_vertex:soe,fog_pars_vertex:ooe,fog_fragment:aoe,fog_pars_fragment:loe,gradientmap_pars_fragment:coe,lightmap_fragment:uoe,lightmap_pars_fragment:doe,lights_lambert_fragment:foe,lights_lambert_pars_fragment:hoe,lights_pars_begin:poe,lights_toon_fragment:goe,lights_toon_pars_fragment:yoe,lights_phong_fragment:voe,lights_phong_pars_fragment:xoe,lights_physical_fragment:_oe,lights_physical_pars_fragment:woe,lights_fragment_begin:Soe,lights_fragment_maps:boe,lights_fragment_end:Eoe,logdepthbuf_fragment:Moe,logdepthbuf_pars_fragment:Toe,logdepthbuf_pars_vertex:Aoe,logdepthbuf_vertex:Coe,map_fragment:Roe,map_pars_fragment:Poe,map_particle_fragment:Noe,map_particle_pars_fragment:Ioe,metalnessmap_fragment:Loe,metalnessmap_pars_fragment:koe,morphcolor_vertex:Doe,morphnormal_vertex:Ooe,morphtarget_pars_vertex:Foe,morphtarget_vertex:Uoe,normal_fragment_begin:Boe,normal_fragment_maps:zoe,normal_pars_fragment:Voe,normal_pars_vertex:joe,normal_vertex:Hoe,normalmap_pars_fragment:Woe,clearcoat_normal_fragment_begin:Goe,clearcoat_normal_fragment_maps:$oe,clearcoat_pars_fragment:Xoe,iridescence_pars_fragment:qoe,opaque_fragment:Yoe,packing:Koe,premultiplied_alpha_fragment:Zoe,project_vertex:Joe,dithering_fragment:Qoe,dithering_pars_fragment:eae,roughnessmap_fragment:tae,roughnessmap_pars_fragment:nae,shadowmap_pars_fragment:rae,shadowmap_pars_vertex:iae,shadowmap_vertex:sae,shadowmask_pars_fragment:oae,skinbase_vertex:aae,skinning_pars_vertex:lae,skinning_vertex:cae,skinnormal_vertex:uae,specularmap_fragment:dae,specularmap_pars_fragment:fae,tonemapping_fragment:hae,tonemapping_pars_fragment:pae,transmission_fragment:mae,transmission_pars_fragment:gae,uv_pars_fragment:yae,uv_pars_vertex:vae,uv_vertex:xae,worldpos_vertex:_ae,background_vert:wae,background_frag:Sae,backgroundCube_vert:bae,backgroundCube_frag:Eae,cube_vert:Mae,cube_frag:Tae,depth_vert:Aae,depth_frag:Cae,distanceRGBA_vert:Rae,distanceRGBA_frag:Pae,equirect_vert:Nae,equirect_frag:Iae,linedashed_vert:Lae,linedashed_frag:kae,meshbasic_vert:Dae,meshbasic_frag:Oae,meshlambert_vert:Fae,meshlambert_frag:Uae,meshmatcap_vert:Bae,meshmatcap_frag:zae,meshnormal_vert:Vae,meshnormal_frag:jae,meshphong_vert:Hae,meshphong_frag:Wae,meshphysical_vert:Gae,meshphysical_frag:$ae,meshtoon_vert:Xae,meshtoon_frag:qae,points_vert:Yae,points_frag:Kae,shadow_vert:Zae,shadow_frag:Jae,sprite_vert:Qae,sprite_frag:ele},Ve={common:{diffuse:{value:new Ye(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Bt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Bt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Bt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Bt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Bt},normalScale:{value:new Te(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Bt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Bt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Bt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Bt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ye(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ye(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0},uvTransform:{value:new Bt}},sprite:{diffuse:{value:new Ye(16777215)},opacity:{value:1},center:{value:new Te(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Bt},alphaMap:{value:null},alphaMapTransform:{value:new Bt},alphaTest:{value:0}}},Ws={basic:{uniforms:ti([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.fog]),vertexShader:Ot.meshbasic_vert,fragmentShader:Ot.meshbasic_frag},lambert:{uniforms:ti([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)}}]),vertexShader:Ot.meshlambert_vert,fragmentShader:Ot.meshlambert_frag},phong:{uniforms:ti([Ve.common,Ve.specularmap,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)},specular:{value:new Ye(1118481)},shininess:{value:30}}]),vertexShader:Ot.meshphong_vert,fragmentShader:Ot.meshphong_frag},standard:{uniforms:ti([Ve.common,Ve.envmap,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.roughnessmap,Ve.metalnessmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag},toon:{uniforms:ti([Ve.common,Ve.aomap,Ve.lightmap,Ve.emissivemap,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.gradientmap,Ve.fog,Ve.lights,{emissive:{value:new Ye(0)}}]),vertexShader:Ot.meshtoon_vert,fragmentShader:Ot.meshtoon_frag},matcap:{uniforms:ti([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,Ve.fog,{matcap:{value:null}}]),vertexShader:Ot.meshmatcap_vert,fragmentShader:Ot.meshmatcap_frag},points:{uniforms:ti([Ve.points,Ve.fog]),vertexShader:Ot.points_vert,fragmentShader:Ot.points_frag},dashed:{uniforms:ti([Ve.common,Ve.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ot.linedashed_vert,fragmentShader:Ot.linedashed_frag},depth:{uniforms:ti([Ve.common,Ve.displacementmap]),vertexShader:Ot.depth_vert,fragmentShader:Ot.depth_frag},normal:{uniforms:ti([Ve.common,Ve.bumpmap,Ve.normalmap,Ve.displacementmap,{opacity:{value:1}}]),vertexShader:Ot.meshnormal_vert,fragmentShader:Ot.meshnormal_frag},sprite:{uniforms:ti([Ve.sprite,Ve.fog]),vertexShader:Ot.sprite_vert,fragmentShader:Ot.sprite_frag},background:{uniforms:{uvTransform:{value:new Bt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ot.background_vert,fragmentShader:Ot.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Ot.backgroundCube_vert,fragmentShader:Ot.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ot.cube_vert,fragmentShader:Ot.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ot.equirect_vert,fragmentShader:Ot.equirect_frag},distanceRGBA:{uniforms:ti([Ve.common,Ve.displacementmap,{referencePosition:{value:new G},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ot.distanceRGBA_vert,fragmentShader:Ot.distanceRGBA_frag},shadow:{uniforms:ti([Ve.lights,Ve.fog,{color:{value:new Ye(0)},opacity:{value:1}}]),vertexShader:Ot.shadow_vert,fragmentShader:Ot.shadow_frag}};Ws.physical={uniforms:ti([Ws.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Bt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Bt},clearcoatNormalScale:{value:new Te(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Bt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Bt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Bt},sheen:{value:0},sheenColor:{value:new Ye(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Bt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Bt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Bt},transmissionSamplerSize:{value:new Te},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Bt},attenuationDistance:{value:0},attenuationColor:{value:new Ye(0)},specularColor:{value:new Ye(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Bt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Bt},anisotropyVector:{value:new Te},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Bt}}]),vertexShader:Ot.meshphysical_vert,fragmentShader:Ot.meshphysical_frag};const xv={r:0,b:0,g:0};function tle(t,e,n,r,i,s,o){const a=new Ye(0);let l=s===!0?0:1,c,u,f=null,p=0,m=null;function y(v,g){let w=!1,S=g.isScene===!0?g.background:null;S&&S.isTexture&&(S=(g.backgroundBlurriness>0?n:e).get(S)),S===null?x(a,l):S&&S.isColor&&(x(S,1),w=!0);const M=t.xr.getEnvironmentBlendMode();M==="additive"?r.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),S&&(S.isCubeTexture||S.mapping===rh)?(u===void 0&&(u=new pr(new Eu(1,1,1),new no({name:"BackgroundCubeMaterial",uniforms:kf(Ws.backgroundCube.uniforms),vertexShader:Ws.backgroundCube.vertexShader,fragmentShader:Ws.backgroundCube.fragmentShader,side:di,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(C,P,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=S,u.material.uniforms.flipEnvMap.value=S.isCubeTexture&&S.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=g.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,u.material.toneMapped=un.getTransfer(S.colorSpace)!==yn,(f!==S||p!==S.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=S,p=S.version,m=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):S&&S.isTexture&&(c===void 0&&(c=new pr(new fg(2,2),new no({name:"BackgroundMaterial",uniforms:kf(Ws.background.uniforms),vertexShader:Ws.background.vertexShader,fragmentShader:Ws.background.fragmentShader,side:Ea,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=S,c.material.uniforms.backgroundIntensity.value=g.backgroundIntensity,c.material.toneMapped=un.getTransfer(S.colorSpace)!==yn,S.matrixAutoUpdate===!0&&S.updateMatrix(),c.material.uniforms.uvTransform.value.copy(S.matrix),(f!==S||p!==S.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=S,p=S.version,m=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function x(v,g){v.getRGB(xv,ZV(t)),r.buffers.color.setClear(xv.r,xv.g,xv.b,g,o)}return{getClearColor:function(){return a},setClearColor:function(v,g=1){a.set(v),l=g,x(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,x(a,l)},render:y}}function nle(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=v(null);let c=l,u=!1;function f(U,Y,q,te,D){let F=!1;if(o){const j=x(te,q,Y);c!==j&&(c=j,m(c.object)),F=g(U,te,q,D),F&&w(U,te,q,D)}else{const j=Y.wireframe===!0;(c.geometry!==te.id||c.program!==q.id||c.wireframe!==j)&&(c.geometry=te.id,c.program=q.id,c.wireframe=j,F=!0)}D!==null&&n.update(D,t.ELEMENT_ARRAY_BUFFER),(F||u)&&(u=!1,O(U,Y,q,te),D!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(D).buffer))}function p(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function m(U){return r.isWebGL2?t.bindVertexArray(U):s.bindVertexArrayOES(U)}function y(U){return r.isWebGL2?t.deleteVertexArray(U):s.deleteVertexArrayOES(U)}function x(U,Y,q){const te=q.wireframe===!0;let D=a[U.id];D===void 0&&(D={},a[U.id]=D);let F=D[Y.id];F===void 0&&(F={},D[Y.id]=F);let j=F[te];return j===void 0&&(j=v(p()),F[te]=j),j}function v(U){const Y=[],q=[],te=[];for(let D=0;D<i;D++)Y[D]=0,q[D]=0,te[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Y,enabledAttributes:q,attributeDivisors:te,object:U,attributes:{},index:null}}function g(U,Y,q,te){const D=c.attributes,F=Y.attributes;let j=0;const K=q.getAttributes();for(const ee in K)if(K[ee].location>=0){const ae=D[ee];let Se=F[ee];if(Se===void 0&&(ee==="instanceMatrix"&&U.instanceMatrix&&(Se=U.instanceMatrix),ee==="instanceColor"&&U.instanceColor&&(Se=U.instanceColor)),ae===void 0||ae.attribute!==Se||Se&&ae.data!==Se.data)return!0;j++}return c.attributesNum!==j||c.index!==te}function w(U,Y,q,te){const D={},F=Y.attributes;let j=0;const K=q.getAttributes();for(const ee in K)if(K[ee].location>=0){let ae=F[ee];ae===void 0&&(ee==="instanceMatrix"&&U.instanceMatrix&&(ae=U.instanceMatrix),ee==="instanceColor"&&U.instanceColor&&(ae=U.instanceColor));const Se={};Se.attribute=ae,ae&&ae.data&&(Se.data=ae.data),D[ee]=Se,j++}c.attributes=D,c.attributesNum=j,c.index=te}function S(){const U=c.newAttributes;for(let Y=0,q=U.length;Y<q;Y++)U[Y]=0}function M(U){C(U,0)}function C(U,Y){const q=c.newAttributes,te=c.enabledAttributes,D=c.attributeDivisors;q[U]=1,te[U]===0&&(t.enableVertexAttribArray(U),te[U]=1),D[U]!==Y&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](U,Y),D[U]=Y)}function P(){const U=c.newAttributes,Y=c.enabledAttributes;for(let q=0,te=Y.length;q<te;q++)Y[q]!==U[q]&&(t.disableVertexAttribArray(q),Y[q]=0)}function I(U,Y,q,te,D,F,j){j===!0?t.vertexAttribIPointer(U,Y,q,D,F):t.vertexAttribPointer(U,Y,q,te,D,F)}function O(U,Y,q,te){if(r.isWebGL2===!1&&(U.isInstancedMesh||te.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;S();const D=te.attributes,F=q.getAttributes(),j=Y.defaultAttributeValues;for(const K in F){const ee=F[K];if(ee.location>=0){let J=D[K];if(J===void 0&&(K==="instanceMatrix"&&U.instanceMatrix&&(J=U.instanceMatrix),K==="instanceColor"&&U.instanceColor&&(J=U.instanceColor)),J!==void 0){const ae=J.normalized,Se=J.itemSize,Ae=n.get(J);if(Ae===void 0)continue;const ce=Ae.buffer,Oe=Ae.type,Be=Ae.bytesPerElement,Re=r.isWebGL2===!0&&(Oe===t.INT||Oe===t.UNSIGNED_INT||J.gpuType===RC);if(J.isInterleavedBufferAttribute){const Le=J.data,X=Le.stride,Ee=J.offset;if(Le.isInstancedInterleavedBuffer){for(let ve=0;ve<ee.locationSize;ve++)C(ee.location+ve,Le.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=Le.meshPerAttribute*Le.count)}else for(let ve=0;ve<ee.locationSize;ve++)M(ee.location+ve);t.bindBuffer(t.ARRAY_BUFFER,ce);for(let ve=0;ve<ee.locationSize;ve++)I(ee.location+ve,Se/ee.locationSize,Oe,ae,X*Be,(Ee+Se/ee.locationSize*ve)*Be,Re)}else{if(J.isInstancedBufferAttribute){for(let Le=0;Le<ee.locationSize;Le++)C(ee.location+Le,J.meshPerAttribute);U.isInstancedMesh!==!0&&te._maxInstanceCount===void 0&&(te._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let Le=0;Le<ee.locationSize;Le++)M(ee.location+Le);t.bindBuffer(t.ARRAY_BUFFER,ce);for(let Le=0;Le<ee.locationSize;Le++)I(ee.location+Le,Se/ee.locationSize,Oe,ae,Se*Be,Se/ee.locationSize*Le*Be,Re)}}else if(j!==void 0){const ae=j[K];if(ae!==void 0)switch(ae.length){case 2:t.vertexAttrib2fv(ee.location,ae);break;case 3:t.vertexAttrib3fv(ee.location,ae);break;case 4:t.vertexAttrib4fv(ee.location,ae);break;default:t.vertexAttrib1fv(ee.location,ae)}}}}P()}function N(){W();for(const U in a){const Y=a[U];for(const q in Y){const te=Y[q];for(const D in te)y(te[D].object),delete te[D];delete Y[q]}delete a[U]}}function k(U){if(a[U.id]===void 0)return;const Y=a[U.id];for(const q in Y){const te=Y[q];for(const D in te)y(te[D].object),delete te[D];delete Y[q]}delete a[U.id]}function V(U){for(const Y in a){const q=a[Y];if(q[U.id]===void 0)continue;const te=q[U.id];for(const D in te)y(te[D].object),delete te[D];delete q[U.id]}}function W(){Q(),u=!0,c!==l&&(c=l,m(c.object))}function Q(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:W,resetDefaultState:Q,dispose:N,releaseStatesOfGeometry:k,releaseStatesOfProgram:V,initAttributes:S,enableAttribute:M,disableUnusedAttributes:P}}function rle(t,e,n,r){const i=r.isWebGL2;let s;function o(u){s=u}function a(u,f){t.drawArrays(s,u,f),n.update(f,s,1)}function l(u,f,p){if(p===0)return;let m,y;if(i)m=t,y="drawArraysInstanced";else if(m=e.get("ANGLE_instanced_arrays"),y="drawArraysInstancedANGLE",m===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}m[y](s,u,f,p),n.update(f,s,p)}function c(u,f,p){if(p===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let y=0;y<p;y++)this.render(u[y],f[y]);else{m.multiDrawArraysWEBGL(s,u,0,f,0,p);let y=0;for(let x=0;x<p;x++)y+=f[x];n.update(y,s,1)}}this.setMode=o,this.render=a,this.renderInstances=l,this.renderMultiDraw=c}function ile(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),g=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),S=p>0,M=o||e.has("OES_texture_float"),C=S&&M,P=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:p,maxTextureSize:m,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:v,maxVaryings:g,maxFragmentUniforms:w,vertexTextures:S,floatFragmentTextures:M,floatVertexTextures:C,maxSamples:P}}function sle(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new nl,a=new Bt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,p){const m=f.length!==0||p||r!==0||i;return i=p,r=f.length,m},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,p){n=u(f,p,0)},this.setState=function(f,p,m){const y=f.clippingPlanes,x=f.clipIntersection,v=f.clipShadows,g=t.get(f);if(!i||y===null||y.length===0||s&&!v)s?u(null):c();else{const w=s?0:r,S=w*4;let M=g.clippingState||null;l.value=M,M=u(y,p,S,m);for(let C=0;C!==S;++C)M[C]=n[C];g.clippingState=M,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,p,m,y){const x=f!==null?f.length:0;let v=null;if(x!==0){if(v=l.value,y!==!0||v===null){const g=m+x*4,w=p.matrixWorldInverse;a.getNormalMatrix(w),(v===null||v.length<g)&&(v=new Float32Array(g));for(let S=0,M=m;S!==x;++S,M+=4)o.copy(f[S]).applyMatrix4(w,a),o.normal.toArray(v,M),v[M+3]=o.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,v}}function ole(t){let e=new WeakMap;function n(o,a){return a===xm?o.mapping=Ma:a===_m&&(o.mapping=Dl),o}function r(o){if(o&&o.isTexture){const a=o.mapping;if(a===xm||a===_m)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new ej(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class hg extends cg{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const jd=4,sk=[.125,.215,.35,.446,.526,.582],Rc=20,zS=new hg,ok=new Ye;let VS=null,jS=0,HS=0;const Mc=(1+Math.sqrt(5))/2,cd=1/Mc,ak=[new G(1,1,1),new G(-1,1,1),new G(1,1,-1),new G(-1,1,-1),new G(0,Mc,cd),new G(0,Mc,-cd),new G(cd,0,Mc),new G(-cd,0,Mc),new G(Mc,cd,0),new G(-Mc,cd,0)];class HM{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){VS=this._renderer.getRenderTarget(),jS=this._renderer.getActiveCubeFace(),HS=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=uk(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=ck(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(VS,jS,HS),e.scissorTest=!1,_v(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ma||e.mapping===Dl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),VS=this._renderer.getRenderTarget(),jS=this._renderer.getActiveCubeFace(),HS=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Zn,minFilter:Zn,generateMipmaps:!1,type:Nf,format:oi,colorSpace:Bo,depthBuffer:!1},i=lk(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=lk(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=ale(s)),this._blurMaterial=lle(s,e,n)}return i}_compileMaterial(e){const n=new pr(this._lodPlanes[0],e);this._renderer.compile(n,zS)}_sceneToCubeUV(e,n,r,i){const a=new Er(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,p=u.toneMapping;u.getClearColor(ok),u.toneMapping=Lo,u.autoClear=!1;const m=new Yl({name:"PMREM.Background",side:di,depthWrite:!1,depthTest:!1}),y=new pr(new Eu,m);let x=!1;const v=e.background;v?v.isColor&&(m.color.copy(v),e.background=null,x=!0):(m.color.copy(ok),x=!0);for(let g=0;g<6;g++){const w=g%3;w===0?(a.up.set(0,l[g],0),a.lookAt(c[g],0,0)):w===1?(a.up.set(0,0,l[g]),a.lookAt(0,c[g],0)):(a.up.set(0,l[g],0),a.lookAt(0,0,c[g]));const S=this._cubeSize;_v(i,w*S,g>2?S:0,S,S),u.setRenderTarget(i),x&&u.render(y,a),u.render(e,a)}y.geometry.dispose(),y.material.dispose(),u.toneMapping=p,u.autoClear=f,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ma||e.mapping===Dl;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=uk()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=ck());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new pr(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;_v(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,zS)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=ak[(i-1)%ak.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new pr(this._lodPlanes[i],c),p=c.uniforms,m=this._sizeLods[r]-1,y=isFinite(s)?Math.PI/(2*m):2*Math.PI/(2*Rc-1),x=s/y,v=isFinite(s)?1+Math.floor(u*x):Rc;v>Rc&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Rc}`);const g=[];let w=0;for(let I=0;I<Rc;++I){const O=I/x,N=Math.exp(-O*O/2);g.push(N),I===0?w+=N:I<v&&(w+=2*N)}for(let I=0;I<g.length;I++)g[I]=g[I]/w;p.envMap.value=e.texture,p.samples.value=v,p.weights.value=g,p.latitudinal.value=o==="latitudinal",a&&(p.poleAxis.value=a);const{_lodMax:S}=this;p.dTheta.value=y,p.mipInt.value=S-r;const M=this._sizeLods[i],C=3*M*(i>S-jd?i-S+jd:0),P=4*(this._cubeSize-M);_v(n,C,P,3*M,2*M),l.setRenderTarget(n),l.render(f,zS)}}function ale(t){const e=[],n=[],r=[];let i=t;const s=t-jd+1+sk.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-jd?l=sk[o-t+jd-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,p=[u,u,f,u,f,f,u,u,f,f,u,f],m=6,y=6,x=3,v=2,g=1,w=new Float32Array(x*y*m),S=new Float32Array(v*y*m),M=new Float32Array(g*y*m);for(let P=0;P<m;P++){const I=P%3*2/3-1,O=P>2?0:-1,N=[I,O,0,I+2/3,O,0,I+2/3,O+1,0,I,O,0,I+2/3,O+1,0,I,O+1,0];w.set(N,x*y*P),S.set(p,v*y*P);const k=[P,P,P,P,P,P];M.set(k,g*y*P)}const C=new zt;C.setAttribute("position",new hn(w,x)),C.setAttribute("uv",new hn(S,v)),C.setAttribute("faceIndex",new hn(M,g)),e.push(C),i>jd&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function lk(t,e,n){const r=new to(t,e,n);return r.texture.mapping=rh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function _v(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function lle(t,e,n){const r=new Float32Array(Rc),i=new G(0,1,0);return new no({name:"SphericalGaussianBlur",defines:{n:Rc,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:pa,depthTest:!1,depthWrite:!1})}function ck(){return new no({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:pa,depthTest:!1,depthWrite:!1})}function uk(){return new no({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:WC(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:pa,depthTest:!1,depthWrite:!1})}function WC(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function cle(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===xm||l===_m,u=l===Ma||l===Dl;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new HM(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new HM(t));const p=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,p),a.addEventListener("dispose",s),p.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function ule(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function dle(t,e,n,r){const i={},s=new WeakMap;function o(f){const p=f.target;p.index!==null&&e.remove(p.index);for(const y in p.attributes)e.remove(p.attributes[y]);for(const y in p.morphAttributes){const x=p.morphAttributes[y];for(let v=0,g=x.length;v<g;v++)e.remove(x[v])}p.removeEventListener("dispose",o),delete i[p.id];const m=s.get(p);m&&(e.remove(m),s.delete(p)),r.releaseStatesOfGeometry(p),p.isInstancedBufferGeometry===!0&&delete p._maxInstanceCount,n.memory.geometries--}function a(f,p){return i[p.id]===!0||(p.addEventListener("dispose",o),i[p.id]=!0,n.memory.geometries++),p}function l(f){const p=f.attributes;for(const y in p)e.update(p[y],t.ARRAY_BUFFER);const m=f.morphAttributes;for(const y in m){const x=m[y];for(let v=0,g=x.length;v<g;v++)e.update(x[v],t.ARRAY_BUFFER)}}function c(f){const p=[],m=f.index,y=f.attributes.position;let x=0;if(m!==null){const w=m.array;x=m.version;for(let S=0,M=w.length;S<M;S+=3){const C=w[S+0],P=w[S+1],I=w[S+2];p.push(C,P,P,I,I,C)}}else if(y!==void 0){const w=y.array;x=y.version;for(let S=0,M=w.length/3-1;S<M;S+=3){const C=S+0,P=S+1,I=S+2;p.push(C,P,P,I,I,C)}}else return;const v=new(XV(p)?HC:jC)(p,1);v.version=x;const g=s.get(f);g&&e.remove(g),s.set(f,v)}function u(f){const p=s.get(f);if(p){const m=f.index;m!==null&&p.version<m.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function fle(t,e,n,r){const i=r.isWebGL2;let s;function o(m){s=m}let a,l;function c(m){a=m.type,l=m.bytesPerElement}function u(m,y){t.drawElements(s,y,a,m*l),n.update(y,s,1)}function f(m,y,x){if(x===0)return;let v,g;if(i)v=t,g="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[g](s,y,a,m*l,x),n.update(y,s,x)}function p(m,y,x){if(x===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let g=0;g<x;g++)this.render(m[g]/l,y[g]);else{v.multiDrawElementsWEBGL(s,y,0,a,m,0,x);let g=0;for(let w=0;w<x;w++)g+=y[w];n.update(g,s,1)}}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f,this.renderMultiDraw=p}function hle(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function ple(t,e){return t[0]-e[0]}function mle(t,e){return Math.abs(e[1])-Math.abs(t[1])}function gle(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new dn,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const p=c.morphTargetInfluences;if(e.isWebGL2===!0){const y=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,x=y!==void 0?y.length:0;let v=s.get(u);if(v===void 0||v.count!==x){let Y=function(){Q.dispose(),s.delete(u),u.removeEventListener("dispose",Y)};var m=Y;v!==void 0&&v.texture.dispose();const S=u.morphAttributes.position!==void 0,M=u.morphAttributes.normal!==void 0,C=u.morphAttributes.color!==void 0,P=u.morphAttributes.position||[],I=u.morphAttributes.normal||[],O=u.morphAttributes.color||[];let N=0;S===!0&&(N=1),M===!0&&(N=2),C===!0&&(N=3);let k=u.attributes.position.count*N,V=1;k>e.maxTextureSize&&(V=Math.ceil(k/e.maxTextureSize),k=e.maxTextureSize);const W=new Float32Array(k*V*4*x),Q=new R_(W,k,V,x);Q.type=qs,Q.needsUpdate=!0;const U=N*4;for(let q=0;q<x;q++){const te=P[q],D=I[q],F=O[q],j=k*V*4*q;for(let K=0;K<te.count;K++){const ee=K*U;S===!0&&(o.fromBufferAttribute(te,K),W[j+ee+0]=o.x,W[j+ee+1]=o.y,W[j+ee+2]=o.z,W[j+ee+3]=0),M===!0&&(o.fromBufferAttribute(D,K),W[j+ee+4]=o.x,W[j+ee+5]=o.y,W[j+ee+6]=o.z,W[j+ee+7]=0),C===!0&&(o.fromBufferAttribute(F,K),W[j+ee+8]=o.x,W[j+ee+9]=o.y,W[j+ee+10]=o.z,W[j+ee+11]=F.itemSize===4?o.w:1)}}v={count:x,texture:Q,size:new Te(k,V)},s.set(u,v),u.addEventListener("dispose",Y)}let g=0;for(let S=0;S<p.length;S++)g+=p[S];const w=u.morphTargetsRelative?1:1-g;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",p),f.getUniforms().setValue(t,"morphTargetsTexture",v.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",v.size)}else{const y=p===void 0?0:p.length;let x=r[u.id];if(x===void 0||x.length!==y){x=[];for(let M=0;M<y;M++)x[M]=[M,0];r[u.id]=x}for(let M=0;M<y;M++){const C=x[M];C[0]=M,C[1]=p[M]}x.sort(mle);for(let M=0;M<8;M++)M<y&&x[M][1]?(a[M][0]=x[M][0],a[M][1]=x[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(ple);const v=u.morphAttributes.position,g=u.morphAttributes.normal;let w=0;for(let M=0;M<8;M++){const C=a[M],P=C[0],I=C[1];P!==Number.MAX_SAFE_INTEGER&&I?(v&&u.getAttribute("morphTarget"+M)!==v[P]&&u.setAttribute("morphTarget"+M,v[P]),g&&u.getAttribute("morphNormal"+M)!==g[P]&&u.setAttribute("morphNormal"+M,g[P]),i[M]=I,w+=I):(v&&u.hasAttribute("morphTarget"+M)===!0&&u.deleteAttribute("morphTarget"+M),g&&u.hasAttribute("morphNormal"+M)===!0&&u.deleteAttribute("morphNormal"+M),i[M]=0)}const S=u.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",S),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function yle(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const p=l.skeleton;i.get(p)!==c&&(p.update(),i.set(p,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}class GC extends Qn{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Tl,u!==Tl&&u!==cu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Tl&&(r=ua),r===void 0&&u===cu&&(r=Ml),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:Yn,this.minFilter=l!==void 0?l:Yn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const nj=new Qn,rj=new GC(1,1);rj.compareFunction=UC;const ij=new R_,sj=new VC,oj=new ug,dk=[],fk=[],hk=new Float32Array(16),pk=new Float32Array(9),mk=new Float32Array(4);function sh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=dk[i];if(s===void 0&&(s=new Float32Array(i),dk[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function mr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function gr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function P_(t,e){let n=fk[e];n===void 0&&(n=new Int32Array(e),fk[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function vle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function xle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2fv(this.addr,e),gr(n,e)}}function _le(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(mr(n,e))return;t.uniform3fv(this.addr,e),gr(n,e)}}function wle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4fv(this.addr,e),gr(n,e)}}function Sle(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;mk.set(r),t.uniformMatrix2fv(this.addr,!1,mk),gr(n,r)}}function ble(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;pk.set(r),t.uniformMatrix3fv(this.addr,!1,pk),gr(n,r)}}function Ele(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(mr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),gr(n,e)}else{if(mr(n,r))return;hk.set(r),t.uniformMatrix4fv(this.addr,!1,hk),gr(n,r)}}function Mle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Tle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2iv(this.addr,e),gr(n,e)}}function Ale(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3iv(this.addr,e),gr(n,e)}}function Cle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4iv(this.addr,e),gr(n,e)}}function Rle(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ple(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(mr(n,e))return;t.uniform2uiv(this.addr,e),gr(n,e)}}function Nle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(mr(n,e))return;t.uniform3uiv(this.addr,e),gr(n,e)}}function Ile(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(mr(n,e))return;t.uniform4uiv(this.addr,e),gr(n,e)}}function Lle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?rj:nj;n.setTexture2D(e||s,i)}function kle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||sj,i)}function Dle(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||oj,i)}function Ole(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||ij,i)}function Fle(t){switch(t){case 5126:return vle;case 35664:return xle;case 35665:return _le;case 35666:return wle;case 35674:return Sle;case 35675:return ble;case 35676:return Ele;case 5124:case 35670:return Mle;case 35667:case 35671:return Tle;case 35668:case 35672:return Ale;case 35669:case 35673:return Cle;case 5125:return Rle;case 36294:return Ple;case 36295:return Nle;case 36296:return Ile;case 35678:case 36198:case 36298:case 36306:case 35682:return Lle;case 35679:case 36299:case 36307:return kle;case 35680:case 36300:case 36308:case 36293:return Dle;case 36289:case 36303:case 36311:case 36292:return Ole}}function Ule(t,e){t.uniform1fv(this.addr,e)}function Ble(t,e){const n=sh(e,this.size,2);t.uniform2fv(this.addr,n)}function zle(t,e){const n=sh(e,this.size,3);t.uniform3fv(this.addr,n)}function Vle(t,e){const n=sh(e,this.size,4);t.uniform4fv(this.addr,n)}function jle(t,e){const n=sh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Hle(t,e){const n=sh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Wle(t,e){const n=sh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Gle(t,e){t.uniform1iv(this.addr,e)}function $le(t,e){t.uniform2iv(this.addr,e)}function Xle(t,e){t.uniform3iv(this.addr,e)}function qle(t,e){t.uniform4iv(this.addr,e)}function Yle(t,e){t.uniform1uiv(this.addr,e)}function Kle(t,e){t.uniform2uiv(this.addr,e)}function Zle(t,e){t.uniform3uiv(this.addr,e)}function Jle(t,e){t.uniform4uiv(this.addr,e)}function Qle(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);mr(r,s)||(t.uniform1iv(this.addr,s),gr(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||nj,s[o])}function ece(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);mr(r,s)||(t.uniform1iv(this.addr,s),gr(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||sj,s[o])}function tce(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);mr(r,s)||(t.uniform1iv(this.addr,s),gr(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||oj,s[o])}function nce(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);mr(r,s)||(t.uniform1iv(this.addr,s),gr(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||ij,s[o])}function rce(t){switch(t){case 5126:return Ule;case 35664:return Ble;case 35665:return zle;case 35666:return Vle;case 35674:return jle;case 35675:return Hle;case 35676:return Wle;case 5124:case 35670:return Gle;case 35667:case 35671:return $le;case 35668:case 35672:return Xle;case 35669:case 35673:return qle;case 5125:return Yle;case 36294:return Kle;case 36295:return Zle;case 36296:return Jle;case 35678:case 36198:case 36298:case 36306:case 35682:return Qle;case 35679:case 36299:case 36307:return ece;case 35680:case 36300:case 36308:case 36293:return tce;case 36289:case 36303:case 36311:case 36292:return nce}}class ice{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=Fle(n.type)}}class sce{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=rce(n.type)}}class oce{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const WS=/(\w+)(\])?(\[|\.)?/g;function gk(t,e){t.seq.push(e),t.map[e.id]=e}function ace(t,e,n){const r=t.name,i=r.length;for(WS.lastIndex=0;;){const s=WS.exec(r),o=WS.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){gk(n,c===void 0?new ice(a,t,e):new sce(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new oce(a),gk(n,f)),n=f}}}class b0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);ace(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function yk(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const lce=37297;let cce=0;function uce(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function dce(t){const e=un.getPrimaries(un.workingColorSpace),n=un.getPrimaries(t);let r;switch(e===n?r="":e===Cm&&n===Am?r="LinearDisplayP3ToLinearSRGB":e===Am&&n===Cm&&(r="LinearSRGBToLinearDisplayP3"),t){case Bo:case ag:return[r,"LinearTransferOETF"];case fr:case C_:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function vk(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+uce(t.getShaderSource(e),o)}else return i}function fce(t,e){const n=dce(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function hce(t,e){let n;switch(e){case xV:n="Linear";break;case _V:n="Reinhard";break;case wV:n="OptimizedCineon";break;case AC:n="ACESFilmic";break;case bV:n="AgX";break;case SV:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function pce(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Hd).join(`
`)}function mce(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(Hd).join(`
`)}function gce(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function yce(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function Hd(t){return t!==""}function xk(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function _k(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const vce=/^[ \t]*#include +<([\w\d./]+)>/gm;function WM(t){return t.replace(vce,_ce)}const xce=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function _ce(t,e){let n=Ot[e];if(n===void 0){const r=xce.get(e);if(r!==void 0)n=Ot[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return WM(n)}const wce=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function wk(t){return t.replace(wce,Sce)}function Sce(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Sk(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function bce(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===E_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Lp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Us&&(e="SHADOWMAP_TYPE_VSM"),e}function Ece(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ma:case Dl:e="ENVMAP_TYPE_CUBE";break;case rh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Mce(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Dl:e="ENVMAP_MODE_REFRACTION";break}return e}function Tce(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case og:e="ENVMAP_BLENDING_MULTIPLY";break;case yV:e="ENVMAP_BLENDING_MIX";break;case vV:e="ENVMAP_BLENDING_ADD";break}return e}function Ace(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Cce(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=bce(n),c=Ece(n),u=Mce(n),f=Tce(n),p=Ace(n),m=n.isWebGL2?"":pce(n),y=mce(n),x=gce(s),v=i.createProgram();let g,w,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(g=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Hd).join(`
`),g.length>0&&(g+=`
`),w=[m,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x].filter(Hd).join(`
`),w.length>0&&(w+=`
`)):(g=[Sk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Hd).join(`
`),w=[m,Sk(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,x,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",p?"#define CUBEUV_TEXEL_WIDTH "+p.texelWidth:"",p?"#define CUBEUV_TEXEL_HEIGHT "+p.texelHeight:"",p?"#define CUBEUV_MAX_MIP "+p.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Lo?"#define TONE_MAPPING":"",n.toneMapping!==Lo?Ot.tonemapping_pars_fragment:"",n.toneMapping!==Lo?hce("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ot.colorspace_pars_fragment,fce("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Hd).join(`
`)),o=WM(o),o=xk(o,n),o=_k(o,n),a=WM(a),a=xk(a,n),a=_k(a,n),o=wk(o),a=wk(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,g=[y,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,w=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===VM?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===VM?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const M=S+g+o,C=S+w+a,P=yk(i,i.VERTEX_SHADER,M),I=yk(i,i.FRAGMENT_SHADER,C);i.attachShader(v,P),i.attachShader(v,I),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function O(W){if(t.debug.checkShaderErrors){const Q=i.getProgramInfoLog(v).trim(),U=i.getShaderInfoLog(P).trim(),Y=i.getShaderInfoLog(I).trim();let q=!0,te=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(q=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,P,I);else{const D=vk(i,P,"vertex"),F=vk(i,I,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Program Info Log: `+Q+`
`+D+`
`+F)}else Q!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Q):(U===""||Y==="")&&(te=!1);te&&(W.diagnostics={runnable:q,programLog:Q,vertexShader:{log:U,prefix:g},fragmentShader:{log:Y,prefix:w}})}i.deleteShader(P),i.deleteShader(I),N=new b0(i,v),k=yce(i,v)}let N;this.getUniforms=function(){return N===void 0&&O(this),N};let k;this.getAttributes=function(){return k===void 0&&O(this),k};let V=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return V===!1&&(V=i.getProgramParameter(v,lce)),V},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=cce++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=P,this.fragmentShader=I,this}let Rce=0;class Pce{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new Nce(e),n.set(e,r)),r}}class Nce{constructor(e){this.id=Rce++,this.code=e,this.usedTimes=0}}function Ice(t,e,n,r,i,s,o){const a=new Qc,l=new Pce,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,p=i.vertexTextures;let m=i.precision;const y={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(N){return N===0?"uv":`uv${N}`}function v(N,k,V,W,Q){const U=W.fog,Y=Q.geometry,q=N.isMeshStandardMaterial?W.environment:null,te=(N.isMeshStandardMaterial?n:e).get(N.envMap||q),D=te&&te.mapping===rh?te.image.height:null,F=y[N.type];N.precision!==null&&(m=i.getMaxPrecision(N.precision),m!==N.precision&&console.warn("THREE.WebGLProgram.getParameters:",N.precision,"not supported, using",m,"instead."));const j=Y.morphAttributes.position||Y.morphAttributes.normal||Y.morphAttributes.color,K=j!==void 0?j.length:0;let ee=0;Y.morphAttributes.position!==void 0&&(ee=1),Y.morphAttributes.normal!==void 0&&(ee=2),Y.morphAttributes.color!==void 0&&(ee=3);let J,ae,Se,Ae;if(F){const an=Ws[F];J=an.vertexShader,ae=an.fragmentShader}else J=N.vertexShader,ae=N.fragmentShader,l.update(N),Se=l.getVertexShaderID(N),Ae=l.getFragmentShaderID(N);const ce=t.getRenderTarget(),Oe=Q.isInstancedMesh===!0,Be=Q.isBatchedMesh===!0,Re=!!N.map,Le=!!N.matcap,X=!!te,Ee=!!N.aoMap,ve=!!N.lightMap,Pe=!!N.bumpMap,we=!!N.normalMap,Je=!!N.displacementMap,He=!!N.emissiveMap,z=!!N.metalnessMap,R=!!N.roughnessMap,B=N.anisotropy>0,Z=N.clearcoat>0,oe=N.iridescence>0,ie=N.sheen>0,de=N.transmission>0,fe=B&&!!N.anisotropyMap,Ce=Z&&!!N.clearcoatMap,ze=Z&&!!N.clearcoatNormalMap,lt=Z&&!!N.clearcoatRoughnessMap,Me=oe&&!!N.iridescenceMap,At=oe&&!!N.iridescenceThicknessMap,Ct=ie&&!!N.sheenColorMap,pt=ie&&!!N.sheenRoughnessMap,nt=!!N.specularMap,Ke=!!N.specularColorMap,mt=!!N.specularIntensityMap,Xt=de&&!!N.transmissionMap,ln=de&&!!N.thicknessMap,Nt=!!N.gradientMap,Fe=!!N.alphaMap,ne=N.alphaTest>0,je=!!N.alphaHash,Ue=!!N.extensions,yt=!!Y.attributes.uv1,Ne=!!Y.attributes.uv2,ut=!!Y.attributes.uv3;let ht=Lo;return N.toneMapped&&(ce===null||ce.isXRRenderTarget===!0)&&(ht=t.toneMapping),{isWebGL2:u,shaderID:F,shaderType:N.type,shaderName:N.name,vertexShader:J,fragmentShader:ae,defines:N.defines,customVertexShaderID:Se,customFragmentShaderID:Ae,isRawShaderMaterial:N.isRawShaderMaterial===!0,glslVersion:N.glslVersion,precision:m,batching:Be,instancing:Oe,instancingColor:Oe&&Q.instanceColor!==null,supportsVertexTextures:p,outputColorSpace:ce===null?t.outputColorSpace:ce.isXRRenderTarget===!0?ce.texture.colorSpace:Bo,map:Re,matcap:Le,envMap:X,envMapMode:X&&te.mapping,envMapCubeUVHeight:D,aoMap:Ee,lightMap:ve,bumpMap:Pe,normalMap:we,displacementMap:p&&Je,emissiveMap:He,normalMapObjectSpace:we&&N.normalMapType===UV,normalMapTangentSpace:we&&N.normalMapType===ql,metalnessMap:z,roughnessMap:R,anisotropy:B,anisotropyMap:fe,clearcoat:Z,clearcoatMap:Ce,clearcoatNormalMap:ze,clearcoatRoughnessMap:lt,iridescence:oe,iridescenceMap:Me,iridescenceThicknessMap:At,sheen:ie,sheenColorMap:Ct,sheenRoughnessMap:pt,specularMap:nt,specularColorMap:Ke,specularIntensityMap:mt,transmission:de,transmissionMap:Xt,thicknessMap:ln,gradientMap:Nt,opaque:N.transparent===!1&&N.blending===Zc,alphaMap:Fe,alphaTest:ne,alphaHash:je,combine:N.combine,mapUv:Re&&x(N.map.channel),aoMapUv:Ee&&x(N.aoMap.channel),lightMapUv:ve&&x(N.lightMap.channel),bumpMapUv:Pe&&x(N.bumpMap.channel),normalMapUv:we&&x(N.normalMap.channel),displacementMapUv:Je&&x(N.displacementMap.channel),emissiveMapUv:He&&x(N.emissiveMap.channel),metalnessMapUv:z&&x(N.metalnessMap.channel),roughnessMapUv:R&&x(N.roughnessMap.channel),anisotropyMapUv:fe&&x(N.anisotropyMap.channel),clearcoatMapUv:Ce&&x(N.clearcoatMap.channel),clearcoatNormalMapUv:ze&&x(N.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:lt&&x(N.clearcoatRoughnessMap.channel),iridescenceMapUv:Me&&x(N.iridescenceMap.channel),iridescenceThicknessMapUv:At&&x(N.iridescenceThicknessMap.channel),sheenColorMapUv:Ct&&x(N.sheenColorMap.channel),sheenRoughnessMapUv:pt&&x(N.sheenRoughnessMap.channel),specularMapUv:nt&&x(N.specularMap.channel),specularColorMapUv:Ke&&x(N.specularColorMap.channel),specularIntensityMapUv:mt&&x(N.specularIntensityMap.channel),transmissionMapUv:Xt&&x(N.transmissionMap.channel),thicknessMapUv:ln&&x(N.thicknessMap.channel),alphaMapUv:Fe&&x(N.alphaMap.channel),vertexTangents:!!Y.attributes.tangent&&(we||B),vertexColors:N.vertexColors,vertexAlphas:N.vertexColors===!0&&!!Y.attributes.color&&Y.attributes.color.itemSize===4,vertexUv1s:yt,vertexUv2s:Ne,vertexUv3s:ut,pointsUvs:Q.isPoints===!0&&!!Y.attributes.uv&&(Re||Fe),fog:!!U,useFog:N.fog===!0,fogExp2:U&&U.isFogExp2,flatShading:N.flatShading===!0,sizeAttenuation:N.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:Q.isSkinnedMesh===!0,morphTargets:Y.morphAttributes.position!==void 0,morphNormals:Y.morphAttributes.normal!==void 0,morphColors:Y.morphAttributes.color!==void 0,morphTargetsCount:K,morphTextureStride:ee,numDirLights:k.directional.length,numPointLights:k.point.length,numSpotLights:k.spot.length,numSpotLightMaps:k.spotLightMap.length,numRectAreaLights:k.rectArea.length,numHemiLights:k.hemi.length,numDirLightShadows:k.directionalShadowMap.length,numPointLightShadows:k.pointShadowMap.length,numSpotLightShadows:k.spotShadowMap.length,numSpotLightShadowsWithMaps:k.numSpotLightShadowsWithMaps,numLightProbes:k.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:N.dithering,shadowMapEnabled:t.shadowMap.enabled&&V.length>0,shadowMapType:t.shadowMap.type,toneMapping:ht,useLegacyLights:t._useLegacyLights,decodeVideoTexture:Re&&N.map.isVideoTexture===!0&&un.getTransfer(N.map.colorSpace)===yn,premultipliedAlpha:N.premultipliedAlpha,doubleSided:N.side===Mo,flipSided:N.side===di,useDepthPacking:N.depthPacking>=0,depthPacking:N.depthPacking||0,index0AttributeName:N.index0AttributeName,extensionDerivatives:Ue&&N.extensions.derivatives===!0,extensionFragDepth:Ue&&N.extensions.fragDepth===!0,extensionDrawBuffers:Ue&&N.extensions.drawBuffers===!0,extensionShaderTextureLOD:Ue&&N.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Ue&&N.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:N.customProgramCacheKey()}}function g(N){const k=[];if(N.shaderID?k.push(N.shaderID):(k.push(N.customVertexShaderID),k.push(N.customFragmentShaderID)),N.defines!==void 0)for(const V in N.defines)k.push(V),k.push(N.defines[V]);return N.isRawShaderMaterial===!1&&(w(k,N),S(k,N),k.push(t.outputColorSpace)),k.push(N.customProgramCacheKey),k.join()}function w(N,k){N.push(k.precision),N.push(k.outputColorSpace),N.push(k.envMapMode),N.push(k.envMapCubeUVHeight),N.push(k.mapUv),N.push(k.alphaMapUv),N.push(k.lightMapUv),N.push(k.aoMapUv),N.push(k.bumpMapUv),N.push(k.normalMapUv),N.push(k.displacementMapUv),N.push(k.emissiveMapUv),N.push(k.metalnessMapUv),N.push(k.roughnessMapUv),N.push(k.anisotropyMapUv),N.push(k.clearcoatMapUv),N.push(k.clearcoatNormalMapUv),N.push(k.clearcoatRoughnessMapUv),N.push(k.iridescenceMapUv),N.push(k.iridescenceThicknessMapUv),N.push(k.sheenColorMapUv),N.push(k.sheenRoughnessMapUv),N.push(k.specularMapUv),N.push(k.specularColorMapUv),N.push(k.specularIntensityMapUv),N.push(k.transmissionMapUv),N.push(k.thicknessMapUv),N.push(k.combine),N.push(k.fogExp2),N.push(k.sizeAttenuation),N.push(k.morphTargetsCount),N.push(k.morphAttributeCount),N.push(k.numDirLights),N.push(k.numPointLights),N.push(k.numSpotLights),N.push(k.numSpotLightMaps),N.push(k.numHemiLights),N.push(k.numRectAreaLights),N.push(k.numDirLightShadows),N.push(k.numPointLightShadows),N.push(k.numSpotLightShadows),N.push(k.numSpotLightShadowsWithMaps),N.push(k.numLightProbes),N.push(k.shadowMapType),N.push(k.toneMapping),N.push(k.numClippingPlanes),N.push(k.numClipIntersection),N.push(k.depthPacking)}function S(N,k){a.disableAll(),k.isWebGL2&&a.enable(0),k.supportsVertexTextures&&a.enable(1),k.instancing&&a.enable(2),k.instancingColor&&a.enable(3),k.matcap&&a.enable(4),k.envMap&&a.enable(5),k.normalMapObjectSpace&&a.enable(6),k.normalMapTangentSpace&&a.enable(7),k.clearcoat&&a.enable(8),k.iridescence&&a.enable(9),k.alphaTest&&a.enable(10),k.vertexColors&&a.enable(11),k.vertexAlphas&&a.enable(12),k.vertexUv1s&&a.enable(13),k.vertexUv2s&&a.enable(14),k.vertexUv3s&&a.enable(15),k.vertexTangents&&a.enable(16),k.anisotropy&&a.enable(17),k.alphaHash&&a.enable(18),k.batching&&a.enable(19),N.push(a.mask),a.disableAll(),k.fog&&a.enable(0),k.useFog&&a.enable(1),k.flatShading&&a.enable(2),k.logarithmicDepthBuffer&&a.enable(3),k.skinning&&a.enable(4),k.morphTargets&&a.enable(5),k.morphNormals&&a.enable(6),k.morphColors&&a.enable(7),k.premultipliedAlpha&&a.enable(8),k.shadowMapEnabled&&a.enable(9),k.useLegacyLights&&a.enable(10),k.doubleSided&&a.enable(11),k.flipSided&&a.enable(12),k.useDepthPacking&&a.enable(13),k.dithering&&a.enable(14),k.transmission&&a.enable(15),k.sheen&&a.enable(16),k.opaque&&a.enable(17),k.pointsUvs&&a.enable(18),k.decodeVideoTexture&&a.enable(19),N.push(a.mask)}function M(N){const k=y[N.type];let V;if(k){const W=Ws[k];V=JV.clone(W.uniforms)}else V=N.uniforms;return V}function C(N,k){let V;for(let W=0,Q=c.length;W<Q;W++){const U=c[W];if(U.cacheKey===k){V=U,++V.usedTimes;break}}return V===void 0&&(V=new Cce(t,k,N,s),c.push(V)),V}function P(N){if(--N.usedTimes===0){const k=c.indexOf(N);c[k]=c[c.length-1],c.pop(),N.destroy()}}function I(N){l.remove(N)}function O(){l.dispose()}return{getParameters:v,getProgramCacheKey:g,getUniforms:M,acquireProgram:C,releaseProgram:P,releaseShaderCache:I,programs:c,dispose:O}}function Lce(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function kce(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function bk(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Ek(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,p,m,y,x,v){let g=t[e];return g===void 0?(g={id:f.id,object:f,geometry:p,material:m,groupOrder:y,renderOrder:f.renderOrder,z:x,group:v},t[e]=g):(g.id=f.id,g.object=f,g.geometry=p,g.material=m,g.groupOrder=y,g.renderOrder=f.renderOrder,g.z=x,g.group=v),e++,g}function a(f,p,m,y,x,v){const g=o(f,p,m,y,x,v);m.transmission>0?r.push(g):m.transparent===!0?i.push(g):n.push(g)}function l(f,p,m,y,x,v){const g=o(f,p,m,y,x,v);m.transmission>0?r.unshift(g):m.transparent===!0?i.unshift(g):n.unshift(g)}function c(f,p){n.length>1&&n.sort(f||kce),r.length>1&&r.sort(p||bk),i.length>1&&i.sort(p||bk)}function u(){for(let f=e,p=t.length;f<p;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function Dce(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new Ek,t.set(r,[o])):i>=s.length?(o=new Ek,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function Oce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new G,color:new Ye};break;case"SpotLight":n={position:new G,direction:new G,color:new Ye,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new G,color:new Ye,distance:0,decay:0};break;case"HemisphereLight":n={direction:new G,skyColor:new Ye,groundColor:new Ye};break;case"RectAreaLight":n={color:new Ye,position:new G,halfWidth:new G,halfHeight:new G};break}return t[e.id]=n,n}}}function Fce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Te,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Uce=0;function Bce(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function zce(t,e){const n=new Oce,r=Fce(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new G);const s=new G,o=new St,a=new St;function l(u,f){let p=0,m=0,y=0;for(let W=0;W<9;W++)i.probe[W].set(0,0,0);let x=0,v=0,g=0,w=0,S=0,M=0,C=0,P=0,I=0,O=0,N=0;u.sort(Bce);const k=f===!0?Math.PI:1;for(let W=0,Q=u.length;W<Q;W++){const U=u[W],Y=U.color,q=U.intensity,te=U.distance,D=U.shadow&&U.shadow.map?U.shadow.map.texture:null;if(U.isAmbientLight)p+=Y.r*q*k,m+=Y.g*q*k,y+=Y.b*q*k;else if(U.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector(U.sh.coefficients[F],q);N++}else if(U.isDirectionalLight){const F=n.get(U);if(F.color.copy(U.color).multiplyScalar(U.intensity*k),U.castShadow){const j=U.shadow,K=r.get(U);K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,i.directionalShadow[x]=K,i.directionalShadowMap[x]=D,i.directionalShadowMatrix[x]=U.shadow.matrix,M++}i.directional[x]=F,x++}else if(U.isSpotLight){const F=n.get(U);F.position.setFromMatrixPosition(U.matrixWorld),F.color.copy(Y).multiplyScalar(q*k),F.distance=te,F.coneCos=Math.cos(U.angle),F.penumbraCos=Math.cos(U.angle*(1-U.penumbra)),F.decay=U.decay,i.spot[g]=F;const j=U.shadow;if(U.map&&(i.spotLightMap[I]=U.map,I++,j.updateMatrices(U),U.castShadow&&O++),i.spotLightMatrix[g]=j.matrix,U.castShadow){const K=r.get(U);K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,i.spotShadow[g]=K,i.spotShadowMap[g]=D,P++}g++}else if(U.isRectAreaLight){const F=n.get(U);F.color.copy(Y).multiplyScalar(q),F.halfWidth.set(U.width*.5,0,0),F.halfHeight.set(0,U.height*.5,0),i.rectArea[w]=F,w++}else if(U.isPointLight){const F=n.get(U);if(F.color.copy(U.color).multiplyScalar(U.intensity*k),F.distance=U.distance,F.decay=U.decay,U.castShadow){const j=U.shadow,K=r.get(U);K.shadowBias=j.bias,K.shadowNormalBias=j.normalBias,K.shadowRadius=j.radius,K.shadowMapSize=j.mapSize,K.shadowCameraNear=j.camera.near,K.shadowCameraFar=j.camera.far,i.pointShadow[v]=K,i.pointShadowMap[v]=D,i.pointShadowMatrix[v]=U.shadow.matrix,C++}i.point[v]=F,v++}else if(U.isHemisphereLight){const F=n.get(U);F.skyColor.copy(U.color).multiplyScalar(q*k),F.groundColor.copy(U.groundColor).multiplyScalar(q*k),i.hemi[S]=F,S++}}w>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_FLOAT_1,i.rectAreaLTC2=Ve.LTC_FLOAT_2):(i.rectAreaLTC1=Ve.LTC_HALF_1,i.rectAreaLTC2=Ve.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_FLOAT_1,i.rectAreaLTC2=Ve.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ve.LTC_HALF_1,i.rectAreaLTC2=Ve.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=p,i.ambient[1]=m,i.ambient[2]=y;const V=i.hash;(V.directionalLength!==x||V.pointLength!==v||V.spotLength!==g||V.rectAreaLength!==w||V.hemiLength!==S||V.numDirectionalShadows!==M||V.numPointShadows!==C||V.numSpotShadows!==P||V.numSpotMaps!==I||V.numLightProbes!==N)&&(i.directional.length=x,i.spot.length=g,i.rectArea.length=w,i.point.length=v,i.hemi.length=S,i.directionalShadow.length=M,i.directionalShadowMap.length=M,i.pointShadow.length=C,i.pointShadowMap.length=C,i.spotShadow.length=P,i.spotShadowMap.length=P,i.directionalShadowMatrix.length=M,i.pointShadowMatrix.length=C,i.spotLightMatrix.length=P+I-O,i.spotLightMap.length=I,i.numSpotLightShadowsWithMaps=O,i.numLightProbes=N,V.directionalLength=x,V.pointLength=v,V.spotLength=g,V.rectAreaLength=w,V.hemiLength=S,V.numDirectionalShadows=M,V.numPointShadows=C,V.numSpotShadows=P,V.numSpotMaps=I,V.numLightProbes=N,i.version=Uce++)}function c(u,f){let p=0,m=0,y=0,x=0,v=0;const g=f.matrixWorldInverse;for(let w=0,S=u.length;w<S;w++){const M=u[w];if(M.isDirectionalLight){const C=i.directional[p];C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),p++}else if(M.isSpotLight){const C=i.spot[y];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),C.direction.setFromMatrixPosition(M.matrixWorld),s.setFromMatrixPosition(M.target.matrixWorld),C.direction.sub(s),C.direction.transformDirection(g),y++}else if(M.isRectAreaLight){const C=i.rectArea[x];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),a.identity(),o.copy(M.matrixWorld),o.premultiply(g),a.extractRotation(o),C.halfWidth.set(M.width*.5,0,0),C.halfHeight.set(0,M.height*.5,0),C.halfWidth.applyMatrix4(a),C.halfHeight.applyMatrix4(a),x++}else if(M.isPointLight){const C=i.point[m];C.position.setFromMatrixPosition(M.matrixWorld),C.position.applyMatrix4(g),m++}else if(M.isHemisphereLight){const C=i.hemi[v];C.direction.setFromMatrixPosition(M.matrixWorld),C.direction.transformDirection(g),v++}}}return{setup:l,setupView:c,state:i}}function Mk(t,e){const n=new zce(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function Vce(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new Mk(t,e),n.set(s,[l])):o>=a.length?(l=new Mk(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class $C extends Zr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=OV,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class XC extends Zr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const jce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Hce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Wce(t,e,n){let r=new dg;const i=new Te,s=new Te,o=new dn,a=new $C({depthPacking:FV}),l=new XC,c={},u=n.maxTextureSize,f={[Ea]:di,[di]:Ea,[Mo]:Mo},p=new no({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Te},radius:{value:4}},vertexShader:jce,fragmentShader:Hce}),m=p.clone();m.defines.HORIZONTAL_PASS=1;const y=new zt;y.setAttribute("position",new hn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new pr(y,p),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=E_;let g=this.type;this.render=function(P,I,O){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||P.length===0)return;const N=t.getRenderTarget(),k=t.getActiveCubeFace(),V=t.getActiveMipmapLevel(),W=t.state;W.setBlending(pa),W.buffers.color.setClear(1,1,1,1),W.buffers.depth.setTest(!0),W.setScissorTest(!1);const Q=g!==Us&&this.type===Us,U=g===Us&&this.type!==Us;for(let Y=0,q=P.length;Y<q;Y++){const te=P[Y],D=te.shadow;if(D===void 0){console.warn("THREE.WebGLShadowMap:",te,"has no shadow.");continue}if(D.autoUpdate===!1&&D.needsUpdate===!1)continue;i.copy(D.mapSize);const F=D.getFrameExtents();if(i.multiply(F),s.copy(D.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/F.x),i.x=s.x*F.x,D.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/F.y),i.y=s.y*F.y,D.mapSize.y=s.y)),D.map===null||Q===!0||U===!0){const K=this.type!==Us?{minFilter:Yn,magFilter:Yn}:{};D.map!==null&&D.map.dispose(),D.map=new to(i.x,i.y,K),D.map.texture.name=te.name+".shadowMap",D.camera.updateProjectionMatrix()}t.setRenderTarget(D.map),t.clear();const j=D.getViewportCount();for(let K=0;K<j;K++){const ee=D.getViewport(K);o.set(s.x*ee.x,s.y*ee.y,s.x*ee.z,s.y*ee.w),W.viewport(o),D.updateMatrices(te,K),r=D.getFrustum(),M(I,O,D.camera,te,this.type)}D.isPointLightShadow!==!0&&this.type===Us&&w(D,O),D.needsUpdate=!1}g=this.type,v.needsUpdate=!1,t.setRenderTarget(N,k,V)};function w(P,I){const O=e.update(x);p.defines.VSM_SAMPLES!==P.blurSamples&&(p.defines.VSM_SAMPLES=P.blurSamples,m.defines.VSM_SAMPLES=P.blurSamples,p.needsUpdate=!0,m.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new to(i.x,i.y)),p.uniforms.shadow_pass.value=P.map.texture,p.uniforms.resolution.value=P.mapSize,p.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(I,null,O,p,x,null),m.uniforms.shadow_pass.value=P.mapPass.texture,m.uniforms.resolution.value=P.mapSize,m.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(I,null,O,m,x,null)}function S(P,I,O,N){let k=null;const V=O.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(V!==void 0)k=V;else if(k=O.isPointLight===!0?l:a,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const W=k.uuid,Q=I.uuid;let U=c[W];U===void 0&&(U={},c[W]=U);let Y=U[Q];Y===void 0&&(Y=k.clone(),U[Q]=Y,I.addEventListener("dispose",C)),k=Y}if(k.visible=I.visible,k.wireframe=I.wireframe,N===Us?k.side=I.shadowSide!==null?I.shadowSide:I.side:k.side=I.shadowSide!==null?I.shadowSide:f[I.side],k.alphaMap=I.alphaMap,k.alphaTest=I.alphaTest,k.map=I.map,k.clipShadows=I.clipShadows,k.clippingPlanes=I.clippingPlanes,k.clipIntersection=I.clipIntersection,k.displacementMap=I.displacementMap,k.displacementScale=I.displacementScale,k.displacementBias=I.displacementBias,k.wireframeLinewidth=I.wireframeLinewidth,k.linewidth=I.linewidth,O.isPointLight===!0&&k.isMeshDistanceMaterial===!0){const W=t.properties.get(k);W.light=O}return k}function M(P,I,O,N,k){if(P.visible===!1)return;if(P.layers.test(I.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&k===Us)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,P.matrixWorld);const Q=e.update(P),U=P.material;if(Array.isArray(U)){const Y=Q.groups;for(let q=0,te=Y.length;q<te;q++){const D=Y[q],F=U[D.materialIndex];if(F&&F.visible){const j=S(P,F,N,k);P.onBeforeShadow(t,P,I,O,Q,j,D),t.renderBufferDirect(O,null,Q,j,P,D),P.onAfterShadow(t,P,I,O,Q,j,D)}}}else if(U.visible){const Y=S(P,U,N,k);P.onBeforeShadow(t,P,I,O,Q,Y,null),t.renderBufferDirect(O,null,Q,Y,P,null),P.onAfterShadow(t,P,I,O,Q,Y,null)}}const W=P.children;for(let Q=0,U=W.length;Q<U;Q++)M(W[Q],I,O,N,k)}function C(P){P.target.removeEventListener("dispose",C);for(const O in c){const N=c[O],k=P.target.uuid;k in N&&(N[k].dispose(),delete N[k])}}}function Gce(t,e,n){const r=n.isWebGL2;function i(){let ne=!1;const je=new dn;let Ue=null;const yt=new dn(0,0,0,0);return{setMask:function(Ne){Ue!==Ne&&!ne&&(t.colorMask(Ne,Ne,Ne,Ne),Ue=Ne)},setLocked:function(Ne){ne=Ne},setClear:function(Ne,ut,ht,Yt,an){an===!0&&(Ne*=Yt,ut*=Yt,ht*=Yt),je.set(Ne,ut,ht,Yt),yt.equals(je)===!1&&(t.clearColor(Ne,ut,ht,Yt),yt.copy(je))},reset:function(){ne=!1,Ue=null,yt.set(-1,0,0,0)}}}function s(){let ne=!1,je=null,Ue=null,yt=null;return{setTest:function(Ne){Ne?Be(t.DEPTH_TEST):Re(t.DEPTH_TEST)},setMask:function(Ne){je!==Ne&&!ne&&(t.depthMask(Ne),je=Ne)},setFunc:function(Ne){if(Ue!==Ne){switch(Ne){case uV:t.depthFunc(t.NEVER);break;case dV:t.depthFunc(t.ALWAYS);break;case fV:t.depthFunc(t.LESS);break;case vm:t.depthFunc(t.LEQUAL);break;case hV:t.depthFunc(t.EQUAL);break;case pV:t.depthFunc(t.GEQUAL);break;case mV:t.depthFunc(t.GREATER);break;case gV:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ue=Ne}},setLocked:function(Ne){ne=Ne},setClear:function(Ne){yt!==Ne&&(t.clearDepth(Ne),yt=Ne)},reset:function(){ne=!1,je=null,Ue=null,yt=null}}}function o(){let ne=!1,je=null,Ue=null,yt=null,Ne=null,ut=null,ht=null,Yt=null,an=null;return{setTest:function(Wt){ne||(Wt?Be(t.STENCIL_TEST):Re(t.STENCIL_TEST))},setMask:function(Wt){je!==Wt&&!ne&&(t.stencilMask(Wt),je=Wt)},setFunc:function(Wt,xn,An){(Ue!==Wt||yt!==xn||Ne!==An)&&(t.stencilFunc(Wt,xn,An),Ue=Wt,yt=xn,Ne=An)},setOp:function(Wt,xn,An){(ut!==Wt||ht!==xn||Yt!==An)&&(t.stencilOp(Wt,xn,An),ut=Wt,ht=xn,Yt=An)},setLocked:function(Wt){ne=Wt},setClear:function(Wt){an!==Wt&&(t.clearStencil(Wt),an=Wt)},reset:function(){ne=!1,je=null,Ue=null,yt=null,Ne=null,ut=null,ht=null,Yt=null,an=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let p={},m={},y=new WeakMap,x=[],v=null,g=!1,w=null,S=null,M=null,C=null,P=null,I=null,O=null,N=new Ye(0,0,0),k=0,V=!1,W=null,Q=null,U=null,Y=null,q=null;const te=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let D=!1,F=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(F=parseFloat(/^WebGL (\d)/.exec(j)[1]),D=F>=1):j.indexOf("OpenGL ES")!==-1&&(F=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),D=F>=2);let K=null,ee={};const J=t.getParameter(t.SCISSOR_BOX),ae=t.getParameter(t.VIEWPORT),Se=new dn().fromArray(J),Ae=new dn().fromArray(ae);function ce(ne,je,Ue,yt){const Ne=new Uint8Array(4),ut=t.createTexture();t.bindTexture(ne,ut),t.texParameteri(ne,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ne,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ht=0;ht<Ue;ht++)r&&(ne===t.TEXTURE_3D||ne===t.TEXTURE_2D_ARRAY)?t.texImage3D(je,0,t.RGBA,1,1,yt,0,t.RGBA,t.UNSIGNED_BYTE,Ne):t.texImage2D(je+ht,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ne);return ut}const Oe={};Oe[t.TEXTURE_2D]=ce(t.TEXTURE_2D,t.TEXTURE_2D,1),Oe[t.TEXTURE_CUBE_MAP]=ce(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(Oe[t.TEXTURE_2D_ARRAY]=ce(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),Oe[t.TEXTURE_3D]=ce(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),Be(t.DEPTH_TEST),l.setFunc(vm),He(!1),z(cM),Be(t.CULL_FACE),we(pa);function Be(ne){p[ne]!==!0&&(t.enable(ne),p[ne]=!0)}function Re(ne){p[ne]!==!1&&(t.disable(ne),p[ne]=!1)}function Le(ne,je){return m[ne]!==je?(t.bindFramebuffer(ne,je),m[ne]=je,r&&(ne===t.DRAW_FRAMEBUFFER&&(m[t.FRAMEBUFFER]=je),ne===t.FRAMEBUFFER&&(m[t.DRAW_FRAMEBUFFER]=je)),!0):!1}function X(ne,je){let Ue=x,yt=!1;if(ne)if(Ue=y.get(je),Ue===void 0&&(Ue=[],y.set(je,Ue)),ne.isWebGLMultipleRenderTargets){const Ne=ne.texture;if(Ue.length!==Ne.length||Ue[0]!==t.COLOR_ATTACHMENT0){for(let ut=0,ht=Ne.length;ut<ht;ut++)Ue[ut]=t.COLOR_ATTACHMENT0+ut;Ue.length=Ne.length,yt=!0}}else Ue[0]!==t.COLOR_ATTACHMENT0&&(Ue[0]=t.COLOR_ATTACHMENT0,yt=!0);else Ue[0]!==t.BACK&&(Ue[0]=t.BACK,yt=!0);yt&&(n.isWebGL2?t.drawBuffers(Ue):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ue))}function Ee(ne){return v!==ne?(t.useProgram(ne),v=ne,!0):!1}const ve={[ol]:t.FUNC_ADD,[Y5]:t.FUNC_SUBTRACT,[K5]:t.FUNC_REVERSE_SUBTRACT};if(r)ve[fM]=t.MIN,ve[hM]=t.MAX;else{const ne=e.get("EXT_blend_minmax");ne!==null&&(ve[fM]=ne.MIN_EXT,ve[hM]=ne.MAX_EXT)}const Pe={[Z5]:t.ZERO,[J5]:t.ONE,[Q5]:t.SRC_COLOR,[gx]:t.SRC_ALPHA,[sV]:t.SRC_ALPHA_SATURATE,[rV]:t.DST_COLOR,[tV]:t.DST_ALPHA,[eV]:t.ONE_MINUS_SRC_COLOR,[yx]:t.ONE_MINUS_SRC_ALPHA,[iV]:t.ONE_MINUS_DST_COLOR,[nV]:t.ONE_MINUS_DST_ALPHA,[oV]:t.CONSTANT_COLOR,[aV]:t.ONE_MINUS_CONSTANT_COLOR,[lV]:t.CONSTANT_ALPHA,[cV]:t.ONE_MINUS_CONSTANT_ALPHA};function we(ne,je,Ue,yt,Ne,ut,ht,Yt,an,Wt){if(ne===pa){g===!0&&(Re(t.BLEND),g=!1);return}if(g===!1&&(Be(t.BLEND),g=!0),ne!==q5){if(ne!==w||Wt!==V){if((S!==ol||P!==ol)&&(t.blendEquation(t.FUNC_ADD),S=ol,P=ol),Wt)switch(ne){case Zc:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case mx:t.blendFunc(t.ONE,t.ONE);break;case uM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case dM:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case Zc:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case mx:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case uM:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case dM:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}M=null,C=null,I=null,O=null,N.set(0,0,0),k=0,w=ne,V=Wt}return}Ne=Ne||je,ut=ut||Ue,ht=ht||yt,(je!==S||Ne!==P)&&(t.blendEquationSeparate(ve[je],ve[Ne]),S=je,P=Ne),(Ue!==M||yt!==C||ut!==I||ht!==O)&&(t.blendFuncSeparate(Pe[Ue],Pe[yt],Pe[ut],Pe[ht]),M=Ue,C=yt,I=ut,O=ht),(Yt.equals(N)===!1||an!==k)&&(t.blendColor(Yt.r,Yt.g,Yt.b,an),N.copy(Yt),k=an),w=ne,V=!1}function Je(ne,je){ne.side===Mo?Re(t.CULL_FACE):Be(t.CULL_FACE);let Ue=ne.side===di;je&&(Ue=!Ue),He(Ue),ne.blending===Zc&&ne.transparent===!1?we(pa):we(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.blendColor,ne.blendAlpha,ne.premultipliedAlpha),l.setFunc(ne.depthFunc),l.setTest(ne.depthTest),l.setMask(ne.depthWrite),a.setMask(ne.colorWrite);const yt=ne.stencilWrite;c.setTest(yt),yt&&(c.setMask(ne.stencilWriteMask),c.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),c.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),B(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?Be(t.SAMPLE_ALPHA_TO_COVERAGE):Re(t.SAMPLE_ALPHA_TO_COVERAGE)}function He(ne){W!==ne&&(ne?t.frontFace(t.CW):t.frontFace(t.CCW),W=ne)}function z(ne){ne!==G5?(Be(t.CULL_FACE),ne!==Q&&(ne===cM?t.cullFace(t.BACK):ne===$5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):Re(t.CULL_FACE),Q=ne}function R(ne){ne!==U&&(D&&t.lineWidth(ne),U=ne)}function B(ne,je,Ue){ne?(Be(t.POLYGON_OFFSET_FILL),(Y!==je||q!==Ue)&&(t.polygonOffset(je,Ue),Y=je,q=Ue)):Re(t.POLYGON_OFFSET_FILL)}function Z(ne){ne?Be(t.SCISSOR_TEST):Re(t.SCISSOR_TEST)}function oe(ne){ne===void 0&&(ne=t.TEXTURE0+te-1),K!==ne&&(t.activeTexture(ne),K=ne)}function ie(ne,je,Ue){Ue===void 0&&(K===null?Ue=t.TEXTURE0+te-1:Ue=K);let yt=ee[Ue];yt===void 0&&(yt={type:void 0,texture:void 0},ee[Ue]=yt),(yt.type!==ne||yt.texture!==je)&&(K!==Ue&&(t.activeTexture(Ue),K=Ue),t.bindTexture(ne,je||Oe[ne]),yt.type=ne,yt.texture=je)}function de(){const ne=ee[K];ne!==void 0&&ne.type!==void 0&&(t.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function fe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ce(){try{t.compressedTexImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ze(){try{t.texSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function lt(){try{t.texSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Me(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function At(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ct(){try{t.texStorage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function pt(){try{t.texStorage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function nt(){try{t.texImage2D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ke(){try{t.texImage3D.apply(t,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function mt(ne){Se.equals(ne)===!1&&(t.scissor(ne.x,ne.y,ne.z,ne.w),Se.copy(ne))}function Xt(ne){Ae.equals(ne)===!1&&(t.viewport(ne.x,ne.y,ne.z,ne.w),Ae.copy(ne))}function ln(ne,je){let Ue=f.get(je);Ue===void 0&&(Ue=new WeakMap,f.set(je,Ue));let yt=Ue.get(ne);yt===void 0&&(yt=t.getUniformBlockIndex(je,ne.name),Ue.set(ne,yt))}function Nt(ne,je){const yt=f.get(je).get(ne);u.get(je)!==yt&&(t.uniformBlockBinding(je,yt,ne.__bindingPointIndex),u.set(je,yt))}function Fe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),p={},K=null,ee={},m={},y=new WeakMap,x=[],v=null,g=!1,w=null,S=null,M=null,C=null,P=null,I=null,O=null,N=new Ye(0,0,0),k=0,V=!1,W=null,Q=null,U=null,Y=null,q=null,Se.set(0,0,t.canvas.width,t.canvas.height),Ae.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:Be,disable:Re,bindFramebuffer:Le,drawBuffers:X,useProgram:Ee,setBlending:we,setMaterial:Je,setFlipSided:He,setCullFace:z,setLineWidth:R,setPolygonOffset:B,setScissorTest:Z,activeTexture:oe,bindTexture:ie,unbindTexture:de,compressedTexImage2D:fe,compressedTexImage3D:Ce,texImage2D:nt,texImage3D:Ke,updateUBOMapping:ln,uniformBlockBinding:Nt,texStorage2D:Ct,texStorage3D:pt,texSubImage2D:ze,texSubImage3D:lt,compressedTexSubImage2D:Me,compressedTexSubImage3D:At,scissor:mt,viewport:Xt,reset:Fe}}function $ce(t,e,n,r,i,s,o){const a=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let f;const p=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(z,R){return m?new OffscreenCanvas(z,R):Pm("canvas")}function x(z,R,B,Z){let oe=1;if((z.width>Z||z.height>Z)&&(oe=Z/Math.max(z.width,z.height)),oe<1||R===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const ie=R?_x:Math.floor,de=ie(oe*z.width),fe=ie(oe*z.height);f===void 0&&(f=y(de,fe));const Ce=B?y(de,fe):f;return Ce.width=de,Ce.height=fe,Ce.getContext("2d").drawImage(z,0,0,de,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+de+"x"+fe+")."),Ce}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function v(z){return jM(z.width)&&jM(z.height)}function g(z){return a?!1:z.wrapS!==$r||z.wrapT!==$r||z.minFilter!==Yn&&z.minFilter!==Zn}function w(z,R){return z.generateMipmaps&&R&&z.minFilter!==Yn&&z.minFilter!==Zn}function S(z){t.generateMipmap(z)}function M(z,R,B,Z,oe=!1){if(a===!1)return R;if(z!==null){if(t[z]!==void 0)return t[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let ie=R;if(R===t.RED&&(B===t.FLOAT&&(ie=t.R32F),B===t.HALF_FLOAT&&(ie=t.R16F),B===t.UNSIGNED_BYTE&&(ie=t.R8)),R===t.RED_INTEGER&&(B===t.UNSIGNED_BYTE&&(ie=t.R8UI),B===t.UNSIGNED_SHORT&&(ie=t.R16UI),B===t.UNSIGNED_INT&&(ie=t.R32UI),B===t.BYTE&&(ie=t.R8I),B===t.SHORT&&(ie=t.R16I),B===t.INT&&(ie=t.R32I)),R===t.RG&&(B===t.FLOAT&&(ie=t.RG32F),B===t.HALF_FLOAT&&(ie=t.RG16F),B===t.UNSIGNED_BYTE&&(ie=t.RG8)),R===t.RGBA){const de=oe?Tm:un.getTransfer(Z);B===t.FLOAT&&(ie=t.RGBA32F),B===t.HALF_FLOAT&&(ie=t.RGBA16F),B===t.UNSIGNED_BYTE&&(ie=de===yn?t.SRGB8_ALPHA8:t.RGBA8),B===t.UNSIGNED_SHORT_4_4_4_4&&(ie=t.RGBA4),B===t.UNSIGNED_SHORT_5_5_5_1&&(ie=t.RGB5_A1)}return(ie===t.R16F||ie===t.R32F||ie===t.RG16F||ie===t.RG32F||ie===t.RGBA16F||ie===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ie}function C(z,R,B){return w(z,B)===!0||z.isFramebufferTexture&&z.minFilter!==Yn&&z.minFilter!==Zn?Math.log2(Math.max(R.width,R.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?R.mipmaps.length:1}function P(z){return z===Yn||z===vx||z===kp?t.NEAREST:t.LINEAR}function I(z){const R=z.target;R.removeEventListener("dispose",I),N(R),R.isVideoTexture&&u.delete(R)}function O(z){const R=z.target;R.removeEventListener("dispose",O),V(R)}function N(z){const R=r.get(z);if(R.__webglInit===void 0)return;const B=z.source,Z=p.get(B);if(Z){const oe=Z[R.__cacheKey];oe.usedTimes--,oe.usedTimes===0&&k(z),Object.keys(Z).length===0&&p.delete(B)}r.remove(z)}function k(z){const R=r.get(z);t.deleteTexture(R.__webglTexture);const B=z.source,Z=p.get(B);delete Z[R.__cacheKey],o.memory.textures--}function V(z){const R=z.texture,B=r.get(z),Z=r.get(R);if(Z.__webglTexture!==void 0&&(t.deleteTexture(Z.__webglTexture),o.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let oe=0;oe<6;oe++){if(Array.isArray(B.__webglFramebuffer[oe]))for(let ie=0;ie<B.__webglFramebuffer[oe].length;ie++)t.deleteFramebuffer(B.__webglFramebuffer[oe][ie]);else t.deleteFramebuffer(B.__webglFramebuffer[oe]);B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer[oe])}else{if(Array.isArray(B.__webglFramebuffer))for(let oe=0;oe<B.__webglFramebuffer.length;oe++)t.deleteFramebuffer(B.__webglFramebuffer[oe]);else t.deleteFramebuffer(B.__webglFramebuffer);if(B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&t.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer)for(let oe=0;oe<B.__webglColorRenderbuffer.length;oe++)B.__webglColorRenderbuffer[oe]&&t.deleteRenderbuffer(B.__webglColorRenderbuffer[oe]);B.__webglDepthRenderbuffer&&t.deleteRenderbuffer(B.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let oe=0,ie=R.length;oe<ie;oe++){const de=r.get(R[oe]);de.__webglTexture&&(t.deleteTexture(de.__webglTexture),o.memory.textures--),r.remove(R[oe])}r.remove(R),r.remove(z)}let W=0;function Q(){W=0}function U(){const z=W;return z>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+i.maxTextures),W+=1,z}function Y(z){const R=[];return R.push(z.wrapS),R.push(z.wrapT),R.push(z.wrapR||0),R.push(z.magFilter),R.push(z.minFilter),R.push(z.anisotropy),R.push(z.internalFormat),R.push(z.format),R.push(z.type),R.push(z.generateMipmaps),R.push(z.premultiplyAlpha),R.push(z.flipY),R.push(z.unpackAlignment),R.push(z.colorSpace),R.join()}function q(z,R){const B=r.get(z);if(z.isVideoTexture&&Je(z),z.isRenderTargetTexture===!1&&z.version>0&&B.__version!==z.version){const Z=z.image;if(Z===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Z.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Se(B,z,R);return}}n.bindTexture(t.TEXTURE_2D,B.__webglTexture,t.TEXTURE0+R)}function te(z,R){const B=r.get(z);if(z.version>0&&B.__version!==z.version){Se(B,z,R);return}n.bindTexture(t.TEXTURE_2D_ARRAY,B.__webglTexture,t.TEXTURE0+R)}function D(z,R){const B=r.get(z);if(z.version>0&&B.__version!==z.version){Se(B,z,R);return}n.bindTexture(t.TEXTURE_3D,B.__webglTexture,t.TEXTURE0+R)}function F(z,R){const B=r.get(z);if(z.version>0&&B.__version!==z.version){Ae(B,z,R);return}n.bindTexture(t.TEXTURE_CUBE_MAP,B.__webglTexture,t.TEXTURE0+R)}const j={[wm]:t.REPEAT,[$r]:t.CLAMP_TO_EDGE,[Sm]:t.MIRRORED_REPEAT},K={[Yn]:t.NEAREST,[vx]:t.NEAREST_MIPMAP_NEAREST,[kp]:t.NEAREST_MIPMAP_LINEAR,[Zn]:t.LINEAR,[CC]:t.LINEAR_MIPMAP_NEAREST,[Ol]:t.LINEAR_MIPMAP_LINEAR},ee={[BV]:t.NEVER,[GV]:t.ALWAYS,[zV]:t.LESS,[UC]:t.LEQUAL,[VV]:t.EQUAL,[WV]:t.GEQUAL,[jV]:t.GREATER,[HV]:t.NOTEQUAL};function J(z,R,B){if(B?(t.texParameteri(z,t.TEXTURE_WRAP_S,j[R.wrapS]),t.texParameteri(z,t.TEXTURE_WRAP_T,j[R.wrapT]),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,j[R.wrapR]),t.texParameteri(z,t.TEXTURE_MAG_FILTER,K[R.magFilter]),t.texParameteri(z,t.TEXTURE_MIN_FILTER,K[R.minFilter])):(t.texParameteri(z,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(z,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(R.wrapS!==$r||R.wrapT!==$r)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(z,t.TEXTURE_MAG_FILTER,P(R.magFilter)),t.texParameteri(z,t.TEXTURE_MIN_FILTER,P(R.minFilter)),R.minFilter!==Yn&&R.minFilter!==Zn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),R.compareFunction&&(t.texParameteri(z,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(z,t.TEXTURE_COMPARE_FUNC,ee[R.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Z=e.get("EXT_texture_filter_anisotropic");if(R.magFilter===Yn||R.minFilter!==kp&&R.minFilter!==Ol||R.type===qs&&e.has("OES_texture_float_linear")===!1||a===!1&&R.type===Nf&&e.has("OES_texture_half_float_linear")===!1)return;(R.anisotropy>1||r.get(R).__currentAnisotropy)&&(t.texParameterf(z,Z.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,i.getMaxAnisotropy())),r.get(R).__currentAnisotropy=R.anisotropy)}}function ae(z,R){let B=!1;z.__webglInit===void 0&&(z.__webglInit=!0,R.addEventListener("dispose",I));const Z=R.source;let oe=p.get(Z);oe===void 0&&(oe={},p.set(Z,oe));const ie=Y(R);if(ie!==z.__cacheKey){oe[ie]===void 0&&(oe[ie]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,B=!0),oe[ie].usedTimes++;const de=oe[z.__cacheKey];de!==void 0&&(oe[z.__cacheKey].usedTimes--,de.usedTimes===0&&k(R)),z.__cacheKey=ie,z.__webglTexture=oe[ie].texture}return B}function Se(z,R,B){let Z=t.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(Z=t.TEXTURE_2D_ARRAY),R.isData3DTexture&&(Z=t.TEXTURE_3D);const oe=ae(z,R),ie=R.source;n.bindTexture(Z,z.__webglTexture,t.TEXTURE0+B);const de=r.get(ie);if(ie.version!==de.__version||oe===!0){n.activeTexture(t.TEXTURE0+B);const fe=un.getPrimaries(un.workingColorSpace),Ce=R.colorSpace===Xi?null:un.getPrimaries(R.colorSpace),ze=R.colorSpace===Xi||fe===Ce?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);const lt=g(R)&&v(R.image)===!1;let Me=x(R.image,lt,!1,i.maxTextureSize);Me=He(R,Me);const At=v(Me)||a,Ct=s.convert(R.format,R.colorSpace);let pt=s.convert(R.type),nt=M(R.internalFormat,Ct,pt,R.colorSpace,R.isVideoTexture);J(Z,R,At);let Ke;const mt=R.mipmaps,Xt=a&&R.isVideoTexture!==!0&&nt!==DC,ln=de.__version===void 0||oe===!0,Nt=C(R,Me,At);if(R.isDepthTexture)nt=t.DEPTH_COMPONENT,a?R.type===qs?nt=t.DEPTH_COMPONENT32F:R.type===ua?nt=t.DEPTH_COMPONENT24:R.type===Ml?nt=t.DEPTH24_STENCIL8:nt=t.DEPTH_COMPONENT16:R.type===qs&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),R.format===Tl&&nt===t.DEPTH_COMPONENT&&R.type!==T_&&R.type!==ua&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),R.type=ua,pt=s.convert(R.type)),R.format===cu&&nt===t.DEPTH_COMPONENT&&(nt=t.DEPTH_STENCIL,R.type!==Ml&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),R.type=Ml,pt=s.convert(R.type))),ln&&(Xt?n.texStorage2D(t.TEXTURE_2D,1,nt,Me.width,Me.height):n.texImage2D(t.TEXTURE_2D,0,nt,Me.width,Me.height,0,Ct,pt,null));else if(R.isDataTexture)if(mt.length>0&&At){Xt&&ln&&n.texStorage2D(t.TEXTURE_2D,Nt,nt,mt[0].width,mt[0].height);for(let Fe=0,ne=mt.length;Fe<ne;Fe++)Ke=mt[Fe],Xt?n.texSubImage2D(t.TEXTURE_2D,Fe,0,0,Ke.width,Ke.height,Ct,pt,Ke.data):n.texImage2D(t.TEXTURE_2D,Fe,nt,Ke.width,Ke.height,0,Ct,pt,Ke.data);R.generateMipmaps=!1}else Xt?(ln&&n.texStorage2D(t.TEXTURE_2D,Nt,nt,Me.width,Me.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Me.width,Me.height,Ct,pt,Me.data)):n.texImage2D(t.TEXTURE_2D,0,nt,Me.width,Me.height,0,Ct,pt,Me.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){Xt&&ln&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Nt,nt,mt[0].width,mt[0].height,Me.depth);for(let Fe=0,ne=mt.length;Fe<ne;Fe++)Ke=mt[Fe],R.format!==oi?Ct!==null?Xt?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Fe,0,0,0,Ke.width,Ke.height,Me.depth,Ct,Ke.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Fe,nt,Ke.width,Ke.height,Me.depth,0,Ke.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xt?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Fe,0,0,0,Ke.width,Ke.height,Me.depth,Ct,pt,Ke.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Fe,nt,Ke.width,Ke.height,Me.depth,0,Ct,pt,Ke.data)}else{Xt&&ln&&n.texStorage2D(t.TEXTURE_2D,Nt,nt,mt[0].width,mt[0].height);for(let Fe=0,ne=mt.length;Fe<ne;Fe++)Ke=mt[Fe],R.format!==oi?Ct!==null?Xt?n.compressedTexSubImage2D(t.TEXTURE_2D,Fe,0,0,Ke.width,Ke.height,Ct,Ke.data):n.compressedTexImage2D(t.TEXTURE_2D,Fe,nt,Ke.width,Ke.height,0,Ke.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Xt?n.texSubImage2D(t.TEXTURE_2D,Fe,0,0,Ke.width,Ke.height,Ct,pt,Ke.data):n.texImage2D(t.TEXTURE_2D,Fe,nt,Ke.width,Ke.height,0,Ct,pt,Ke.data)}else if(R.isDataArrayTexture)Xt?(ln&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Nt,nt,Me.width,Me.height,Me.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Me.width,Me.height,Me.depth,Ct,pt,Me.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,nt,Me.width,Me.height,Me.depth,0,Ct,pt,Me.data);else if(R.isData3DTexture)Xt?(ln&&n.texStorage3D(t.TEXTURE_3D,Nt,nt,Me.width,Me.height,Me.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Me.width,Me.height,Me.depth,Ct,pt,Me.data)):n.texImage3D(t.TEXTURE_3D,0,nt,Me.width,Me.height,Me.depth,0,Ct,pt,Me.data);else if(R.isFramebufferTexture){if(ln)if(Xt)n.texStorage2D(t.TEXTURE_2D,Nt,nt,Me.width,Me.height);else{let Fe=Me.width,ne=Me.height;for(let je=0;je<Nt;je++)n.texImage2D(t.TEXTURE_2D,je,nt,Fe,ne,0,Ct,pt,null),Fe>>=1,ne>>=1}}else if(mt.length>0&&At){Xt&&ln&&n.texStorage2D(t.TEXTURE_2D,Nt,nt,mt[0].width,mt[0].height);for(let Fe=0,ne=mt.length;Fe<ne;Fe++)Ke=mt[Fe],Xt?n.texSubImage2D(t.TEXTURE_2D,Fe,0,0,Ct,pt,Ke):n.texImage2D(t.TEXTURE_2D,Fe,nt,Ct,pt,Ke);R.generateMipmaps=!1}else Xt?(ln&&n.texStorage2D(t.TEXTURE_2D,Nt,nt,Me.width,Me.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ct,pt,Me)):n.texImage2D(t.TEXTURE_2D,0,nt,Ct,pt,Me);w(R,At)&&S(Z),de.__version=ie.version,R.onUpdate&&R.onUpdate(R)}z.__version=R.version}function Ae(z,R,B){if(R.image.length!==6)return;const Z=ae(z,R),oe=R.source;n.bindTexture(t.TEXTURE_CUBE_MAP,z.__webglTexture,t.TEXTURE0+B);const ie=r.get(oe);if(oe.version!==ie.__version||Z===!0){n.activeTexture(t.TEXTURE0+B);const de=un.getPrimaries(un.workingColorSpace),fe=R.colorSpace===Xi?null:un.getPrimaries(R.colorSpace),Ce=R.colorSpace===Xi||de===fe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Ce);const ze=R.isCompressedTexture||R.image[0].isCompressedTexture,lt=R.image[0]&&R.image[0].isDataTexture,Me=[];for(let Fe=0;Fe<6;Fe++)!ze&&!lt?Me[Fe]=x(R.image[Fe],!1,!0,i.maxCubemapSize):Me[Fe]=lt?R.image[Fe].image:R.image[Fe],Me[Fe]=He(R,Me[Fe]);const At=Me[0],Ct=v(At)||a,pt=s.convert(R.format,R.colorSpace),nt=s.convert(R.type),Ke=M(R.internalFormat,pt,nt,R.colorSpace),mt=a&&R.isVideoTexture!==!0,Xt=ie.__version===void 0||Z===!0;let ln=C(R,At,Ct);J(t.TEXTURE_CUBE_MAP,R,Ct);let Nt;if(ze){mt&&Xt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,ln,Ke,At.width,At.height);for(let Fe=0;Fe<6;Fe++){Nt=Me[Fe].mipmaps;for(let ne=0;ne<Nt.length;ne++){const je=Nt[ne];R.format!==oi?pt!==null?mt?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne,0,0,je.width,je.height,pt,je.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne,Ke,je.width,je.height,0,je.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne,0,0,je.width,je.height,pt,nt,je.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne,Ke,je.width,je.height,0,pt,nt,je.data)}}}else{Nt=R.mipmaps,mt&&Xt&&(Nt.length>0&&ln++,n.texStorage2D(t.TEXTURE_CUBE_MAP,ln,Ke,Me[0].width,Me[0].height));for(let Fe=0;Fe<6;Fe++)if(lt){mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,Me[Fe].width,Me[Fe].height,pt,nt,Me[Fe].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ke,Me[Fe].width,Me[Fe].height,0,pt,nt,Me[Fe].data);for(let ne=0;ne<Nt.length;ne++){const Ue=Nt[ne].image[Fe].image;mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne+1,0,0,Ue.width,Ue.height,pt,nt,Ue.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne+1,Ke,Ue.width,Ue.height,0,pt,nt,Ue.data)}}else{mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,0,0,pt,nt,Me[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,0,Ke,pt,nt,Me[Fe]);for(let ne=0;ne<Nt.length;ne++){const je=Nt[ne];mt?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne+1,0,0,pt,nt,je.image[Fe]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Fe,ne+1,Ke,pt,nt,je.image[Fe])}}}w(R,Ct)&&S(t.TEXTURE_CUBE_MAP),ie.__version=oe.version,R.onUpdate&&R.onUpdate(R)}z.__version=R.version}function ce(z,R,B,Z,oe,ie){const de=s.convert(B.format,B.colorSpace),fe=s.convert(B.type),Ce=M(B.internalFormat,de,fe,B.colorSpace);if(!r.get(R).__hasExternalTextures){const lt=Math.max(1,R.width>>ie),Me=Math.max(1,R.height>>ie);oe===t.TEXTURE_3D||oe===t.TEXTURE_2D_ARRAY?n.texImage3D(oe,ie,Ce,lt,Me,R.depth,0,de,fe,null):n.texImage2D(oe,ie,Ce,lt,Me,0,de,fe,null)}n.bindFramebuffer(t.FRAMEBUFFER,z),we(R)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Z,oe,r.get(B).__webglTexture,0,Pe(R)):(oe===t.TEXTURE_2D||oe>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&oe<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Z,oe,r.get(B).__webglTexture,ie),n.bindFramebuffer(t.FRAMEBUFFER,null)}function Oe(z,R,B){if(t.bindRenderbuffer(t.RENDERBUFFER,z),R.depthBuffer&&!R.stencilBuffer){let Z=a===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(B||we(R)){const oe=R.depthTexture;oe&&oe.isDepthTexture&&(oe.type===qs?Z=t.DEPTH_COMPONENT32F:oe.type===ua&&(Z=t.DEPTH_COMPONENT24));const ie=Pe(R);we(R)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ie,Z,R.width,R.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,ie,Z,R.width,R.height)}else t.renderbufferStorage(t.RENDERBUFFER,Z,R.width,R.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,z)}else if(R.depthBuffer&&R.stencilBuffer){const Z=Pe(R);B&&we(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Z,t.DEPTH24_STENCIL8,R.width,R.height):we(R)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Z,t.DEPTH24_STENCIL8,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,R.width,R.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,z)}else{const Z=R.isWebGLMultipleRenderTargets===!0?R.texture:[R.texture];for(let oe=0;oe<Z.length;oe++){const ie=Z[oe],de=s.convert(ie.format,ie.colorSpace),fe=s.convert(ie.type),Ce=M(ie.internalFormat,de,fe,ie.colorSpace),ze=Pe(R);B&&we(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ze,Ce,R.width,R.height):we(R)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ze,Ce,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,Ce,R.width,R.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Be(z,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,z),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(R.depthTexture).__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),q(R.depthTexture,0);const Z=r.get(R.depthTexture).__webglTexture,oe=Pe(R);if(R.depthTexture.format===Tl)we(R)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Z,0,oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Z,0);else if(R.depthTexture.format===cu)we(R)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Z,0,oe):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Z,0);else throw new Error("Unknown depthTexture format")}function Re(z){const R=r.get(z),B=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!R.__autoAllocateDepthBuffer){if(B)throw new Error("target.depthTexture not supported in Cube render targets");Be(R.__webglFramebuffer,z)}else if(B){R.__webglDepthbuffer=[];for(let Z=0;Z<6;Z++)n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer[Z]),R.__webglDepthbuffer[Z]=t.createRenderbuffer(),Oe(R.__webglDepthbuffer[Z],z,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer=t.createRenderbuffer(),Oe(R.__webglDepthbuffer,z,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Le(z,R,B){const Z=r.get(z);R!==void 0&&ce(Z.__webglFramebuffer,z,z.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),B!==void 0&&Re(z)}function X(z){const R=z.texture,B=r.get(z),Z=r.get(R);z.addEventListener("dispose",O),z.isWebGLMultipleRenderTargets!==!0&&(Z.__webglTexture===void 0&&(Z.__webglTexture=t.createTexture()),Z.__version=R.version,o.memory.textures++);const oe=z.isWebGLCubeRenderTarget===!0,ie=z.isWebGLMultipleRenderTargets===!0,de=v(z)||a;if(oe){B.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)if(a&&R.mipmaps&&R.mipmaps.length>0){B.__webglFramebuffer[fe]=[];for(let Ce=0;Ce<R.mipmaps.length;Ce++)B.__webglFramebuffer[fe][Ce]=t.createFramebuffer()}else B.__webglFramebuffer[fe]=t.createFramebuffer()}else{if(a&&R.mipmaps&&R.mipmaps.length>0){B.__webglFramebuffer=[];for(let fe=0;fe<R.mipmaps.length;fe++)B.__webglFramebuffer[fe]=t.createFramebuffer()}else B.__webglFramebuffer=t.createFramebuffer();if(ie)if(i.drawBuffers){const fe=z.texture;for(let Ce=0,ze=fe.length;Ce<ze;Ce++){const lt=r.get(fe[Ce]);lt.__webglTexture===void 0&&(lt.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&z.samples>0&&we(z)===!1){const fe=ie?R:[R];B.__webglMultisampledFramebuffer=t.createFramebuffer(),B.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,B.__webglMultisampledFramebuffer);for(let Ce=0;Ce<fe.length;Ce++){const ze=fe[Ce];B.__webglColorRenderbuffer[Ce]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,B.__webglColorRenderbuffer[Ce]);const lt=s.convert(ze.format,ze.colorSpace),Me=s.convert(ze.type),At=M(ze.internalFormat,lt,Me,ze.colorSpace,z.isXRRenderTarget===!0),Ct=Pe(z);t.renderbufferStorageMultisample(t.RENDERBUFFER,Ct,At,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ce,t.RENDERBUFFER,B.__webglColorRenderbuffer[Ce])}t.bindRenderbuffer(t.RENDERBUFFER,null),z.depthBuffer&&(B.__webglDepthRenderbuffer=t.createRenderbuffer(),Oe(B.__webglDepthRenderbuffer,z,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(oe){n.bindTexture(t.TEXTURE_CUBE_MAP,Z.__webglTexture),J(t.TEXTURE_CUBE_MAP,R,de);for(let fe=0;fe<6;fe++)if(a&&R.mipmaps&&R.mipmaps.length>0)for(let Ce=0;Ce<R.mipmaps.length;Ce++)ce(B.__webglFramebuffer[fe][Ce],z,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Ce);else ce(B.__webglFramebuffer[fe],z,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0);w(R,de)&&S(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(ie){const fe=z.texture;for(let Ce=0,ze=fe.length;Ce<ze;Ce++){const lt=fe[Ce],Me=r.get(lt);n.bindTexture(t.TEXTURE_2D,Me.__webglTexture),J(t.TEXTURE_2D,lt,de),ce(B.__webglFramebuffer,z,lt,t.COLOR_ATTACHMENT0+Ce,t.TEXTURE_2D,0),w(lt,de)&&S(t.TEXTURE_2D)}n.unbindTexture()}else{let fe=t.TEXTURE_2D;if((z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(a?fe=z.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(fe,Z.__webglTexture),J(fe,R,de),a&&R.mipmaps&&R.mipmaps.length>0)for(let Ce=0;Ce<R.mipmaps.length;Ce++)ce(B.__webglFramebuffer[Ce],z,R,t.COLOR_ATTACHMENT0,fe,Ce);else ce(B.__webglFramebuffer,z,R,t.COLOR_ATTACHMENT0,fe,0);w(R,de)&&S(fe),n.unbindTexture()}z.depthBuffer&&Re(z)}function Ee(z){const R=v(z)||a,B=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let Z=0,oe=B.length;Z<oe;Z++){const ie=B[Z];if(w(ie,R)){const de=z.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,fe=r.get(ie).__webglTexture;n.bindTexture(de,fe),S(de),n.unbindTexture()}}}function ve(z){if(a&&z.samples>0&&we(z)===!1){const R=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],B=z.width,Z=z.height;let oe=t.COLOR_BUFFER_BIT;const ie=[],de=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,fe=r.get(z),Ce=z.isWebGLMultipleRenderTargets===!0;if(Ce)for(let ze=0;ze<R.length;ze++)n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,fe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,fe.__webglFramebuffer);for(let ze=0;ze<R.length;ze++){ie.push(t.COLOR_ATTACHMENT0+ze),z.depthBuffer&&ie.push(de);const lt=fe.__ignoreDepthValues!==void 0?fe.__ignoreDepthValues:!1;if(lt===!1&&(z.depthBuffer&&(oe|=t.DEPTH_BUFFER_BIT),z.stencilBuffer&&(oe|=t.STENCIL_BUFFER_BIT)),Ce&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,fe.__webglColorRenderbuffer[ze]),lt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[de]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[de])),Ce){const Me=r.get(R[ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Me,0)}t.blitFramebuffer(0,0,B,Z,0,0,B,Z,oe,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,ie)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ce)for(let ze=0;ze<R.length;ze++){n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,fe.__webglColorRenderbuffer[ze]);const lt=r.get(R[ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,lt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,fe.__webglMultisampledFramebuffer)}}function Pe(z){return Math.min(i.maxSamples,z.samples)}function we(z){const R=r.get(z);return a&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function Je(z){const R=o.render.frame;u.get(z)!==R&&(u.set(z,R),z.update())}function He(z,R){const B=z.colorSpace,Z=z.format,oe=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===xx||B!==Bo&&B!==Xi&&(un.getTransfer(B)===yn?a===!1?e.has("EXT_sRGB")===!0&&Z===oi?(z.format=xx,z.minFilter=Zn,z.generateMipmaps=!1):R=zC.sRGBToLinear(R):(Z!==oi||oe!==ko)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",B)),R}this.allocateTextureUnit=U,this.resetTextureUnits=Q,this.setTexture2D=q,this.setTexture2DArray=te,this.setTexture3D=D,this.setTextureCube=F,this.rebindTextures=Le,this.setupRenderTarget=X,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=Re,this.setupFrameBufferTexture=ce,this.useMultisampledRTT=we}function aj(t,e,n){const r=n.isWebGL2;function i(s,o=Xi){let a;const l=un.getTransfer(o);if(s===ko)return t.UNSIGNED_BYTE;if(s===PC)return t.UNSIGNED_SHORT_4_4_4_4;if(s===NC)return t.UNSIGNED_SHORT_5_5_5_1;if(s===MV)return t.BYTE;if(s===TV)return t.SHORT;if(s===T_)return t.UNSIGNED_SHORT;if(s===RC)return t.INT;if(s===ua)return t.UNSIGNED_INT;if(s===qs)return t.FLOAT;if(s===Nf)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===AV)return t.ALPHA;if(s===oi)return t.RGBA;if(s===CV)return t.LUMINANCE;if(s===RV)return t.LUMINANCE_ALPHA;if(s===Tl)return t.DEPTH_COMPONENT;if(s===cu)return t.DEPTH_STENCIL;if(s===xx)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===PV)return t.RED;if(s===IC)return t.RED_INTEGER;if(s===NV)return t.RG;if(s===LC)return t.RG_INTEGER;if(s===kC)return t.RGBA_INTEGER;if(s===y0||s===v0||s===x0||s===_0)if(l===yn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===y0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===v0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===x0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===_0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===y0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===v0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===x0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===_0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===mM||s===gM||s===yM||s===vM)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===mM)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===gM)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===yM)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===vM)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===DC)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===xM||s===_M)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===xM)return l===yn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===_M)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===wM||s===SM||s===bM||s===EM||s===MM||s===TM||s===AM||s===CM||s===RM||s===PM||s===NM||s===IM||s===LM||s===kM)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===wM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===SM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===bM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===EM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===MM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===TM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===AM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===CM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===RM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===PM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===NM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===IM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===LM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===kM)return l===yn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===w0||s===DM||s===OM)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===w0)return l===yn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===DM)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===OM)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===IV||s===FM||s===UM||s===BM)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===w0)return a.COMPRESSED_RED_RGTC1_EXT;if(s===FM)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===UM)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===BM)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Ml?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class lj extends Er{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Wd extends on{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Xce={type:"move"};class GS{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Wd,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Wd,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new G,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new G),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Wd,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new G,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new G),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const x of e.hand.values()){const v=n.getJointPose(x,r),g=this._getHandJoint(c,x);v!==null&&(g.matrix.fromArray(v.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.matrixWorldNeedsUpdate=!0,g.jointRadius=v.radius),g.visible=v!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],p=u.position.distanceTo(f.position),m=.02,y=.005;c.inputState.pinching&&p>m+y?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&p<=m-y&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Xce)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Wd;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class qce extends Na{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,p=null,m=null,y=null;const x=n.getContextAttributes();let v=null,g=null;const w=[],S=[],M=new Te;let C=null;const P=new Er;P.layers.enable(1),P.viewport=new dn;const I=new Er;I.layers.enable(2),I.viewport=new dn;const O=[P,I],N=new lj;N.layers.enable(1),N.layers.enable(2);let k=null,V=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(J){let ae=w[J];return ae===void 0&&(ae=new GS,w[J]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(J){let ae=w[J];return ae===void 0&&(ae=new GS,w[J]=ae),ae.getGripSpace()},this.getHand=function(J){let ae=w[J];return ae===void 0&&(ae=new GS,w[J]=ae),ae.getHandSpace()};function W(J){const ae=S.indexOf(J.inputSource);if(ae===-1)return;const Se=w[ae];Se!==void 0&&(Se.update(J.inputSource,J.frame,c||o),Se.dispatchEvent({type:J.type,data:J.inputSource}))}function Q(){i.removeEventListener("select",W),i.removeEventListener("selectstart",W),i.removeEventListener("selectend",W),i.removeEventListener("squeeze",W),i.removeEventListener("squeezestart",W),i.removeEventListener("squeezeend",W),i.removeEventListener("end",Q),i.removeEventListener("inputsourceschange",U);for(let J=0;J<w.length;J++){const ae=S[J];ae!==null&&(S[J]=null,w[J].disconnect(ae))}k=null,V=null,e.setRenderTarget(v),m=null,p=null,f=null,i=null,g=null,ee.stop(),r.isPresenting=!1,e.setPixelRatio(C),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(J){s=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(J){a=J,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(J){c=J},this.getBaseLayer=function(){return p!==null?p:m},this.getBinding=function(){return f},this.getFrame=function(){return y},this.getSession=function(){return i},this.setSession=async function(J){if(i=J,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",W),i.addEventListener("selectstart",W),i.addEventListener("selectend",W),i.addEventListener("squeeze",W),i.addEventListener("squeezestart",W),i.addEventListener("squeezeend",W),i.addEventListener("end",Q),i.addEventListener("inputsourceschange",U),x.xrCompatible!==!0&&await n.makeXRCompatible(),C=e.getPixelRatio(),e.getSize(M),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const ae={antialias:i.renderState.layers===void 0?x.antialias:!0,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s};m=new XRWebGLLayer(i,n,ae),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),g=new to(m.framebufferWidth,m.framebufferHeight,{format:oi,type:ko,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let ae=null,Se=null,Ae=null;x.depth&&(Ae=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ae=x.stencil?cu:Tl,Se=x.stencil?Ml:ua);const ce={colorFormat:n.RGBA8,depthFormat:Ae,scaleFactor:s};f=new XRWebGLBinding(i,n),p=f.createProjectionLayer(ce),i.updateRenderState({layers:[p]}),e.setPixelRatio(1),e.setSize(p.textureWidth,p.textureHeight,!1),g=new to(p.textureWidth,p.textureHeight,{format:oi,type:ko,depthTexture:new GC(p.textureWidth,p.textureHeight,Se,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0});const Oe=e.properties.get(g);Oe.__ignoreDepthValues=p.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),ee.setContext(i),ee.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function U(J){for(let ae=0;ae<J.removed.length;ae++){const Se=J.removed[ae],Ae=S.indexOf(Se);Ae>=0&&(S[Ae]=null,w[Ae].disconnect(Se))}for(let ae=0;ae<J.added.length;ae++){const Se=J.added[ae];let Ae=S.indexOf(Se);if(Ae===-1){for(let Oe=0;Oe<w.length;Oe++)if(Oe>=S.length){S.push(Se),Ae=Oe;break}else if(S[Oe]===null){S[Oe]=Se,Ae=Oe;break}if(Ae===-1)break}const ce=w[Ae];ce&&ce.connect(Se)}}const Y=new G,q=new G;function te(J,ae,Se){Y.setFromMatrixPosition(ae.matrixWorld),q.setFromMatrixPosition(Se.matrixWorld);const Ae=Y.distanceTo(q),ce=ae.projectionMatrix.elements,Oe=Se.projectionMatrix.elements,Be=ce[14]/(ce[10]-1),Re=ce[14]/(ce[10]+1),Le=(ce[9]+1)/ce[5],X=(ce[9]-1)/ce[5],Ee=(ce[8]-1)/ce[0],ve=(Oe[8]+1)/Oe[0],Pe=Be*Ee,we=Be*ve,Je=Ae/(-Ee+ve),He=Je*-Ee;ae.matrixWorld.decompose(J.position,J.quaternion,J.scale),J.translateX(He),J.translateZ(Je),J.matrixWorld.compose(J.position,J.quaternion,J.scale),J.matrixWorldInverse.copy(J.matrixWorld).invert();const z=Be+Je,R=Re+Je,B=Pe-He,Z=we+(Ae-He),oe=Le*Re/R*z,ie=X*Re/R*z;J.projectionMatrix.makePerspective(B,Z,oe,ie,z,R),J.projectionMatrixInverse.copy(J.projectionMatrix).invert()}function D(J,ae){ae===null?J.matrixWorld.copy(J.matrix):J.matrixWorld.multiplyMatrices(ae.matrixWorld,J.matrix),J.matrixWorldInverse.copy(J.matrixWorld).invert()}this.updateCamera=function(J){if(i===null)return;N.near=I.near=P.near=J.near,N.far=I.far=P.far=J.far,(k!==N.near||V!==N.far)&&(i.updateRenderState({depthNear:N.near,depthFar:N.far}),k=N.near,V=N.far);const ae=J.parent,Se=N.cameras;D(N,ae);for(let Ae=0;Ae<Se.length;Ae++)D(Se[Ae],ae);Se.length===2?te(N,P,I):N.projectionMatrix.copy(P.projectionMatrix),F(J,N,ae)};function F(J,ae,Se){Se===null?J.matrix.copy(ae.matrixWorld):(J.matrix.copy(Se.matrixWorld),J.matrix.invert(),J.matrix.multiply(ae.matrixWorld)),J.matrix.decompose(J.position,J.quaternion,J.scale),J.updateMatrixWorld(!0),J.projectionMatrix.copy(ae.projectionMatrix),J.projectionMatrixInverse.copy(ae.projectionMatrixInverse),J.isPerspectiveCamera&&(J.fov=Lf*2*Math.atan(1/J.projectionMatrix.elements[5]),J.zoom=1)}this.getCamera=function(){return N},this.getFoveation=function(){if(!(p===null&&m===null))return l},this.setFoveation=function(J){l=J,p!==null&&(p.fixedFoveation=J),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=J)};let j=null;function K(J,ae){if(u=ae.getViewerPose(c||o),y=ae,u!==null){const Se=u.views;m!==null&&(e.setRenderTargetFramebuffer(g,m.framebuffer),e.setRenderTarget(g));let Ae=!1;Se.length!==N.cameras.length&&(N.cameras.length=0,Ae=!0);for(let ce=0;ce<Se.length;ce++){const Oe=Se[ce];let Be=null;if(m!==null)Be=m.getViewport(Oe);else{const Le=f.getViewSubImage(p,Oe);Be=Le.viewport,ce===0&&(e.setRenderTargetTextures(g,Le.colorTexture,p.ignoreDepthValues?void 0:Le.depthStencilTexture),e.setRenderTarget(g))}let Re=O[ce];Re===void 0&&(Re=new Er,Re.layers.enable(ce),Re.viewport=new dn,O[ce]=Re),Re.matrix.fromArray(Oe.transform.matrix),Re.matrix.decompose(Re.position,Re.quaternion,Re.scale),Re.projectionMatrix.fromArray(Oe.projectionMatrix),Re.projectionMatrixInverse.copy(Re.projectionMatrix).invert(),Re.viewport.set(Be.x,Be.y,Be.width,Be.height),ce===0&&(N.matrix.copy(Re.matrix),N.matrix.decompose(N.position,N.quaternion,N.scale)),Ae===!0&&N.cameras.push(Re)}}for(let Se=0;Se<w.length;Se++){const Ae=S[Se],ce=w[Se];Ae!==null&&ce!==void 0&&ce.update(Ae,ae,c||o)}j&&j(J,ae),ae.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ae}),y=null}const ee=new tj;ee.setAnimationLoop(K),this.setAnimationLoop=function(J){j=J},this.dispose=function(){}}}function Yce(t,e){function n(v,g){v.matrixAutoUpdate===!0&&v.updateMatrix(),g.value.copy(v.matrix)}function r(v,g){g.color.getRGB(v.fogColor.value,ZV(t)),g.isFog?(v.fogNear.value=g.near,v.fogFar.value=g.far):g.isFogExp2&&(v.fogDensity.value=g.density)}function i(v,g,w,S,M){g.isMeshBasicMaterial||g.isMeshLambertMaterial?s(v,g):g.isMeshToonMaterial?(s(v,g),f(v,g)):g.isMeshPhongMaterial?(s(v,g),u(v,g)):g.isMeshStandardMaterial?(s(v,g),p(v,g),g.isMeshPhysicalMaterial&&m(v,g,M)):g.isMeshMatcapMaterial?(s(v,g),y(v,g)):g.isMeshDepthMaterial?s(v,g):g.isMeshDistanceMaterial?(s(v,g),x(v,g)):g.isMeshNormalMaterial?s(v,g):g.isLineBasicMaterial?(o(v,g),g.isLineDashedMaterial&&a(v,g)):g.isPointsMaterial?l(v,g,w,S):g.isSpriteMaterial?c(v,g):g.isShadowMaterial?(v.color.value.copy(g.color),v.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function s(v,g){v.opacity.value=g.opacity,g.color&&v.diffuse.value.copy(g.color),g.emissive&&v.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.bumpMap&&(v.bumpMap.value=g.bumpMap,n(g.bumpMap,v.bumpMapTransform),v.bumpScale.value=g.bumpScale,g.side===di&&(v.bumpScale.value*=-1)),g.normalMap&&(v.normalMap.value=g.normalMap,n(g.normalMap,v.normalMapTransform),v.normalScale.value.copy(g.normalScale),g.side===di&&v.normalScale.value.negate()),g.displacementMap&&(v.displacementMap.value=g.displacementMap,n(g.displacementMap,v.displacementMapTransform),v.displacementScale.value=g.displacementScale,v.displacementBias.value=g.displacementBias),g.emissiveMap&&(v.emissiveMap.value=g.emissiveMap,n(g.emissiveMap,v.emissiveMapTransform)),g.specularMap&&(v.specularMap.value=g.specularMap,n(g.specularMap,v.specularMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest);const w=e.get(g).envMap;if(w&&(v.envMap.value=w,v.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=g.reflectivity,v.ior.value=g.ior,v.refractionRatio.value=g.refractionRatio),g.lightMap){v.lightMap.value=g.lightMap;const S=t._useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=g.lightMapIntensity*S,n(g.lightMap,v.lightMapTransform)}g.aoMap&&(v.aoMap.value=g.aoMap,v.aoMapIntensity.value=g.aoMapIntensity,n(g.aoMap,v.aoMapTransform))}function o(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform))}function a(v,g){v.dashSize.value=g.dashSize,v.totalSize.value=g.dashSize+g.gapSize,v.scale.value=g.scale}function l(v,g,w,S){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.size.value=g.size*w,v.scale.value=S*.5,g.map&&(v.map.value=g.map,n(g.map,v.uvTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function c(v,g){v.diffuse.value.copy(g.color),v.opacity.value=g.opacity,v.rotation.value=g.rotation,g.map&&(v.map.value=g.map,n(g.map,v.mapTransform)),g.alphaMap&&(v.alphaMap.value=g.alphaMap,n(g.alphaMap,v.alphaMapTransform)),g.alphaTest>0&&(v.alphaTest.value=g.alphaTest)}function u(v,g){v.specular.value.copy(g.specular),v.shininess.value=Math.max(g.shininess,1e-4)}function f(v,g){g.gradientMap&&(v.gradientMap.value=g.gradientMap)}function p(v,g){v.metalness.value=g.metalness,g.metalnessMap&&(v.metalnessMap.value=g.metalnessMap,n(g.metalnessMap,v.metalnessMapTransform)),v.roughness.value=g.roughness,g.roughnessMap&&(v.roughnessMap.value=g.roughnessMap,n(g.roughnessMap,v.roughnessMapTransform)),e.get(g).envMap&&(v.envMapIntensity.value=g.envMapIntensity)}function m(v,g,w){v.ior.value=g.ior,g.sheen>0&&(v.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),v.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(v.sheenColorMap.value=g.sheenColorMap,n(g.sheenColorMap,v.sheenColorMapTransform)),g.sheenRoughnessMap&&(v.sheenRoughnessMap.value=g.sheenRoughnessMap,n(g.sheenRoughnessMap,v.sheenRoughnessMapTransform))),g.clearcoat>0&&(v.clearcoat.value=g.clearcoat,v.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(v.clearcoatMap.value=g.clearcoatMap,n(g.clearcoatMap,v.clearcoatMapTransform)),g.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap,n(g.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),g.clearcoatNormalMap&&(v.clearcoatNormalMap.value=g.clearcoatNormalMap,n(g.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),g.side===di&&v.clearcoatNormalScale.value.negate())),g.iridescence>0&&(v.iridescence.value=g.iridescence,v.iridescenceIOR.value=g.iridescenceIOR,v.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(v.iridescenceMap.value=g.iridescenceMap,n(g.iridescenceMap,v.iridescenceMapTransform)),g.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=g.iridescenceThicknessMap,n(g.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),g.transmission>0&&(v.transmission.value=g.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),g.transmissionMap&&(v.transmissionMap.value=g.transmissionMap,n(g.transmissionMap,v.transmissionMapTransform)),v.thickness.value=g.thickness,g.thicknessMap&&(v.thicknessMap.value=g.thicknessMap,n(g.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=g.attenuationDistance,v.attenuationColor.value.copy(g.attenuationColor)),g.anisotropy>0&&(v.anisotropyVector.value.set(g.anisotropy*Math.cos(g.anisotropyRotation),g.anisotropy*Math.sin(g.anisotropyRotation)),g.anisotropyMap&&(v.anisotropyMap.value=g.anisotropyMap,n(g.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=g.specularIntensity,v.specularColor.value.copy(g.specularColor),g.specularColorMap&&(v.specularColorMap.value=g.specularColorMap,n(g.specularColorMap,v.specularColorMapTransform)),g.specularIntensityMap&&(v.specularIntensityMap.value=g.specularIntensityMap,n(g.specularIntensityMap,v.specularIntensityMapTransform))}function y(v,g){g.matcap&&(v.matcap.value=g.matcap)}function x(v,g){const w=e.get(g).light;v.referencePosition.value.setFromMatrixPosition(w.matrixWorld),v.nearDistance.value=w.shadow.camera.near,v.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Kce(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,S){const M=S.program;r.uniformBlockBinding(w,M)}function c(w,S){let M=i[w.id];M===void 0&&(y(w),M=u(w),i[w.id]=M,w.addEventListener("dispose",v));const C=S.program;r.updateUBOMapping(w,C);const P=e.render.frame;s[w.id]!==P&&(p(w),s[w.id]=P)}function u(w){const S=f();w.__bindingPointIndex=S;const M=t.createBuffer(),C=w.__size,P=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,M),t.bufferData(t.UNIFORM_BUFFER,C,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,S,M),M}function f(){for(let w=0;w<a;w++)if(o.indexOf(w)===-1)return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function p(w){const S=i[w.id],M=w.uniforms,C=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,S);for(let P=0,I=M.length;P<I;P++){const O=Array.isArray(M[P])?M[P]:[M[P]];for(let N=0,k=O.length;N<k;N++){const V=O[N];if(m(V,P,N,C)===!0){const W=V.__offset,Q=Array.isArray(V.value)?V.value:[V.value];let U=0;for(let Y=0;Y<Q.length;Y++){const q=Q[Y],te=x(q);typeof q=="number"||typeof q=="boolean"?(V.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,W+U,V.__data)):q.isMatrix3?(V.__data[0]=q.elements[0],V.__data[1]=q.elements[1],V.__data[2]=q.elements[2],V.__data[3]=0,V.__data[4]=q.elements[3],V.__data[5]=q.elements[4],V.__data[6]=q.elements[5],V.__data[7]=0,V.__data[8]=q.elements[6],V.__data[9]=q.elements[7],V.__data[10]=q.elements[8],V.__data[11]=0):(q.toArray(V.__data,U),U+=te.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,W,V.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(w,S,M,C){const P=w.value,I=S+"_"+M;if(C[I]===void 0)return typeof P=="number"||typeof P=="boolean"?C[I]=P:C[I]=P.clone(),!0;{const O=C[I];if(typeof P=="number"||typeof P=="boolean"){if(O!==P)return C[I]=P,!0}else if(O.equals(P)===!1)return O.copy(P),!0}return!1}function y(w){const S=w.uniforms;let M=0;const C=16;for(let I=0,O=S.length;I<O;I++){const N=Array.isArray(S[I])?S[I]:[S[I]];for(let k=0,V=N.length;k<V;k++){const W=N[k],Q=Array.isArray(W.value)?W.value:[W.value];for(let U=0,Y=Q.length;U<Y;U++){const q=Q[U],te=x(q),D=M%C;D!==0&&C-D<te.boundary&&(M+=C-D),W.__data=new Float32Array(te.storage/Float32Array.BYTES_PER_ELEMENT),W.__offset=M,M+=te.storage}}}const P=M%C;return P>0&&(M+=C-P),w.__size=M,w.__cache={},this}function x(w){const S={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(S.boundary=4,S.storage=4):w.isVector2?(S.boundary=8,S.storage=8):w.isVector3||w.isColor?(S.boundary=16,S.storage=12):w.isVector4?(S.boundary=16,S.storage=16):w.isMatrix3?(S.boundary=48,S.storage=48):w.isMatrix4?(S.boundary=64,S.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),S}function v(w){const S=w.target;S.removeEventListener("dispose",v);const M=o.indexOf(S.__bindingPointIndex);o.splice(M,1),t.deleteBuffer(i[S.id]),delete i[S.id],delete s[S.id]}function g(){for(const w in i)t.deleteBuffer(i[w]);o=[],i={},s={}}return{bind:l,update:c,dispose:g}}class qC{constructor(e={}){const{canvas:n=qV(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let p;r!==null?p=r.getContextAttributes().alpha:p=o;const m=new Uint32Array(4),y=new Int32Array(4);let x=null,v=null;const g=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fr,this._useLegacyLights=!1,this.toneMapping=Lo,this.toneMappingExposure=1;const S=this;let M=!1,C=0,P=0,I=null,O=-1,N=null;const k=new dn,V=new dn;let W=null;const Q=new Ye(0);let U=0,Y=n.width,q=n.height,te=1,D=null,F=null;const j=new dn(0,0,Y,q),K=new dn(0,0,Y,q);let ee=!1;const J=new dg;let ae=!1,Se=!1,Ae=null;const ce=new St,Oe=new Te,Be=new G,Re={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Le(){return I===null?te:1}let X=r;function Ee(H,le){for(let pe=0;pe<H.length;pe++){const ge=H[pe],he=n.getContext(ge,le);if(he!==null)return he}return null}try{const H={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${sg}`),n.addEventListener("webglcontextlost",Fe,!1),n.addEventListener("webglcontextrestored",ne,!1),n.addEventListener("webglcontextcreationerror",je,!1),X===null){const le=["webgl2","webgl","experimental-webgl"];if(S.isWebGL1Renderer===!0&&le.shift(),X=Ee(le,H),X===null)throw Ee(le)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&X instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),X.getShaderPrecisionFormat===void 0&&(X.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(H){throw console.error("THREE.WebGLRenderer: "+H.message),H}let ve,Pe,we,Je,He,z,R,B,Z,oe,ie,de,fe,Ce,ze,lt,Me,At,Ct,pt,nt,Ke,mt,Xt;function ln(){ve=new ule(X),Pe=new ile(X,ve,e),ve.init(Pe),Ke=new aj(X,ve,Pe),we=new Gce(X,ve,Pe),Je=new hle(X),He=new Lce,z=new $ce(X,ve,we,He,Pe,Ke,Je),R=new ole(S),B=new cle(S),Z=new wse(X,Pe),mt=new nle(X,ve,Z,Pe),oe=new dle(X,Z,Je,mt),ie=new yle(X,oe,Z,Je),Ct=new gle(X,Pe,z),lt=new sle(He),de=new Ice(S,R,B,ve,Pe,mt,lt),fe=new Yce(S,He),Ce=new Dce,ze=new Vce(ve,Pe),At=new tle(S,R,B,we,ie,p,l),Me=new Wce(S,ie,Pe),Xt=new Kce(X,Je,Pe,we),pt=new rle(X,ve,Je,Pe),nt=new fle(X,ve,Je,Pe),Je.programs=de.programs,S.capabilities=Pe,S.extensions=ve,S.properties=He,S.renderLists=Ce,S.shadowMap=Me,S.state=we,S.info=Je}ln();const Nt=new qce(S,X);this.xr=Nt,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const H=ve.get("WEBGL_lose_context");H&&H.loseContext()},this.forceContextRestore=function(){const H=ve.get("WEBGL_lose_context");H&&H.restoreContext()},this.getPixelRatio=function(){return te},this.setPixelRatio=function(H){H!==void 0&&(te=H,this.setSize(Y,q,!1))},this.getSize=function(H){return H.set(Y,q)},this.setSize=function(H,le,pe=!0){if(Nt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Y=H,q=le,n.width=Math.floor(H*te),n.height=Math.floor(le*te),pe===!0&&(n.style.width=H+"px",n.style.height=le+"px"),this.setViewport(0,0,H,le)},this.getDrawingBufferSize=function(H){return H.set(Y*te,q*te).floor()},this.setDrawingBufferSize=function(H,le,pe){Y=H,q=le,te=pe,n.width=Math.floor(H*pe),n.height=Math.floor(le*pe),this.setViewport(0,0,H,le)},this.getCurrentViewport=function(H){return H.copy(k)},this.getViewport=function(H){return H.copy(j)},this.setViewport=function(H,le,pe,ge){H.isVector4?j.set(H.x,H.y,H.z,H.w):j.set(H,le,pe,ge),we.viewport(k.copy(j).multiplyScalar(te).floor())},this.getScissor=function(H){return H.copy(K)},this.setScissor=function(H,le,pe,ge){H.isVector4?K.set(H.x,H.y,H.z,H.w):K.set(H,le,pe,ge),we.scissor(V.copy(K).multiplyScalar(te).floor())},this.getScissorTest=function(){return ee},this.setScissorTest=function(H){we.setScissorTest(ee=H)},this.setOpaqueSort=function(H){D=H},this.setTransparentSort=function(H){F=H},this.getClearColor=function(H){return H.copy(At.getClearColor())},this.setClearColor=function(){At.setClearColor.apply(At,arguments)},this.getClearAlpha=function(){return At.getClearAlpha()},this.setClearAlpha=function(){At.setClearAlpha.apply(At,arguments)},this.clear=function(H=!0,le=!0,pe=!0){let ge=0;if(H){let he=!1;if(I!==null){const qe=I.texture.format;he=qe===kC||qe===LC||qe===IC}if(he){const qe=I.texture.type,dt=qe===ko||qe===ua||qe===T_||qe===Ml||qe===PC||qe===NC,vt=At.getClearColor(),_t=At.getClearAlpha(),Mt=vt.r,bt=vt.g,Tt=vt.b;dt?(m[0]=Mt,m[1]=bt,m[2]=Tt,m[3]=_t,X.clearBufferuiv(X.COLOR,0,m)):(y[0]=Mt,y[1]=bt,y[2]=Tt,y[3]=_t,X.clearBufferiv(X.COLOR,0,y))}else ge|=X.COLOR_BUFFER_BIT}le&&(ge|=X.DEPTH_BUFFER_BIT),pe&&(ge|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(ge)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Fe,!1),n.removeEventListener("webglcontextrestored",ne,!1),n.removeEventListener("webglcontextcreationerror",je,!1),Ce.dispose(),ze.dispose(),He.dispose(),R.dispose(),B.dispose(),ie.dispose(),mt.dispose(),Xt.dispose(),de.dispose(),Nt.dispose(),Nt.removeEventListener("sessionstart",an),Nt.removeEventListener("sessionend",Wt),Ae&&(Ae.dispose(),Ae=null),xn.stop()};function Fe(H){H.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),M=!0}function ne(){console.log("THREE.WebGLRenderer: Context Restored."),M=!1;const H=Je.autoReset,le=Me.enabled,pe=Me.autoUpdate,ge=Me.needsUpdate,he=Me.type;ln(),Je.autoReset=H,Me.enabled=le,Me.autoUpdate=pe,Me.needsUpdate=ge,Me.type=he}function je(H){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",H.statusMessage)}function Ue(H){const le=H.target;le.removeEventListener("dispose",Ue),yt(le)}function yt(H){Ne(H),He.remove(H)}function Ne(H){const le=He.get(H).programs;le!==void 0&&(le.forEach(function(pe){de.releaseProgram(pe)}),H.isShaderMaterial&&de.releaseShaderCache(H))}this.renderBufferDirect=function(H,le,pe,ge,he,qe){le===null&&(le=Re);const dt=he.isMesh&&he.matrixWorld.determinant()<0,vt=lw(H,le,pe,ge,he);we.setMaterial(ge,dt);let _t=pe.index,Mt=1;if(ge.wireframe===!0){if(_t=oe.getWireframeAttribute(pe),_t===void 0)return;Mt=2}const bt=pe.drawRange,Tt=pe.attributes.position;let Pn=bt.start*Mt,Tr=(bt.start+bt.count)*Mt;qe!==null&&(Pn=Math.max(Pn,qe.start*Mt),Tr=Math.min(Tr,(qe.start+qe.count)*Mt)),_t!==null?(Pn=Math.max(Pn,0),Tr=Math.min(Tr,_t.count)):Tt!=null&&(Pn=Math.max(Pn,0),Tr=Math.min(Tr,Tt.count));const _n=Tr-Pn;if(_n<0||_n===1/0)return;mt.setup(he,ge,vt,pe,_t);let yr,wt=pt;if(_t!==null&&(yr=Z.get(_t),wt=nt,wt.setIndex(yr)),he.isMesh)ge.wireframe===!0?(we.setLineWidth(ge.wireframeLinewidth*Le()),wt.setMode(X.LINES)):wt.setMode(X.TRIANGLES);else if(he.isLine){let et=ge.linewidth;et===void 0&&(et=1),we.setLineWidth(et*Le()),he.isLineSegments?wt.setMode(X.LINES):he.isLineLoop?wt.setMode(X.LINE_LOOP):wt.setMode(X.LINE_STRIP)}else he.isPoints?wt.setMode(X.POINTS):he.isSprite&&wt.setMode(X.TRIANGLES);if(he.isBatchedMesh)wt.renderMultiDraw(he._multiDrawStarts,he._multiDrawCounts,he._multiDrawCount);else if(he.isInstancedMesh)wt.renderInstances(Pn,_n,he.count);else if(pe.isInstancedBufferGeometry){const et=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,ns=Math.min(pe.instanceCount,et);wt.renderInstances(Pn,_n,ns)}else wt.render(Pn,_n)};function ut(H,le,pe){H.transparent===!0&&H.side===Mo&&H.forceSinglePass===!1?(H.side=di,H.needsUpdate=!0,Ru(H,le,pe),H.side=Ea,H.needsUpdate=!0,Ru(H,le,pe),H.side=Mo):Ru(H,le,pe)}this.compile=function(H,le,pe=null){pe===null&&(pe=H),v=ze.get(pe),v.init(),w.push(v),pe.traverseVisible(function(he){he.isLight&&he.layers.test(le.layers)&&(v.pushLight(he),he.castShadow&&v.pushShadow(he))}),H!==pe&&H.traverseVisible(function(he){he.isLight&&he.layers.test(le.layers)&&(v.pushLight(he),he.castShadow&&v.pushShadow(he))}),v.setupLights(S._useLegacyLights);const ge=new Set;return H.traverse(function(he){const qe=he.material;if(qe)if(Array.isArray(qe))for(let dt=0;dt<qe.length;dt++){const vt=qe[dt];ut(vt,pe,he),ge.add(vt)}else ut(qe,pe,he),ge.add(qe)}),w.pop(),v=null,ge},this.compileAsync=function(H,le,pe=null){const ge=this.compile(H,le,pe);return new Promise(he=>{function qe(){if(ge.forEach(function(dt){He.get(dt).currentProgram.isReady()&&ge.delete(dt)}),ge.size===0){he(H);return}setTimeout(qe,10)}ve.get("KHR_parallel_shader_compile")!==null?qe():setTimeout(qe,10)})};let ht=null;function Yt(H){ht&&ht(H)}function an(){xn.stop()}function Wt(){xn.start()}const xn=new tj;xn.setAnimationLoop(Yt),typeof self<"u"&&xn.setContext(self),this.setAnimationLoop=function(H){ht=H,Nt.setAnimationLoop(H),H===null?xn.stop():xn.start()},Nt.addEventListener("sessionstart",an),Nt.addEventListener("sessionend",Wt),this.render=function(H,le){if(le!==void 0&&le.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;H.matrixWorldAutoUpdate===!0&&H.updateMatrixWorld(),le.parent===null&&le.matrixWorldAutoUpdate===!0&&le.updateMatrixWorld(),Nt.enabled===!0&&Nt.isPresenting===!0&&(Nt.cameraAutoUpdate===!0&&Nt.updateCamera(le),le=Nt.getCamera()),H.isScene===!0&&H.onBeforeRender(S,H,le,I),v=ze.get(H,w.length),v.init(),w.push(v),ce.multiplyMatrices(le.projectionMatrix,le.matrixWorldInverse),J.setFromProjectionMatrix(ce),Se=this.localClippingEnabled,ae=lt.init(this.clippingPlanes,Se),x=Ce.get(H,g.length),x.init(),g.push(x),An(H,le,0,S.sortObjects),x.finish(),S.sortObjects===!0&&x.sort(D,F),this.info.render.frame++,ae===!0&&lt.beginShadows();const pe=v.state.shadowsArray;if(Me.render(pe,H,le),ae===!0&&lt.endShadows(),this.info.autoReset===!0&&this.info.reset(),At.render(x,H),v.setupLights(S._useLegacyLights),le.isArrayCamera){const ge=le.cameras;for(let he=0,qe=ge.length;he<qe;he++){const dt=ge[he];yi(x,H,dt,dt.viewport)}}else yi(x,H,le);I!==null&&(z.updateMultisampleRenderTarget(I),z.updateRenderTargetMipmap(I)),H.isScene===!0&&H.onAfterRender(S,H,le),mt.resetDefaultState(),O=-1,N=null,w.pop(),w.length>0?v=w[w.length-1]:v=null,g.pop(),g.length>0?x=g[g.length-1]:x=null};function An(H,le,pe,ge){if(H.visible===!1)return;if(H.layers.test(le.layers)){if(H.isGroup)pe=H.renderOrder;else if(H.isLOD)H.autoUpdate===!0&&H.update(le);else if(H.isLight)v.pushLight(H),H.castShadow&&v.pushShadow(H);else if(H.isSprite){if(!H.frustumCulled||J.intersectsSprite(H)){ge&&Be.setFromMatrixPosition(H.matrixWorld).applyMatrix4(ce);const dt=ie.update(H),vt=H.material;vt.visible&&x.push(H,dt,vt,pe,Be.z,null)}}else if((H.isMesh||H.isLine||H.isPoints)&&(!H.frustumCulled||J.intersectsObject(H))){const dt=ie.update(H),vt=H.material;if(ge&&(H.boundingSphere!==void 0?(H.boundingSphere===null&&H.computeBoundingSphere(),Be.copy(H.boundingSphere.center)):(dt.boundingSphere===null&&dt.computeBoundingSphere(),Be.copy(dt.boundingSphere.center)),Be.applyMatrix4(H.matrixWorld).applyMatrix4(ce)),Array.isArray(vt)){const _t=dt.groups;for(let Mt=0,bt=_t.length;Mt<bt;Mt++){const Tt=_t[Mt],Pn=vt[Tt.materialIndex];Pn&&Pn.visible&&x.push(H,dt,Pn,pe,Be.z,Tt)}}else vt.visible&&x.push(H,dt,vt,pe,Be.z,null)}}const qe=H.children;for(let dt=0,vt=qe.length;dt<vt;dt++)An(qe[dt],le,pe,ge)}function yi(H,le,pe,ge){const he=H.opaque,qe=H.transmissive,dt=H.transparent;v.setupLightsView(pe),ae===!0&&lt.setGlobalState(S.clippingPlanes,pe),qe.length>0&&fh(he,qe,le,pe),ge&&we.viewport(k.copy(ge)),he.length>0&&Cu(he,le,pe),qe.length>0&&Cu(qe,le,pe),dt.length>0&&Cu(dt,le,pe),we.buffers.depth.setTest(!0),we.buffers.depth.setMask(!0),we.buffers.color.setMask(!0),we.setPolygonOffset(!1)}function fh(H,le,pe,ge){if((pe.isScene===!0?pe.overrideMaterial:null)!==null)return;const qe=Pe.isWebGL2;Ae===null&&(Ae=new to(1,1,{generateMipmaps:!0,type:ve.has("EXT_color_buffer_half_float")?Nf:ko,minFilter:Ol,samples:qe?4:0})),S.getDrawingBufferSize(Oe),qe?Ae.setSize(Oe.x,Oe.y):Ae.setSize(_x(Oe.x),_x(Oe.y));const dt=S.getRenderTarget();S.setRenderTarget(Ae),S.getClearColor(Q),U=S.getClearAlpha(),U<1&&S.setClearColor(16777215,.5),S.clear();const vt=S.toneMapping;S.toneMapping=Lo,Cu(H,pe,ge),z.updateMultisampleRenderTarget(Ae),z.updateRenderTargetMipmap(Ae);let _t=!1;for(let Mt=0,bt=le.length;Mt<bt;Mt++){const Tt=le[Mt],Pn=Tt.object,Tr=Tt.geometry,_n=Tt.material,yr=Tt.group;if(_n.side===Mo&&Pn.layers.test(ge.layers)){const wt=_n.side;_n.side=di,_n.needsUpdate=!0,Ia(Pn,pe,ge,Tr,_n,yr),_n.side=wt,_n.needsUpdate=!0,_t=!0}}_t===!0&&(z.updateMultisampleRenderTarget(Ae),z.updateRenderTargetMipmap(Ae)),S.setRenderTarget(dt),S.setClearColor(Q,U),S.toneMapping=vt}function Cu(H,le,pe){const ge=le.isScene===!0?le.overrideMaterial:null;for(let he=0,qe=H.length;he<qe;he++){const dt=H[he],vt=dt.object,_t=dt.geometry,Mt=ge===null?dt.material:ge,bt=dt.group;vt.layers.test(pe.layers)&&Ia(vt,le,pe,_t,Mt,bt)}}function Ia(H,le,pe,ge,he,qe){H.onBeforeRender(S,le,pe,ge,he,qe),H.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,H.matrixWorld),H.normalMatrix.getNormalMatrix(H.modelViewMatrix),he.onBeforeRender(S,le,pe,ge,H,qe),he.transparent===!0&&he.side===Mo&&he.forceSinglePass===!1?(he.side=di,he.needsUpdate=!0,S.renderBufferDirect(pe,le,ge,he,H,qe),he.side=Ea,he.needsUpdate=!0,S.renderBufferDirect(pe,le,ge,he,H,qe),he.side=Mo):S.renderBufferDirect(pe,le,ge,he,H,qe),H.onAfterRender(S,le,pe,ge,he,qe)}function Ru(H,le,pe){le.isScene!==!0&&(le=Re);const ge=He.get(H),he=v.state.lights,qe=v.state.shadowsArray,dt=he.state.version,vt=de.getParameters(H,he.state,qe,le,pe),_t=de.getProgramCacheKey(vt);let Mt=ge.programs;ge.environment=H.isMeshStandardMaterial?le.environment:null,ge.fog=le.fog,ge.envMap=(H.isMeshStandardMaterial?B:R).get(H.envMap||ge.environment),Mt===void 0&&(H.addEventListener("dispose",Ue),Mt=new Map,ge.programs=Mt);let bt=Mt.get(_t);if(bt!==void 0){if(ge.currentProgram===bt&&ge.lightsStateVersion===dt)return Ag(H,vt),bt}else vt.uniforms=de.getUniforms(H),H.onBuild(pe,vt,S),H.onBeforeCompile(vt,S),bt=de.acquireProgram(vt,_t),Mt.set(_t,bt),ge.uniforms=vt.uniforms;const Tt=ge.uniforms;return(!H.isShaderMaterial&&!H.isRawShaderMaterial||H.clipping===!0)&&(Tt.clippingPlanes=lt.uniform),Ag(H,vt),ge.needsLights=uw(H),ge.lightsStateVersion=dt,ge.needsLights&&(Tt.ambientLightColor.value=he.state.ambient,Tt.lightProbe.value=he.state.probe,Tt.directionalLights.value=he.state.directional,Tt.directionalLightShadows.value=he.state.directionalShadow,Tt.spotLights.value=he.state.spot,Tt.spotLightShadows.value=he.state.spotShadow,Tt.rectAreaLights.value=he.state.rectArea,Tt.ltc_1.value=he.state.rectAreaLTC1,Tt.ltc_2.value=he.state.rectAreaLTC2,Tt.pointLights.value=he.state.point,Tt.pointLightShadows.value=he.state.pointShadow,Tt.hemisphereLights.value=he.state.hemi,Tt.directionalShadowMap.value=he.state.directionalShadowMap,Tt.directionalShadowMatrix.value=he.state.directionalShadowMatrix,Tt.spotShadowMap.value=he.state.spotShadowMap,Tt.spotLightMatrix.value=he.state.spotLightMatrix,Tt.spotLightMap.value=he.state.spotLightMap,Tt.pointShadowMap.value=he.state.pointShadowMap,Tt.pointShadowMatrix.value=he.state.pointShadowMatrix),ge.currentProgram=bt,ge.uniformsList=null,bt}function Tg(H){if(H.uniformsList===null){const le=H.currentProgram.getUniforms();H.uniformsList=b0.seqWithValue(le.seq,H.uniforms)}return H.uniformsList}function Ag(H,le){const pe=He.get(H);pe.outputColorSpace=le.outputColorSpace,pe.batching=le.batching,pe.instancing=le.instancing,pe.instancingColor=le.instancingColor,pe.skinning=le.skinning,pe.morphTargets=le.morphTargets,pe.morphNormals=le.morphNormals,pe.morphColors=le.morphColors,pe.morphTargetsCount=le.morphTargetsCount,pe.numClippingPlanes=le.numClippingPlanes,pe.numIntersection=le.numClipIntersection,pe.vertexAlphas=le.vertexAlphas,pe.vertexTangents=le.vertexTangents,pe.toneMapping=le.toneMapping}function lw(H,le,pe,ge,he){le.isScene!==!0&&(le=Re),z.resetTextureUnits();const qe=le.fog,dt=ge.isMeshStandardMaterial?le.environment:null,vt=I===null?S.outputColorSpace:I.isXRRenderTarget===!0?I.texture.colorSpace:Bo,_t=(ge.isMeshStandardMaterial?B:R).get(ge.envMap||dt),Mt=ge.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,bt=!!pe.attributes.tangent&&(!!ge.normalMap||ge.anisotropy>0),Tt=!!pe.morphAttributes.position,Pn=!!pe.morphAttributes.normal,Tr=!!pe.morphAttributes.color;let _n=Lo;ge.toneMapped&&(I===null||I.isXRRenderTarget===!0)&&(_n=S.toneMapping);const yr=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,wt=yr!==void 0?yr.length:0,et=He.get(ge),ns=v.state.lights;if(ae===!0&&(Se===!0||H!==N)){const Ar=H===N&&ge.id===O;lt.setState(ge,H,Ar)}let Vt=!1;ge.version===et.__version?(et.needsLights&&et.lightsStateVersion!==ns.state.version||et.outputColorSpace!==vt||he.isBatchedMesh&&et.batching===!1||!he.isBatchedMesh&&et.batching===!0||he.isInstancedMesh&&et.instancing===!1||!he.isInstancedMesh&&et.instancing===!0||he.isSkinnedMesh&&et.skinning===!1||!he.isSkinnedMesh&&et.skinning===!0||he.isInstancedMesh&&et.instancingColor===!0&&he.instanceColor===null||he.isInstancedMesh&&et.instancingColor===!1&&he.instanceColor!==null||et.envMap!==_t||ge.fog===!0&&et.fog!==qe||et.numClippingPlanes!==void 0&&(et.numClippingPlanes!==lt.numPlanes||et.numIntersection!==lt.numIntersection)||et.vertexAlphas!==Mt||et.vertexTangents!==bt||et.morphTargets!==Tt||et.morphNormals!==Pn||et.morphColors!==Tr||et.toneMapping!==_n||Pe.isWebGL2===!0&&et.morphTargetsCount!==wt)&&(Vt=!0):(Vt=!0,et.__version=ge.version);let Un=et.currentProgram;Vt===!0&&(Un=Ru(ge,le,he));let oo=!1,rs=!1,vr=!1;const Gn=Un.getUniforms(),ao=et.uniforms;if(we.useProgram(Un.program)&&(oo=!0,rs=!0,vr=!0),ge.id!==O&&(O=ge.id,rs=!0),oo||N!==H){Gn.setValue(X,"projectionMatrix",H.projectionMatrix),Gn.setValue(X,"viewMatrix",H.matrixWorldInverse);const Ar=Gn.map.cameraPosition;Ar!==void 0&&Ar.setValue(X,Be.setFromMatrixPosition(H.matrixWorld)),Pe.logarithmicDepthBuffer&&Gn.setValue(X,"logDepthBufFC",2/(Math.log(H.far+1)/Math.LN2)),(ge.isMeshPhongMaterial||ge.isMeshToonMaterial||ge.isMeshLambertMaterial||ge.isMeshBasicMaterial||ge.isMeshStandardMaterial||ge.isShaderMaterial)&&Gn.setValue(X,"isOrthographic",H.isOrthographicCamera===!0),N!==H&&(N=H,rs=!0,vr=!0)}if(he.isSkinnedMesh){Gn.setOptional(X,he,"bindMatrix"),Gn.setOptional(X,he,"bindMatrixInverse");const Ar=he.skeleton;Ar&&(Pe.floatVertexTextures?(Ar.boneTexture===null&&Ar.computeBoneTexture(),Gn.setValue(X,"boneTexture",Ar.boneTexture,z)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}he.isBatchedMesh&&(Gn.setOptional(X,he,"batchingTexture"),Gn.setValue(X,"batchingTexture",he._matricesTexture,z));const Pu=pe.morphAttributes;if((Pu.position!==void 0||Pu.normal!==void 0||Pu.color!==void 0&&Pe.isWebGL2===!0)&&Ct.update(he,pe,Un),(rs||et.receiveShadow!==he.receiveShadow)&&(et.receiveShadow=he.receiveShadow,Gn.setValue(X,"receiveShadow",he.receiveShadow)),ge.isMeshGouraudMaterial&&ge.envMap!==null&&(ao.envMap.value=_t,ao.flipEnvMap.value=_t.isCubeTexture&&_t.isRenderTargetTexture===!1?-1:1),rs&&(Gn.setValue(X,"toneMappingExposure",S.toneMappingExposure),et.needsLights&&cw(ao,vr),qe&&ge.fog===!0&&fe.refreshFogUniforms(ao,qe),fe.refreshMaterialUniforms(ao,ge,te,q,Ae),b0.upload(X,Tg(et),ao,z)),ge.isShaderMaterial&&ge.uniformsNeedUpdate===!0&&(b0.upload(X,Tg(et),ao,z),ge.uniformsNeedUpdate=!1),ge.isSpriteMaterial&&Gn.setValue(X,"center",he.center),Gn.setValue(X,"modelViewMatrix",he.modelViewMatrix),Gn.setValue(X,"normalMatrix",he.normalMatrix),Gn.setValue(X,"modelMatrix",he.matrixWorld),ge.isShaderMaterial||ge.isRawShaderMaterial){const Ar=ge.uniformsGroups;for(let Nu=0,Oi=Ar.length;Nu<Oi;Nu++)if(Pe.isWebGL2){const Cg=Ar[Nu];Xt.update(Cg,Un),Xt.bind(Cg,Un)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Un}function cw(H,le){H.ambientLightColor.needsUpdate=le,H.lightProbe.needsUpdate=le,H.directionalLights.needsUpdate=le,H.directionalLightShadows.needsUpdate=le,H.pointLights.needsUpdate=le,H.pointLightShadows.needsUpdate=le,H.spotLights.needsUpdate=le,H.spotLightShadows.needsUpdate=le,H.rectAreaLights.needsUpdate=le,H.hemisphereLights.needsUpdate=le}function uw(H){return H.isMeshLambertMaterial||H.isMeshToonMaterial||H.isMeshPhongMaterial||H.isMeshStandardMaterial||H.isShadowMaterial||H.isShaderMaterial&&H.lights===!0}this.getActiveCubeFace=function(){return C},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return I},this.setRenderTargetTextures=function(H,le,pe){He.get(H.texture).__webglTexture=le,He.get(H.depthTexture).__webglTexture=pe;const ge=He.get(H);ge.__hasExternalTextures=!0,ge.__hasExternalTextures&&(ge.__autoAllocateDepthBuffer=pe===void 0,ge.__autoAllocateDepthBuffer||ve.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ge.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(H,le){const pe=He.get(H);pe.__webglFramebuffer=le,pe.__useDefaultFramebuffer=le===void 0},this.setRenderTarget=function(H,le=0,pe=0){I=H,C=le,P=pe;let ge=!0,he=null,qe=!1,dt=!1;if(H){const _t=He.get(H);_t.__useDefaultFramebuffer!==void 0?(we.bindFramebuffer(X.FRAMEBUFFER,null),ge=!1):_t.__webglFramebuffer===void 0?z.setupRenderTarget(H):_t.__hasExternalTextures&&z.rebindTextures(H,He.get(H.texture).__webglTexture,He.get(H.depthTexture).__webglTexture);const Mt=H.texture;(Mt.isData3DTexture||Mt.isDataArrayTexture||Mt.isCompressedArrayTexture)&&(dt=!0);const bt=He.get(H).__webglFramebuffer;H.isWebGLCubeRenderTarget?(Array.isArray(bt[le])?he=bt[le][pe]:he=bt[le],qe=!0):Pe.isWebGL2&&H.samples>0&&z.useMultisampledRTT(H)===!1?he=He.get(H).__webglMultisampledFramebuffer:Array.isArray(bt)?he=bt[pe]:he=bt,k.copy(H.viewport),V.copy(H.scissor),W=H.scissorTest}else k.copy(j).multiplyScalar(te).floor(),V.copy(K).multiplyScalar(te).floor(),W=ee;if(we.bindFramebuffer(X.FRAMEBUFFER,he)&&Pe.drawBuffers&&ge&&we.drawBuffers(H,he),we.viewport(k),we.scissor(V),we.setScissorTest(W),qe){const _t=He.get(H.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+le,_t.__webglTexture,pe)}else if(dt){const _t=He.get(H.texture),Mt=le||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,_t.__webglTexture,pe||0,Mt)}O=-1},this.readRenderTargetPixels=function(H,le,pe,ge,he,qe,dt){if(!(H&&H.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let vt=He.get(H).__webglFramebuffer;if(H.isWebGLCubeRenderTarget&&dt!==void 0&&(vt=vt[dt]),vt){we.bindFramebuffer(X.FRAMEBUFFER,vt);try{const _t=H.texture,Mt=_t.format,bt=_t.type;if(Mt!==oi&&Ke.convert(Mt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Tt=bt===Nf&&(ve.has("EXT_color_buffer_half_float")||Pe.isWebGL2&&ve.has("EXT_color_buffer_float"));if(bt!==ko&&Ke.convert(bt)!==X.getParameter(X.IMPLEMENTATION_COLOR_READ_TYPE)&&!(bt===qs&&(Pe.isWebGL2||ve.has("OES_texture_float")||ve.has("WEBGL_color_buffer_float")))&&!Tt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}le>=0&&le<=H.width-ge&&pe>=0&&pe<=H.height-he&&X.readPixels(le,pe,ge,he,Ke.convert(Mt),Ke.convert(bt),qe)}finally{const _t=I!==null?He.get(I).__webglFramebuffer:null;we.bindFramebuffer(X.FRAMEBUFFER,_t)}}},this.copyFramebufferToTexture=function(H,le,pe=0){const ge=Math.pow(2,-pe),he=Math.floor(le.image.width*ge),qe=Math.floor(le.image.height*ge);z.setTexture2D(le,0),X.copyTexSubImage2D(X.TEXTURE_2D,pe,0,0,H.x,H.y,he,qe),we.unbindTexture()},this.copyTextureToTexture=function(H,le,pe,ge=0){const he=le.image.width,qe=le.image.height,dt=Ke.convert(pe.format),vt=Ke.convert(pe.type);z.setTexture2D(pe,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,pe.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,pe.unpackAlignment),le.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,ge,H.x,H.y,he,qe,dt,vt,le.image.data):le.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,ge,H.x,H.y,le.mipmaps[0].width,le.mipmaps[0].height,dt,le.mipmaps[0].data):X.texSubImage2D(X.TEXTURE_2D,ge,H.x,H.y,dt,vt,le.image),ge===0&&pe.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),we.unbindTexture()},this.copyTextureToTexture3D=function(H,le,pe,ge,he=0){if(S.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const qe=H.max.x-H.min.x+1,dt=H.max.y-H.min.y+1,vt=H.max.z-H.min.z+1,_t=Ke.convert(ge.format),Mt=Ke.convert(ge.type);let bt;if(ge.isData3DTexture)z.setTexture3D(ge,0),bt=X.TEXTURE_3D;else if(ge.isDataArrayTexture||ge.isCompressedArrayTexture)z.setTexture2DArray(ge,0),bt=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,ge.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ge.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,ge.unpackAlignment);const Tt=X.getParameter(X.UNPACK_ROW_LENGTH),Pn=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Tr=X.getParameter(X.UNPACK_SKIP_PIXELS),_n=X.getParameter(X.UNPACK_SKIP_ROWS),yr=X.getParameter(X.UNPACK_SKIP_IMAGES),wt=pe.isCompressedTexture?pe.mipmaps[he]:pe.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,wt.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,wt.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,H.min.x),X.pixelStorei(X.UNPACK_SKIP_ROWS,H.min.y),X.pixelStorei(X.UNPACK_SKIP_IMAGES,H.min.z),pe.isDataTexture||pe.isData3DTexture?X.texSubImage3D(bt,he,le.x,le.y,le.z,qe,dt,vt,_t,Mt,wt.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),X.compressedTexSubImage3D(bt,he,le.x,le.y,le.z,qe,dt,vt,_t,wt.data)):X.texSubImage3D(bt,he,le.x,le.y,le.z,qe,dt,vt,_t,Mt,wt),X.pixelStorei(X.UNPACK_ROW_LENGTH,Tt),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,Pn),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Tr),X.pixelStorei(X.UNPACK_SKIP_ROWS,_n),X.pixelStorei(X.UNPACK_SKIP_IMAGES,yr),he===0&&ge.generateMipmaps&&X.generateMipmap(bt),we.unbindTexture()},this.initTexture=function(H){H.isCubeTexture?z.setTextureCube(H,0):H.isData3DTexture?z.setTexture3D(H,0):H.isDataArrayTexture||H.isCompressedArrayTexture?z.setTexture2DArray(H,0):z.setTexture2D(H,0),we.unbindTexture()},this.resetState=function(){C=0,P=0,I=null,we.reset(),mt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ys}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===C_?"display-p3":"srgb",n.unpackColorSpace=un.workingColorSpace===ag?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===fr?Al:FC}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Al?fr:Bo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class cj extends qC{}cj.prototype.isWebGL1Renderer=!0;class N_{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Ye(e),this.density=n}clone(){return new N_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class I_{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Ye(e),this.near=n,this.far=r}clone(){return new I_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}let YC=class extends on{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}};class L_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Rm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Zi()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Zi()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ei=new G;class uu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ei.fromBufferAttribute(this,n),ei.applyMatrix4(e),this.setXYZ(n,ei.x,ei.y,ei.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ei.fromBufferAttribute(this,n),ei.applyNormalMatrix(e),this.setXYZ(n,ei.x,ei.y,ei.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ei.fromBufferAttribute(this,n),ei.transformDirection(e),this.setXYZ(n,ei.x,ei.y,ei.z);return this}setX(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ft(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ti(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ti(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ti(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ti(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ft(n,this.array),r=Ft(r,this.array),i=Ft(i,this.array),s=Ft(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new hn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new uu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class KC extends Zr{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let ud;const Yh=new G,dd=new G,fd=new G,hd=new Te,Kh=new Te,uj=new St,wv=new G,Zh=new G,Sv=new G,Tk=new Te,$S=new Te,Ak=new Te;class dj extends on{constructor(e=new KC){if(super(),this.isSprite=!0,this.type="Sprite",ud===void 0){ud=new zt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new L_(n,5);ud.setIndex([0,1,2,0,2,3]),ud.setAttribute("position",new uu(r,3,0,!1)),ud.setAttribute("uv",new uu(r,2,3,!1))}this.geometry=ud,this.material=e,this.center=new Te(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),dd.setFromMatrixScale(this.matrixWorld),uj.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),fd.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&dd.multiplyScalar(-fd.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const o=this.center;bv(wv.set(-.5,-.5,0),fd,o,dd,i,s),bv(Zh.set(.5,-.5,0),fd,o,dd,i,s),bv(Sv.set(.5,.5,0),fd,o,dd,i,s),Tk.set(0,0),$S.set(1,0),Ak.set(1,1);let a=e.ray.intersectTriangle(wv,Zh,Sv,!1,Yh);if(a===null&&(bv(Zh.set(-.5,.5,0),fd,o,dd,i,s),$S.set(0,1),a=e.ray.intersectTriangle(wv,Sv,Zh,!1,Yh),a===null))return;const l=e.ray.origin.distanceTo(Yh);l<e.near||l>e.far||n.push({distance:l,point:Yh.clone(),uv:Mi.getInterpolation(Yh,wv,Zh,Sv,Tk,$S,Ak,new Te),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function bv(t,e,n,r,i,s){hd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Kh.x=s*hd.x-i*hd.y,Kh.y=i*hd.x+s*hd.y):Kh.copy(hd),t.copy(e),t.x+=Kh.x,t.y+=Kh.y,t.applyMatrix4(uj)}const Ev=new G,Ck=new G;class fj extends on{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Ev.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Ev);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Ev.setFromMatrixPosition(e.matrixWorld),Ck.setFromMatrixPosition(this.matrixWorld);const r=Ev.distanceTo(Ck)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const Rk=new G,Pk=new dn,Nk=new dn,Zce=new G,Ik=new St,Mv=new G,XS=new Yr,Lk=new St,qS=new ih;class hj extends pr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=pM,this.bindMatrix=new St,this.bindMatrixInverse=new St,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new fi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Mv),this.boundingBox.expandByPoint(Mv)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Yr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Mv),this.boundingSphere.expandByPoint(Mv)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),XS.copy(this.boundingSphere),XS.applyMatrix4(i),e.ray.intersectsSphere(XS)!==!1&&(Lk.copy(i).invert(),qS.copy(e.ray).applyMatrix4(Lk),!(this.boundingBox!==null&&qS.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,qS)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new dn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===pM?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===EV?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;Pk.fromBufferAttribute(i.attributes.skinIndex,e),Nk.fromBufferAttribute(i.attributes.skinWeight,e),Rk.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const o=Nk.getComponent(s);if(o!==0){const a=Pk.getComponent(s);Ik.multiplyMatrices(r.bones[a].matrixWorld,r.boneInverses[a]),n.addScaledVector(Zce.copy(Rk).applyMatrix4(Ik),o)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class ZC extends on{constructor(){super(),this.isBone=!0,this.type="Bone"}}class eu extends Qn{constructor(e=null,n=1,r=1,i,s,o,a,l,c=Yn,u=Yn,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const kk=new St,Jce=new St;class k_{constructor(e=[],n=[]){this.uuid=Zi(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new St)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new St;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:Jce;kk.multiplyMatrices(a,n[s]),kk.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new k_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new eu(n,e,e,oi,qs);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let o=n[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new ZC),this.bones.push(o),this.boneInverses.push(new St().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const o=n[i];e.bones.push(o.uuid);const a=r[i];e.boneInverses.push(a.toArray())}return e}}class Df extends hn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const pd=new St,Dk=new St,Tv=[],Ok=new fi,Qce=new St,Jh=new pr,Qh=new Yr;class pj extends pr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Df(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Qce)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new fi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,pd),Ok.copy(e.boundingBox).applyMatrix4(pd),this.boundingBox.union(Ok)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Yr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,pd),Qh.copy(e.boundingSphere).applyMatrix4(pd),this.boundingSphere.union(Qh)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Jh.geometry=this.geometry,Jh.material=this.material,Jh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Qh.copy(this.boundingSphere),Qh.applyMatrix4(r),e.ray.intersectsSphere(Qh)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,pd),Dk.multiplyMatrices(r,pd),Jh.matrixWorld=Dk,Jh.raycast(e,Tv);for(let o=0,a=Tv.length;o<a;o++){const l=Tv[o];l.instanceId=s,l.object=this,n.push(l)}Tv.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Df(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function eue(t,e){return t.z-e.z}function tue(t,e){return e.z-t.z}class nue{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const md="batchId",Ya=new St,Fk=new St,rue=new St,Uk=new St,YS=new dg,Av=new fi,mc=new Yr,ep=new G,KS=new nue,Hr=new pr,Cv=[];function iue(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let o=0;o<r;o++)e.setComponent(s+n,o,t.getComponent(s,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class mj extends pr{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new zt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new eu(n,e,e,oi,qs);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const a in e.attributes){const l=e.getAttribute(a),{array:c,itemSize:u,normalized:f}=l,p=new c.constructor(r*u),m=new l.constructor(p,u,f);m.setUsage(l.usage),n.setAttribute(a,m)}if(e.getIndex()!==null){const a=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new hn(a,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(md,new hn(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(md))throw new Error(`BatchedMesh: Geometry cannot use attribute "${md}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===md)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fi);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Ya),this.getBoundingBoxAt(i,Av).applyMatrix4(Ya),n.union(Av))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Yr);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,Ya),this.getBoundingSphereAt(i,mc).applyMatrix4(Ya),n.union(mc))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const o=this._reservedRanges,a=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,p=this._active,m=this._matricesTexture,y=this._matricesTexture.image.data;f.push(!0),p.push(!0);const x=this._geometryCount;this._geometryCount++,rue.toArray(y,x*16),m.needsUpdate=!0,o.push(i),a.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new fi,sphereInitialized:!1,sphere:new Yr});const v=this.geometry.getAttribute(md);for(let g=0;g<i.vertexCount;g++)v.setX(i.vertexStart+g,x);return v.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),o=n.getIndex(),a=this._reservedRanges[e];if(i&&o.count>a.indexCount||n.attributes.position.count>a.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=a.vertexStart,c=a.vertexCount;for(const m in r.attributes){if(m===md)continue;const y=n.getAttribute(m),x=r.getAttribute(m);iue(y,x,l);const v=y.itemSize;for(let g=y.count,w=c;g<w;g++){const S=l+g;for(let M=0;M<v;M++)x.setComponent(S,M,0)}x.needsUpdate=!0}if(i){const m=a.indexStart;for(let y=0;y<o.count;y++)s.setX(m+y,l+o.getX(y));for(let y=o.count,x=a.indexCount;y<x;y++)s.setX(m+y,l);s.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const f=this._drawRanges[e],p=n.getAttribute("position");return f.count=i?o.count:p.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,o=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const a=o.index,l=o.attributes.position,c=this._drawRanges[e];for(let u=c.start,f=c.start+c.count;u<f;u++){let p=u;a&&(p=a.getX(p)),s.expandByPoint(ep.fromBufferAttribute(l,p))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Av),Av.getCenter(s.center);const a=o.index,l=o.attributes.position,c=this._drawRanges[e];let u=0;for(let f=c.start,p=c.start+c.count;f<p;f++){let m=f;a&&(m=a.getX(m)),ep.fromBufferAttribute(l,m),u=Math.max(u,s.center.distanceToSquared(ep))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,o=this._geometryCount,a=this.matrixWorld,l=this.geometry;Hr.material=this.material,Hr.geometry.index=l.index,Hr.geometry.attributes=l.attributes,Hr.geometry.boundingBox===null&&(Hr.geometry.boundingBox=new fi),Hr.geometry.boundingSphere===null&&(Hr.geometry.boundingSphere=new Yr);for(let c=0;c<o;c++){if(!r[c]||!i[c])continue;const u=s[c];Hr.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,Hr.matrixWorld).premultiply(a),this.getBoundingBoxAt(c,Hr.geometry.boundingBox),this.getBoundingSphereAt(c,Hr.geometry.boundingSphere),Hr.raycast(e,Cv);for(let f=0,p=Cv.length;f<p;f++){const m=Cv[f];m.object=this,m.batchId=c,n.push(m)}Cv.length=0}Hr.material=null,Hr.geometry.index=null,Hr.geometry.attributes={},Hr.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),a=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,f=this._drawRanges,p=this.perObjectFrustumCulled;p&&(Uk.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),YS.setFromProjectionMatrix(Uk,e.isWebGPURenderer?If:Ys));let m=0;if(this.sortObjects){Fk.copy(this.matrixWorld).invert(),ep.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Fk);for(let v=0,g=l.length;v<g;v++)if(l[v]){this.getMatrixAt(v,Ya),this.getBoundingSphereAt(v,mc).applyMatrix4(Ya);let w=!1;if(p&&(w=!YS.intersectsSphere(mc)),!w){const S=ep.distanceTo(mc.center);KS.push(f[v],S)}}const y=KS.list,x=this.customSort;x===null?y.sort(s.transparent?tue:eue):x.call(this,y,r);for(let v=0,g=y.length;v<g;v++){const w=y[v];c[m]=w.start*a,u[m]=w.count,m++}KS.reset()}else for(let y=0,x=l.length;y<x;y++)if(l[y]){let v=!1;if(p&&(this.getMatrixAt(y,Ya),this.getBoundingSphereAt(y,mc).applyMatrix4(Ya),v=!YS.intersectsSphere(mc)),!v){const g=f[y];c[m]=g.start*a,u[m]=g.count,m++}}this._multiDrawCount=m,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,o){this.onBeforeRender(e,null,i,s,o)}}class gi extends Zr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Ye(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Bk=new G,zk=new G,Vk=new St,ZS=new ih,Rv=new Yr;class Fl extends on{constructor(e=new zt,n=new gi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Bk.fromBufferAttribute(n,i-1),zk.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Bk.distanceTo(zk);e.setAttribute("lineDistance",new st(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Rv.copy(r.boundingSphere),Rv.applyMatrix4(i),Rv.radius+=s,e.ray.intersectsSphere(Rv)===!1)return;Vk.copy(i).invert(),ZS.copy(e.ray).applyMatrix4(Vk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=new G,u=new G,f=new G,p=new G,m=this.isLineSegments?2:1,y=r.index,v=r.attributes.position;if(y!==null){const g=Math.max(0,o.start),w=Math.min(y.count,o.start+o.count);for(let S=g,M=w-1;S<M;S+=m){const C=y.getX(S),P=y.getX(S+1);if(c.fromBufferAttribute(v,C),u.fromBufferAttribute(v,P),ZS.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const O=e.ray.origin.distanceTo(p);O<e.near||O>e.far||n.push({distance:O,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}else{const g=Math.max(0,o.start),w=Math.min(v.count,o.start+o.count);for(let S=g,M=w-1;S<M;S+=m){if(c.fromBufferAttribute(v,S),u.fromBufferAttribute(v,S+1),ZS.distanceSqToSegment(c,u,p,f)>l)continue;p.applyMatrix4(this.matrixWorld);const P=e.ray.origin.distanceTo(p);P<e.near||P>e.far||n.push({distance:P,point:f.clone().applyMatrix4(this.matrixWorld),index:S,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}const jk=new G,Hk=new G;class Vo extends Fl{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)jk.fromBufferAttribute(n,i),Hk.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+jk.distanceTo(Hk);e.setAttribute("lineDistance",new st(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class gj extends Fl{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class JC extends Zr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Ye(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Wk=new St,GM=new ih,Pv=new Yr,Nv=new G;class yj extends on{constructor(e=new zt,n=new JC){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Pv.copy(r.boundingSphere),Pv.applyMatrix4(i),Pv.radius+=s,e.ray.intersectsSphere(Pv)===!1)return;Wk.copy(i).invert(),GM.copy(e.ray).applyMatrix4(Wk);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=r.index,f=r.attributes.position;if(c!==null){const p=Math.max(0,o.start),m=Math.min(c.count,o.start+o.count);for(let y=p,x=m;y<x;y++){const v=c.getX(y);Nv.fromBufferAttribute(f,v),Gk(Nv,v,l,i,e,n,this)}}else{const p=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let y=p,x=m;y<x;y++)Nv.fromBufferAttribute(f,y),Gk(Nv,y,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Gk(t,e,n,r,i,s,o){const a=GM.distanceSqToPoint(t);if(a<n){const l=new G;GM.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,object:o})}}class sue extends Qn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Zn,this.magFilter=s!==void 0?s:Zn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class oue extends Qn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Yn,this.minFilter=Yn,this.generateMipmaps=!1,this.needsUpdate=!0}}class D_ extends Qn{constructor(e,n,r,i,s,o,a,l,c,u,f,p){super(null,o,a,l,c,u,i,s,f,p),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class aue extends D_{constructor(e,n,r,i,s,o){super(e,n,r,s,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=$r}}class lue extends D_{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ma),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class cue extends Qn{constructor(e,n,r,i,s,o,a,l,c){super(e,n,r,i,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class ro{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let o;n?o=n:o=e*r[s-1];let a=0,l=s-1,c;for(;a<=l;)if(i=Math.floor(a+(l-a)/2),c=r[i]-o,c<0)a=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(s-1);const u=r[i],p=r[i+1]-u,m=(o-u)/p;return(i+m)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const o=this.getPoint(i),a=this.getPoint(s),l=n||(o.isVector2?new Te:new G);return l.copy(a).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new G,i=[],s=[],o=[],a=new G,l=new St;for(let m=0;m<=e;m++){const y=m/e;i[m]=this.getTangentAt(y,new G)}s[0]=new G,o[0]=new G;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),p=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),p<=c&&r.set(0,0,1),a.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],a),o[0].crossVectors(i[0],s[0]);for(let m=1;m<=e;m++){if(s[m]=s[m-1].clone(),o[m]=o[m-1].clone(),a.crossVectors(i[m-1],i[m]),a.length()>Number.EPSILON){a.normalize();const y=Math.acos(Wn(i[m-1].dot(i[m]),-1,1));s[m].applyMatrix4(l.makeRotationAxis(a,y))}o[m].crossVectors(i[m],s[m])}if(n===!0){let m=Math.acos(Wn(s[0].dot(s[e]),-1,1));m/=e,i[0].dot(a.crossVectors(s[0],s[e]))>0&&(m=-m);for(let y=1;y<=e;y++)s[y].applyMatrix4(l.makeRotationAxis(i[y],m*y)),o[y].crossVectors(i[y],s[y])}return{tangents:i,normals:s,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class O_ extends ro{constructor(e=0,n=0,r=1,i=1,s=0,o=Math.PI*2,a=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=l}getPoint(e,n){const r=n||new Te,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(o?s=0:s=i),this.aClockwise===!0&&!o&&(s===i?s=-i:s=s-i);const a=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(a),c=this.aY+this.yRadius*Math.sin(a);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),p=l-this.aX,m=c-this.aY;l=p*u-m*f+this.aX,c=p*f+m*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class vj extends O_{constructor(e,n,r,i,s,o){super(e,n,r,r,i,s,o),this.isArcCurve=!0,this.type="ArcCurve"}}function QC(){let t=0,e=0,n=0,r=0;function i(s,o,a,l){t=s,e=a,n=-3*s+3*o-2*a-l,r=2*s-2*o+a+l}return{initCatmullRom:function(s,o,a,l,c){i(o,a,c*(a-s),c*(l-o))},initNonuniformCatmullRom:function(s,o,a,l,c,u,f){let p=(o-s)/c-(a-s)/(c+u)+(a-o)/u,m=(a-o)/u-(l-o)/(u+f)+(l-a)/f;p*=u,m*=u,i(o,a,p,m)},calc:function(s){const o=s*s,a=o*s;return t+e*s+n*o+r*a}}}const Iv=new G,JS=new QC,QS=new QC,eb=new QC;class xj extends ro{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new G){const r=n,i=this.points,s=i.length,o=(s-(this.closed?0:1))*e;let a=Math.floor(o),l=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:l===0&&a===s-1&&(a=s-2,l=1);let c,u;this.closed||a>0?c=i[(a-1)%s]:(Iv.subVectors(i[0],i[1]).add(i[0]),c=Iv);const f=i[a%s],p=i[(a+1)%s];if(this.closed||a+2<s?u=i[(a+2)%s]:(Iv.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Iv),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let y=Math.pow(c.distanceToSquared(f),m),x=Math.pow(f.distanceToSquared(p),m),v=Math.pow(p.distanceToSquared(u),m);x<1e-4&&(x=1),y<1e-4&&(y=x),v<1e-4&&(v=x),JS.initNonuniformCatmullRom(c.x,f.x,p.x,u.x,y,x,v),QS.initNonuniformCatmullRom(c.y,f.y,p.y,u.y,y,x,v),eb.initNonuniformCatmullRom(c.z,f.z,p.z,u.z,y,x,v)}else this.curveType==="catmullrom"&&(JS.initCatmullRom(c.x,f.x,p.x,u.x,this.tension),QS.initCatmullRom(c.y,f.y,p.y,u.y,this.tension),eb.initCatmullRom(c.z,f.z,p.z,u.z,this.tension));return r.set(JS.calc(l),QS.calc(l),eb.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new G().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function $k(t,e,n,r,i){const s=(r-e)*.5,o=(i-n)*.5,a=t*t,l=t*a;return(2*n-2*r+s+o)*l+(-3*n+3*r-2*s-o)*a+s*t+n}function uue(t,e){const n=1-t;return n*n*e}function due(t,e){return 2*(1-t)*t*e}function fue(t,e){return t*t*e}function Fp(t,e,n,r){return uue(t,e)+due(t,n)+fue(t,r)}function hue(t,e){const n=1-t;return n*n*n*e}function pue(t,e){const n=1-t;return 3*n*n*t*e}function mue(t,e){return 3*(1-t)*t*t*e}function gue(t,e){return t*t*t*e}function Up(t,e,n,r,i){return hue(t,e)+pue(t,n)+mue(t,r)+gue(t,i)}class eR extends ro{constructor(e=new Te,n=new Te,r=new Te,i=new Te){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Te){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Up(e,i.x,s.x,o.x,a.x),Up(e,i.y,s.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class _j extends ro{constructor(e=new G,n=new G,r=new G,i=new G){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new G){const r=n,i=this.v0,s=this.v1,o=this.v2,a=this.v3;return r.set(Up(e,i.x,s.x,o.x,a.x),Up(e,i.y,s.y,o.y,a.y),Up(e,i.z,s.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tR extends ro{constructor(e=new Te,n=new Te){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Te){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Te){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class wj extends ro{constructor(e=new G,n=new G){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new G){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new G){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nR extends ro{constructor(e=new Te,n=new Te,r=new Te){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Te){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Fp(e,i.x,s.x,o.x),Fp(e,i.y,s.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rR extends ro{constructor(e=new G,n=new G,r=new G){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new G){const r=n,i=this.v0,s=this.v1,o=this.v2;return r.set(Fp(e,i.x,s.x,o.x),Fp(e,i.y,s.y,o.y),Fp(e,i.z,s.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class iR extends ro{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Te){const r=n,i=this.points,s=(i.length-1)*e,o=Math.floor(s),a=s-o,l=i[o===0?o:o-1],c=i[o],u=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set($k(a,l.x,c.x,u.x,f.x),$k(a,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Te().fromArray(i))}return this}}var wx=Object.freeze({__proto__:null,ArcCurve:vj,CatmullRomCurve3:xj,CubicBezierCurve:eR,CubicBezierCurve3:_j,EllipseCurve:O_,LineCurve:tR,LineCurve3:wj,QuadraticBezierCurve:nR,QuadraticBezierCurve3:rR,SplineCurve:iR});class Sj extends ro{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new wx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const o=i[s]-r,a=this.curves[s],l=a.getLength(),c=l===0?0:1-o/l;return a.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const o=s[i],a=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(a);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new wx[i.type]().fromJSON(i))}return this}}class Nm extends Sj{constructor(e){super(),this.type="Path",this.currentPoint=new Te,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new tR(this.currentPoint.clone(),new Te(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new nR(this.currentPoint.clone(),new Te(e,n),new Te(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,o){const a=new eR(this.currentPoint.clone(),new Te(e,n),new Te(r,i),new Te(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new iR(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,o){const a=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+a,n+l,r,i,s,o),this}absarc(e,n,r,i,s,o){return this.absellipse(e,n,r,r,i,s,o),this}ellipse(e,n,r,i,s,o,a,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,o,a,l),this}absellipse(e,n,r,i,s,o,a,l){const c=new O_(e,n,r,i,s,o,a,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class pg extends zt{constructor(e=[new Te(0,-.5),new Te(.5,0),new Te(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Wn(i,0,Math.PI*2);const s=[],o=[],a=[],l=[],c=[],u=1/n,f=new G,p=new Te,m=new G,y=new G,x=new G;let v=0,g=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:v=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-v,m.z=g*0,x.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(x.x,x.y,x.z);break;default:v=e[w+1].x-e[w].x,g=e[w+1].y-e[w].y,m.x=g*1,m.y=-v,m.z=g*0,y.copy(m),m.x+=x.x,m.y+=x.y,m.z+=x.z,m.normalize(),l.push(m.x,m.y,m.z),x.copy(y)}for(let w=0;w<=n;w++){const S=r+w*u*i,M=Math.sin(S),C=Math.cos(S);for(let P=0;P<=e.length-1;P++){f.x=e[P].x*M,f.y=e[P].y,f.z=e[P].x*C,o.push(f.x,f.y,f.z),p.x=w/n,p.y=P/(e.length-1),a.push(p.x,p.y);const I=l[3*P+0]*M,O=l[3*P+1],N=l[3*P+0]*C;c.push(I,O,N)}}for(let w=0;w<n;w++)for(let S=0;S<e.length-1;S++){const M=S+w*e.length,C=M,P=M+e.length,I=M+e.length+1,O=M+1;s.push(C,P,O),s.push(I,O,P)}this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("uv",new st(a,2)),this.setAttribute("normal",new st(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new pg(e.points,e.segments,e.phiStart,e.phiLength)}}class F_ extends pg{constructor(e=1,n=1,r=4,i=8){const s=new Nm;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new F_(e.radius,e.length,e.capSegments,e.radialSegments)}}class U_ extends zt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],o=[],a=[],l=[],c=new G,u=new Te;o.push(0,0,0),a.push(0,0,1),l.push(.5,.5);for(let f=0,p=3;f<=n;f++,p+=3){const m=r+f/n*i;c.x=e*Math.cos(m),c.y=e*Math.sin(m),o.push(c.x,c.y,c.z),a.push(0,0,1),u.x=(o[p]/e+1)/2,u.y=(o[p+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new st(o,3)),this.setAttribute("normal",new st(a,3)),this.setAttribute("uv",new st(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class oh extends zt{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],p=[],m=[];let y=0;const x=[],v=r/2;let g=0;w(),o===!1&&(e>0&&S(!0),n>0&&S(!1)),this.setIndex(u),this.setAttribute("position",new st(f,3)),this.setAttribute("normal",new st(p,3)),this.setAttribute("uv",new st(m,2));function w(){const M=new G,C=new G;let P=0;const I=(n-e)/r;for(let O=0;O<=s;O++){const N=[],k=O/s,V=k*(n-e)+e;for(let W=0;W<=i;W++){const Q=W/i,U=Q*l+a,Y=Math.sin(U),q=Math.cos(U);C.x=V*Y,C.y=-k*r+v,C.z=V*q,f.push(C.x,C.y,C.z),M.set(Y,I,q).normalize(),p.push(M.x,M.y,M.z),m.push(Q,1-k),N.push(y++)}x.push(N)}for(let O=0;O<i;O++)for(let N=0;N<s;N++){const k=x[N][O],V=x[N+1][O],W=x[N+1][O+1],Q=x[N][O+1];u.push(k,V,Q),u.push(V,W,Q),P+=6}c.addGroup(g,P,0),g+=P}function S(M){const C=y,P=new Te,I=new G;let O=0;const N=M===!0?e:n,k=M===!0?1:-1;for(let W=1;W<=i;W++)f.push(0,v*k,0),p.push(0,k,0),m.push(.5,.5),y++;const V=y;for(let W=0;W<=i;W++){const U=W/i*l+a,Y=Math.cos(U),q=Math.sin(U);I.x=N*q,I.y=v*k,I.z=N*Y,f.push(I.x,I.y,I.z),p.push(0,k,0),P.x=Y*.5+.5,P.y=q*.5*k+.5,m.push(P.x,P.y),y++}for(let W=0;W<i;W++){const Q=C+W,U=V+W;M===!0?u.push(U,U+1,Q):u.push(U+1,U,Q),O+=3}c.addGroup(g,O,M===!0?1:2),g+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class B_ extends oh{constructor(e=1,n=1,r=32,i=1,s=!1,o=0,a=Math.PI*2){super(0,e,n,r,i,s,o,a),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:o,thetaLength:a}}static fromJSON(e){return new B_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Kl extends zt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],o=[];a(i),c(r),u(),this.setAttribute("position",new st(s,3)),this.setAttribute("normal",new st(s.slice(),3)),this.setAttribute("uv",new st(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function a(w){const S=new G,M=new G,C=new G;for(let P=0;P<n.length;P+=3)m(n[P+0],S),m(n[P+1],M),m(n[P+2],C),l(S,M,C,w)}function l(w,S,M,C){const P=C+1,I=[];for(let O=0;O<=P;O++){I[O]=[];const N=w.clone().lerp(M,O/P),k=S.clone().lerp(M,O/P),V=P-O;for(let W=0;W<=V;W++)W===0&&O===P?I[O][W]=N:I[O][W]=N.clone().lerp(k,W/V)}for(let O=0;O<P;O++)for(let N=0;N<2*(P-O)-1;N++){const k=Math.floor(N/2);N%2===0?(p(I[O][k+1]),p(I[O+1][k]),p(I[O][k])):(p(I[O][k+1]),p(I[O+1][k+1]),p(I[O+1][k]))}}function c(w){const S=new G;for(let M=0;M<s.length;M+=3)S.x=s[M+0],S.y=s[M+1],S.z=s[M+2],S.normalize().multiplyScalar(w),s[M+0]=S.x,s[M+1]=S.y,s[M+2]=S.z}function u(){const w=new G;for(let S=0;S<s.length;S+=3){w.x=s[S+0],w.y=s[S+1],w.z=s[S+2];const M=v(w)/2/Math.PI+.5,C=g(w)/Math.PI+.5;o.push(M,1-C)}y(),f()}function f(){for(let w=0;w<o.length;w+=6){const S=o[w+0],M=o[w+2],C=o[w+4],P=Math.max(S,M,C),I=Math.min(S,M,C);P>.9&&I<.1&&(S<.2&&(o[w+0]+=1),M<.2&&(o[w+2]+=1),C<.2&&(o[w+4]+=1))}}function p(w){s.push(w.x,w.y,w.z)}function m(w,S){const M=w*3;S.x=e[M+0],S.y=e[M+1],S.z=e[M+2]}function y(){const w=new G,S=new G,M=new G,C=new G,P=new Te,I=new Te,O=new Te;for(let N=0,k=0;N<s.length;N+=9,k+=6){w.set(s[N+0],s[N+1],s[N+2]),S.set(s[N+3],s[N+4],s[N+5]),M.set(s[N+6],s[N+7],s[N+8]),P.set(o[k+0],o[k+1]),I.set(o[k+2],o[k+3]),O.set(o[k+4],o[k+5]),C.copy(w).add(S).add(M).divideScalar(3);const V=v(C);x(P,k+0,w,V),x(I,k+2,S,V),x(O,k+4,M,V)}}function x(w,S,M,C){C<0&&w.x===1&&(o[S]=w.x-1),M.x===0&&M.z===0&&(o[S]=C/2/Math.PI+.5)}function v(w){return Math.atan2(w.z,-w.x)}function g(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Kl(e.vertices,e.indices,e.radius,e.details)}}class z_ extends Kl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new z_(e.radius,e.detail)}}const Lv=new G,kv=new G,tb=new G,Dv=new Mi;class bj extends zt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Jc*n),o=e.getIndex(),a=e.getAttribute("position"),l=o?o.count:a.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),p={},m=[];for(let y=0;y<l;y+=3){o?(c[0]=o.getX(y),c[1]=o.getX(y+1),c[2]=o.getX(y+2)):(c[0]=y,c[1]=y+1,c[2]=y+2);const{a:x,b:v,c:g}=Dv;if(x.fromBufferAttribute(a,c[0]),v.fromBufferAttribute(a,c[1]),g.fromBufferAttribute(a,c[2]),Dv.getNormal(tb),f[0]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,f[2]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const S=(w+1)%3,M=f[w],C=f[S],P=Dv[u[w]],I=Dv[u[S]],O=`${M}_${C}`,N=`${C}_${M}`;N in p&&p[N]?(tb.dot(p[N].normal)<=s&&(m.push(P.x,P.y,P.z),m.push(I.x,I.y,I.z)),p[N]=null):O in p||(p[O]={index0:c[w],index1:c[S],normal:tb.clone()})}}for(const y in p)if(p[y]){const{index0:x,index1:v}=p[y];Lv.fromBufferAttribute(a,x),kv.fromBufferAttribute(a,v),m.push(Lv.x,Lv.y,Lv.z),m.push(kv.x,kv.y,kv.z)}this.setAttribute("position",new st(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class tu extends Nm{constructor(e){super(e),this.uuid=Zi(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Nm().fromJSON(i))}return this}}const yue={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=Ej(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,f,p,m;if(r&&(s=Sue(t,e,s,n)),t.length>80*n){a=c=t[0],l=u=t[1];for(let y=n;y<i;y+=n)f=t[y],p=t[y+1],f<a&&(a=f),p<l&&(l=p),f>c&&(c=f),p>u&&(u=p);m=Math.max(c-a,u-l),m=m!==0?32767/m:0}return Im(s,o,n,a,l,m,0),o}};function Ej(t,e,n,r,i){let s,o;if(i===Lue(t,e,n,r)>0)for(s=e;s<n;s+=r)o=Xk(s,t[s],t[s+1],o);else for(s=n-r;s>=e;s-=r)o=Xk(s,t[s],t[s+1],o);return o&&V_(o,o.next)&&(km(o),o=o.next),o}function du(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(V_(n,n.next)||Dn(n.prev,n,n.next)===0)){if(km(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Im(t,e,n,r,i,s,o){if(!t)return;!o&&s&&Aue(t,r,i,s);let a=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?xue(t,r,i,s):vue(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),km(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=_ue(du(t),e,n),Im(t,e,n,r,i,s,2)):o===2&&wue(t,e,n,r,i,s):Im(du(t),e,n,r,i,s,1);break}}}function vue(t){const e=t.prev,n=t,r=t.next;if(Dn(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,c=r.y,u=i<s?i<o?i:o:s<o?s:o,f=a<l?a<c?a:c:l<c?l:c,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>c?a:c:l>c?l:c;let y=r.next;for(;y!==e;){if(y.x>=u&&y.x<=p&&y.y>=f&&y.y<=m&&Gd(i,a,s,l,o,c,y.x,y.y)&&Dn(y.prev,y,y.next)>=0)return!1;y=y.next}return!0}function xue(t,e,n,r){const i=t.prev,s=t,o=t.next;if(Dn(i,s,o)>=0)return!1;const a=i.x,l=s.x,c=o.x,u=i.y,f=s.y,p=o.y,m=a<l?a<c?a:c:l<c?l:c,y=u<f?u<p?u:p:f<p?f:p,x=a>l?a>c?a:c:l>c?l:c,v=u>f?u>p?u:p:f>p?f:p,g=$M(m,y,e,n,r),w=$M(x,v,e,n,r);let S=t.prevZ,M=t.nextZ;for(;S&&S.z>=g&&M&&M.z<=w;){if(S.x>=m&&S.x<=x&&S.y>=y&&S.y<=v&&S!==i&&S!==o&&Gd(a,u,l,f,c,p,S.x,S.y)&&Dn(S.prev,S,S.next)>=0||(S=S.prevZ,M.x>=m&&M.x<=x&&M.y>=y&&M.y<=v&&M!==i&&M!==o&&Gd(a,u,l,f,c,p,M.x,M.y)&&Dn(M.prev,M,M.next)>=0))return!1;M=M.nextZ}for(;S&&S.z>=g;){if(S.x>=m&&S.x<=x&&S.y>=y&&S.y<=v&&S!==i&&S!==o&&Gd(a,u,l,f,c,p,S.x,S.y)&&Dn(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;M&&M.z<=w;){if(M.x>=m&&M.x<=x&&M.y>=y&&M.y<=v&&M!==i&&M!==o&&Gd(a,u,l,f,c,p,M.x,M.y)&&Dn(M.prev,M,M.next)>=0)return!1;M=M.nextZ}return!0}function _ue(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!V_(i,s)&&Mj(i,r,r.next,s)&&Lm(i,s)&&Lm(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),km(r),km(r.next),r=t=s),r=r.next}while(r!==t);return du(r)}function wue(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Pue(o,a)){let l=Tj(o,a);o=du(o,o.next),l=du(l,l.next),Im(o,e,n,r,i,s,0),Im(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function Sue(t,e,n,r){const i=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,c=Ej(t,a,l,r,!1),c===c.next&&(c.steiner=!0),i.push(Rue(c));for(i.sort(bue),s=0;s<i.length;s++)n=Eue(i[s],n);return n}function bue(t,e){return t.x-e.x}function Eue(t,e){const n=Mue(t,e);if(!n)return e;const r=Tj(n,t);return du(r,r.next),du(n,n.next)}function Mue(t,e){let n=e,r=-1/0,i;const s=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const p=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(p<=s&&p>r&&(r=p,i=n.x<n.next.x?n:n.next,p===s))return i}n=n.next}while(n!==e);if(!i)return null;const a=i,l=i.x,c=i.y;let u=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Gd(o<c?s:r,o,l,c,o<c?r:s,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(s-n.x),Lm(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&Tue(i,n)))&&(i=n,u=f)),n=n.next;while(n!==a);return i}function Tue(t,e){return Dn(t.prev,t,e.prev)<0&&Dn(e.next,t,t.next)<0}function Aue(t,e,n,r){let i=t;do i.z===0&&(i.z=$M(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,Cue(i)}function Cue(t){let e,n,r,i,s,o,a,l,c=1;do{for(n=t,t=null,s=null,o=0;n;){for(o++,r=n,a=0,e=0;e<c&&(a++,r=r.nextZ,!!r);e++);for(l=c;a>0||l>0&&r;)a!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,a--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(o>1);return t}function $M(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function Rue(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Gd(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Pue(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!Nue(t,e)&&(Lm(t,e)&&Lm(e,t)&&Iue(t,e)&&(Dn(t.prev,t,e.prev)||Dn(t,e.prev,e))||V_(t,e)&&Dn(t.prev,t,t.next)>0&&Dn(e.prev,e,e.next)>0)}function Dn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function V_(t,e){return t.x===e.x&&t.y===e.y}function Mj(t,e,n,r){const i=Fv(Dn(t,e,n)),s=Fv(Dn(t,e,r)),o=Fv(Dn(n,r,t)),a=Fv(Dn(n,r,e));return!!(i!==s&&o!==a||i===0&&Ov(t,n,e)||s===0&&Ov(t,r,e)||o===0&&Ov(n,t,r)||a===0&&Ov(n,e,r))}function Ov(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Fv(t){return t>0?1:t<0?-1:0}function Nue(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Mj(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Lm(t,e){return Dn(t.prev,t,t.next)<0?Dn(t,e,t.next)>=0&&Dn(t,t.prev,e)>=0:Dn(t,e,t.prev)<0||Dn(t,t.next,e)<0}function Iue(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Tj(t,e){const n=new XM(t.i,t.x,t.y),r=new XM(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Xk(t,e,n,r){const i=new XM(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function km(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function XM(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Lue(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}class Do{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return Do.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];qk(e),Yk(r,e);let o=e.length;n.forEach(qk);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,Yk(r,n[l]);const a=yue.triangulate(r,i);for(let l=0;l<a.length;l+=3)s.push(a.slice(l,l+3));return s}}function qk(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Yk(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class j_ extends zt{constructor(e=new tu([new Te(.5,.5),new Te(-.5,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let a=0,l=e.length;a<l;a++){const c=e[a];o(c)}this.setAttribute("position",new st(i,3)),this.setAttribute("uv",new st(s,2)),this.computeVertexNormals();function o(a){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let p=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,y=n.bevelSize!==void 0?n.bevelSize:m-.1,x=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const g=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:kue;let S,M=!1,C,P,I,O;g&&(S=g.getSpacedPoints(u),M=!0,p=!1,C=g.computeFrenetFrames(u,!1),P=new G,I=new G,O=new G),p||(v=0,m=0,y=0,x=0);const N=a.extractPoints(c);let k=N.shape;const V=N.holes;if(!Do.isClockWise(k)){k=k.reverse();for(let X=0,Ee=V.length;X<Ee;X++){const ve=V[X];Do.isClockWise(ve)&&(V[X]=ve.reverse())}}const Q=Do.triangulateShape(k,V),U=k;for(let X=0,Ee=V.length;X<Ee;X++){const ve=V[X];k=k.concat(ve)}function Y(X,Ee,ve){return Ee||console.error("THREE.ExtrudeGeometry: vec does not exist"),X.clone().addScaledVector(Ee,ve)}const q=k.length,te=Q.length;function D(X,Ee,ve){let Pe,we,Je;const He=X.x-Ee.x,z=X.y-Ee.y,R=ve.x-X.x,B=ve.y-X.y,Z=He*He+z*z,oe=He*B-z*R;if(Math.abs(oe)>Number.EPSILON){const ie=Math.sqrt(Z),de=Math.sqrt(R*R+B*B),fe=Ee.x-z/ie,Ce=Ee.y+He/ie,ze=ve.x-B/de,lt=ve.y+R/de,Me=((ze-fe)*B-(lt-Ce)*R)/(He*B-z*R);Pe=fe+He*Me-X.x,we=Ce+z*Me-X.y;const At=Pe*Pe+we*we;if(At<=2)return new Te(Pe,we);Je=Math.sqrt(At/2)}else{let ie=!1;He>Number.EPSILON?R>Number.EPSILON&&(ie=!0):He<-Number.EPSILON?R<-Number.EPSILON&&(ie=!0):Math.sign(z)===Math.sign(B)&&(ie=!0),ie?(Pe=-z,we=He,Je=Math.sqrt(Z)):(Pe=He,we=z,Je=Math.sqrt(Z/2))}return new Te(Pe/Je,we/Je)}const F=[];for(let X=0,Ee=U.length,ve=Ee-1,Pe=X+1;X<Ee;X++,ve++,Pe++)ve===Ee&&(ve=0),Pe===Ee&&(Pe=0),F[X]=D(U[X],U[ve],U[Pe]);const j=[];let K,ee=F.concat();for(let X=0,Ee=V.length;X<Ee;X++){const ve=V[X];K=[];for(let Pe=0,we=ve.length,Je=we-1,He=Pe+1;Pe<we;Pe++,Je++,He++)Je===we&&(Je=0),He===we&&(He=0),K[Pe]=D(ve[Pe],ve[Je],ve[He]);j.push(K),ee=ee.concat(K)}for(let X=0;X<v;X++){const Ee=X/v,ve=m*Math.cos(Ee*Math.PI/2),Pe=y*Math.sin(Ee*Math.PI/2)+x;for(let we=0,Je=U.length;we<Je;we++){const He=Y(U[we],F[we],Pe);ce(He.x,He.y,-ve)}for(let we=0,Je=V.length;we<Je;we++){const He=V[we];K=j[we];for(let z=0,R=He.length;z<R;z++){const B=Y(He[z],K[z],Pe);ce(B.x,B.y,-ve)}}}const J=y+x;for(let X=0;X<q;X++){const Ee=p?Y(k[X],ee[X],J):k[X];M?(I.copy(C.normals[0]).multiplyScalar(Ee.x),P.copy(C.binormals[0]).multiplyScalar(Ee.y),O.copy(S[0]).add(I).add(P),ce(O.x,O.y,O.z)):ce(Ee.x,Ee.y,0)}for(let X=1;X<=u;X++)for(let Ee=0;Ee<q;Ee++){const ve=p?Y(k[Ee],ee[Ee],J):k[Ee];M?(I.copy(C.normals[X]).multiplyScalar(ve.x),P.copy(C.binormals[X]).multiplyScalar(ve.y),O.copy(S[X]).add(I).add(P),ce(O.x,O.y,O.z)):ce(ve.x,ve.y,f/u*X)}for(let X=v-1;X>=0;X--){const Ee=X/v,ve=m*Math.cos(Ee*Math.PI/2),Pe=y*Math.sin(Ee*Math.PI/2)+x;for(let we=0,Je=U.length;we<Je;we++){const He=Y(U[we],F[we],Pe);ce(He.x,He.y,f+ve)}for(let we=0,Je=V.length;we<Je;we++){const He=V[we];K=j[we];for(let z=0,R=He.length;z<R;z++){const B=Y(He[z],K[z],Pe);M?ce(B.x,B.y+S[u-1].y,S[u-1].x+ve):ce(B.x,B.y,f+ve)}}}ae(),Se();function ae(){const X=i.length/3;if(p){let Ee=0,ve=q*Ee;for(let Pe=0;Pe<te;Pe++){const we=Q[Pe];Oe(we[2]+ve,we[1]+ve,we[0]+ve)}Ee=u+v*2,ve=q*Ee;for(let Pe=0;Pe<te;Pe++){const we=Q[Pe];Oe(we[0]+ve,we[1]+ve,we[2]+ve)}}else{for(let Ee=0;Ee<te;Ee++){const ve=Q[Ee];Oe(ve[2],ve[1],ve[0])}for(let Ee=0;Ee<te;Ee++){const ve=Q[Ee];Oe(ve[0]+q*u,ve[1]+q*u,ve[2]+q*u)}}r.addGroup(X,i.length/3-X,0)}function Se(){const X=i.length/3;let Ee=0;Ae(U,Ee),Ee+=U.length;for(let ve=0,Pe=V.length;ve<Pe;ve++){const we=V[ve];Ae(we,Ee),Ee+=we.length}r.addGroup(X,i.length/3-X,1)}function Ae(X,Ee){let ve=X.length;for(;--ve>=0;){const Pe=ve;let we=ve-1;we<0&&(we=X.length-1);for(let Je=0,He=u+v*2;Je<He;Je++){const z=q*Je,R=q*(Je+1),B=Ee+Pe+z,Z=Ee+we+z,oe=Ee+we+R,ie=Ee+Pe+R;Be(B,Z,oe,ie)}}}function ce(X,Ee,ve){l.push(X),l.push(Ee),l.push(ve)}function Oe(X,Ee,ve){Re(X),Re(Ee),Re(ve);const Pe=i.length/3,we=w.generateTopUV(r,i,Pe-3,Pe-2,Pe-1);Le(we[0]),Le(we[1]),Le(we[2])}function Be(X,Ee,ve,Pe){Re(X),Re(Ee),Re(Pe),Re(Ee),Re(ve),Re(Pe);const we=i.length/3,Je=w.generateSideWallUV(r,i,we-6,we-3,we-2,we-1);Le(Je[0]),Le(Je[1]),Le(Je[3]),Le(Je[1]),Le(Je[2]),Le(Je[3])}function Re(X){i.push(l[X*3+0]),i.push(l[X*3+1]),i.push(l[X*3+2])}function Le(X){s.push(X.x),s.push(X.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return Due(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,o=e.shapes.length;s<o;s++){const a=n[e.shapes[s]];r.push(a)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new wx[i.type]().fromJSON(i)),new j_(r,e.options)}}const kue={generateTopUV:function(t,e,n,r,i){const s=e[n*3],o=e[n*3+1],a=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Te(s,o),new Te(a,l),new Te(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const o=e[n*3],a=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],p=e[i*3],m=e[i*3+1],y=e[i*3+2],x=e[s*3],v=e[s*3+1],g=e[s*3+2];return Math.abs(a-u)<Math.abs(o-c)?[new Te(o,1-l),new Te(c,1-f),new Te(p,1-y),new Te(x,1-g)]:[new Te(a,1-l),new Te(u,1-f),new Te(m,1-y),new Te(v,1-g)]}};function Due(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class H_ extends Kl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new H_(e.radius,e.detail)}}class mg extends Kl{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new mg(e.radius,e.detail)}}class W_ extends zt{constructor(e=.5,n=1,r=32,i=1,s=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const a=[],l=[],c=[],u=[];let f=e;const p=(n-e)/i,m=new G,y=new Te;for(let x=0;x<=i;x++){for(let v=0;v<=r;v++){const g=s+v/r*o;m.x=f*Math.cos(g),m.y=f*Math.sin(g),l.push(m.x,m.y,m.z),c.push(0,0,1),y.x=(m.x/n+1)/2,y.y=(m.y/n+1)/2,u.push(y.x,y.y)}f+=p}for(let x=0;x<i;x++){const v=x*(r+1);for(let g=0;g<r;g++){const w=g+v,S=w,M=w+r+1,C=w+r+2,P=w+1;a.push(S,M,P),a.push(M,C,P)}}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class G_ extends zt{constructor(e=new tu([new Te(0,.5),new Te(-.5,-.5),new Te(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],o=[];let a=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(a,l,u),a+=l,l=0;this.setIndex(r),this.setAttribute("position",new st(i,3)),this.setAttribute("normal",new st(s,3)),this.setAttribute("uv",new st(o,2));function c(u){const f=i.length/3,p=u.extractPoints(n);let m=p.shape;const y=p.holes;Do.isClockWise(m)===!1&&(m=m.reverse());for(let v=0,g=y.length;v<g;v++){const w=y[v];Do.isClockWise(w)===!0&&(y[v]=w.reverse())}const x=Do.triangulateShape(m,y);for(let v=0,g=y.length;v<g;v++){const w=y[v];m=m.concat(w)}for(let v=0,g=m.length;v<g;v++){const w=m[v];i.push(w.x,w.y,0),s.push(0,0,1),o.push(w.x,w.y)}for(let v=0,g=x.length;v<g;v++){const w=x[v],S=w[0]+f,M=w[1]+f,C=w[2]+f;r.push(S,M,C),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return Oue(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const o=n[e.shapes[i]];r.push(o)}return new G_(r,e.curveSegments)}}function Oue(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class gg extends zt{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new G,p=new G,m=[],y=[],x=[],v=[];for(let g=0;g<=r;g++){const w=[],S=g/r;let M=0;g===0&&o===0?M=.5/n:g===r&&l===Math.PI&&(M=-.5/n);for(let C=0;C<=n;C++){const P=C/n;f.x=-e*Math.cos(i+P*s)*Math.sin(o+S*a),f.y=e*Math.cos(o+S*a),f.z=e*Math.sin(i+P*s)*Math.sin(o+S*a),y.push(f.x,f.y,f.z),p.copy(f).normalize(),x.push(p.x,p.y,p.z),v.push(P+M,1-S),w.push(c++)}u.push(w)}for(let g=0;g<r;g++)for(let w=0;w<n;w++){const S=u[g][w+1],M=u[g][w],C=u[g+1][w],P=u[g+1][w+1];(g!==0||o>0)&&m.push(S,M,P),(g!==r-1||l<Math.PI)&&m.push(M,C,P)}this.setIndex(m),this.setAttribute("position",new st(y,3)),this.setAttribute("normal",new st(x,3)),this.setAttribute("uv",new st(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class $_ extends Kl{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new $_(e.radius,e.detail)}}class X_ extends zt{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const o=[],a=[],l=[],c=[],u=new G,f=new G,p=new G;for(let m=0;m<=r;m++)for(let y=0;y<=i;y++){const x=y/i*s,v=m/r*Math.PI*2;f.x=(e+n*Math.cos(v))*Math.cos(x),f.y=(e+n*Math.cos(v))*Math.sin(x),f.z=n*Math.sin(v),a.push(f.x,f.y,f.z),u.x=e*Math.cos(x),u.y=e*Math.sin(x),p.subVectors(f,u).normalize(),l.push(p.x,p.y,p.z),c.push(y/i),c.push(m/r)}for(let m=1;m<=r;m++)for(let y=1;y<=i;y++){const x=(i+1)*m+y-1,v=(i+1)*(m-1)+y-1,g=(i+1)*(m-1)+y,w=(i+1)*m+y;o.push(x,v,w),o.push(v,g,w)}this.setIndex(o),this.setAttribute("position",new st(a,3)),this.setAttribute("normal",new st(l,3)),this.setAttribute("uv",new st(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class q_ extends zt{constructor(e=1,n=.4,r=64,i=8,s=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:o},r=Math.floor(r),i=Math.floor(i);const a=[],l=[],c=[],u=[],f=new G,p=new G,m=new G,y=new G,x=new G,v=new G,g=new G;for(let S=0;S<=r;++S){const M=S/r*s*Math.PI*2;w(M,s,o,e,m),w(M+.01,s,o,e,y),v.subVectors(y,m),g.addVectors(y,m),x.crossVectors(v,g),g.crossVectors(x,v),x.normalize(),g.normalize();for(let C=0;C<=i;++C){const P=C/i*Math.PI*2,I=-n*Math.cos(P),O=n*Math.sin(P);f.x=m.x+(I*g.x+O*x.x),f.y=m.y+(I*g.y+O*x.y),f.z=m.z+(I*g.z+O*x.z),l.push(f.x,f.y,f.z),p.subVectors(f,m).normalize(),c.push(p.x,p.y,p.z),u.push(S/r),u.push(C/i)}}for(let S=1;S<=r;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),I=(i+1)*S+M,O=(i+1)*(S-1)+M;a.push(C,P,O),a.push(P,I,O)}this.setIndex(a),this.setAttribute("position",new st(l,3)),this.setAttribute("normal",new st(c,3)),this.setAttribute("uv",new st(u,2));function w(S,M,C,P,I){const O=Math.cos(S),N=Math.sin(S),k=C/M*S,V=Math.cos(k);I.x=P*(2+V)*.5*O,I.y=P*(2+V)*N*.5,I.z=P*Math.sin(k)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Y_ extends zt{constructor(e=new rR(new G(-1,-1,0),new G(-1,1,0),new G(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const o=e.computeFrenetFrames(n,s);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const a=new G,l=new G,c=new Te;let u=new G;const f=[],p=[],m=[],y=[];x(),this.setIndex(y),this.setAttribute("position",new st(f,3)),this.setAttribute("normal",new st(p,3)),this.setAttribute("uv",new st(m,2));function x(){for(let S=0;S<n;S++)v(S);v(s===!1?n:0),w(),g()}function v(S){u=e.getPointAt(S/n,u);const M=o.normals[S],C=o.binormals[S];for(let P=0;P<=i;P++){const I=P/i*Math.PI*2,O=Math.sin(I),N=-Math.cos(I);l.x=N*M.x+O*C.x,l.y=N*M.y+O*C.y,l.z=N*M.z+O*C.z,l.normalize(),p.push(l.x,l.y,l.z),a.x=u.x+r*l.x,a.y=u.y+r*l.y,a.z=u.z+r*l.z,f.push(a.x,a.y,a.z)}}function g(){for(let S=1;S<=n;S++)for(let M=1;M<=i;M++){const C=(i+1)*(S-1)+(M-1),P=(i+1)*S+(M-1),I=(i+1)*S+M,O=(i+1)*(S-1)+M;y.push(C,P,O),y.push(P,I,O)}}function w(){for(let S=0;S<=n;S++)for(let M=0;M<=i;M++)c.x=S/n,c.y=M/i,m.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Y_(new wx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Aj extends zt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new G,s=new G;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],p=f.start,m=f.count;for(let y=p,x=p+m;y<x;y+=3)for(let v=0;v<3;v++){const g=a.getX(y+v),w=a.getX(y+(v+1)%3);i.fromBufferAttribute(o,g),s.fromBufferAttribute(o,w),Kk(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;i.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),Kk(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new st(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Kk(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var Zk=Object.freeze({__proto__:null,BoxGeometry:Eu,CapsuleGeometry:F_,CircleGeometry:U_,ConeGeometry:B_,CylinderGeometry:oh,DodecahedronGeometry:z_,EdgesGeometry:bj,ExtrudeGeometry:j_,IcosahedronGeometry:H_,LatheGeometry:pg,OctahedronGeometry:mg,PlaneGeometry:fg,PolyhedronGeometry:Kl,RingGeometry:W_,ShapeGeometry:G_,SphereGeometry:gg,TetrahedronGeometry:$_,TorusGeometry:X_,TorusKnotGeometry:q_,TubeGeometry:Y_,WireframeGeometry:Aj});class Cj extends Zr{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Ye(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Rj extends no{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class sR extends Zr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Ye(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class oR extends sR{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Te(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Wn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Ye(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Ye(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Ye(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Pj extends Zr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Ye(16777215),this.specular=new Ye(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=og,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Nj extends Zr{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Ye(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class Ij extends Zr{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class Lj extends Zr{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Ye(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ye(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=og,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kj extends Zr{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Ye(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=ql,this.normalScale=new Te(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Dj extends gi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Uc(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function Oj(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Fj(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function qM(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,o=0;o!==r;++s){const a=n[s]*e;for(let l=0;l!==e;++l)i[o++]=t[a+l]}return i}function aR(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let o=s[r];if(o!==void 0)if(Array.isArray(o))do o=s[r],o!==void 0&&(e.push(s.time),n.push.apply(n,o)),s=t[i++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[r],o!==void 0&&(e.push(s.time),o.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do o=s[r],o!==void 0&&(e.push(s.time),n.push(o)),s=t[i++];while(s!==void 0)}function Fue(t,e,n,r,i=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],p=[];for(let m=0;m<c.times.length;++m){const y=c.times[m]*i;if(!(y<n||y>=r)){f.push(c.times[m]);for(let x=0;x<u;++x)p.push(c.values[m*u+x])}}f.length!==0&&(c.times=Uc(f,c.times.constructor),c.values=Uc(p,c.values.constructor),o.push(c))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s}function Uue(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let o=0;o<i;++o){const a=n.tracks[o],l=a.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(g){return g.name===a.name&&g.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=a.getValueSize();a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let p=0;const m=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(p=m/3);const y=a.times.length-1;let x;if(s<=a.times[0]){const g=u,w=f-u;x=a.values.slice(g,w)}else if(s>=a.times[y]){const g=y*f+u,w=g+f-u;x=a.values.slice(g,w)}else{const g=a.createInterpolant(),w=u,S=f-u;g.evaluate(s),x=g.resultBuffer.slice(w,S)}l==="quaternion"&&new Ni().fromArray(x).normalize().conjugate().toArray(x);const v=c.times.length;for(let g=0;g<v;++g){const w=g*m+p;if(l==="quaternion")Ni.multiplyQuaternionsFlat(c.values,w,x,0,c.values,w);else{const S=m-p*2;for(let M=0;M<S;++M)c.values[w+M]-=x[M]}}}return t.blendMode=OC,t}const Bue={convertArray:Uc,isTypedArray:Oj,getKeyframeOrder:Fj,sortedArray:qM,flattenJSON:aR,subclip:Fue,makeClipAdditive:Uue};class yg{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let a=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===a)break;if(s=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=s)){const a=n[1];e<a&&(r=2,s=a);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}o=r,r=0;break n}break e}for(;r<o;){const a=r+o>>>1;e<n[a]?o=a:r=a+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let o=0;o!==i;++o)n[o]=r[s+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class Uj extends yg{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Dc,endingEnd:Dc}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,o=e+1,a=i[s],l=i[o];if(a===void 0)switch(this.getSettings_().endingStart){case Oc:s=e,a=2*n-r;break;case Mm:s=i.length-2,a=n+i[s]-i[s+1];break;default:s=e,a=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Oc:o=e,l=2*r-n;break;case Mm:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-a),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,p=this._weightPrev,m=this._weightNext,y=(r-n)/(i-n),x=y*y,v=x*y,g=-p*v+2*p*x-p*y,w=(1+p)*v+(-1.5-2*p)*x+(-.5+p)*y+1,S=(-1-m)*v+(1.5+m)*x+.5*y,M=m*v-m*x;for(let C=0;C!==a;++C)s[C]=g*o[u+C]+w*o[c+C]+S*o[l+C]+M*o[f+C];return s}}class lR extends yg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(r-n)/(i-n),f=1-u;for(let p=0;p!==a;++p)s[p]=o[c+p]*f+o[l+p]*u;return s}}class Bj extends yg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class io{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Uc(n,this.TimeBufferType),this.values=Uc(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Uc(e.times,Array),values:Uc(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new Bj(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new lR(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new Uj(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case bm:n=this.InterpolantFactoryMethodDiscrete;break;case Em:n=this.InterpolantFactoryMethodLinear;break;case S0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return bm;case this.InterpolantFactoryMethodLinear:return Em;case this.InterpolantFactoryMethodSmooth:return S0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,o=i-1;for(;s!==i&&r[s]<e;)++s;for(;o!==-1&&r[o]>n;)--o;if(++o,s!==0||o!==i){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=r.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=r[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(i!==void 0&&Oj(i))for(let a=0,l=i.length;a!==l;++a){const c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===S0,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(i)l=!0;else{const f=a*r,p=f-r,m=f+r;for(let y=0;y!==r;++y){const x=n[f+y];if(x!==n[p+y]||x!==n[m+y]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*r,p=o*r;for(let m=0;m!==r;++m)n[p+m]=n[f+m]}++o}}if(s>0){e[o]=e[s];for(let a=s*r,l=o*r,c=0;c!==r;++c)n[l+c]=n[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}io.prototype.TimeBufferType=Float32Array;io.prototype.ValueBufferType=Float32Array;io.prototype.DefaultInterpolation=Em;class Mu extends io{}Mu.prototype.ValueTypeName="bool";Mu.prototype.ValueBufferType=Array;Mu.prototype.DefaultInterpolation=bm;Mu.prototype.InterpolantFactoryMethodLinear=void 0;Mu.prototype.InterpolantFactoryMethodSmooth=void 0;class cR extends io{}cR.prototype.ValueTypeName="color";class Dm extends io{}Dm.prototype.ValueTypeName="number";class zj extends yg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(r-n)/(i-n);let c=e*a;for(let u=c+a;c!==u;c+=4)Ni.slerpFlat(s,0,o,c-a,o,c,l);return s}}class ah extends io{InterpolantFactoryMethodLinear(e){return new zj(this.times,this.values,this.getValueSize(),e)}}ah.prototype.ValueTypeName="quaternion";ah.prototype.DefaultInterpolation=Em;ah.prototype.InterpolantFactoryMethodSmooth=void 0;class Tu extends io{}Tu.prototype.ValueTypeName="string";Tu.prototype.ValueBufferType=Array;Tu.prototype.DefaultInterpolation=bm;Tu.prototype.InterpolantFactoryMethodLinear=void 0;Tu.prototype.InterpolantFactoryMethodSmooth=void 0;class Om extends io{}Om.prototype.ValueTypeName="vector";class Fm{constructor(e,n=-1,r,i=A_){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Zi(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,a=r.length;o!==a;++o)n.push(Vue(r[o]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=r.length;s!==o;++s)n.push(io.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=Fj(l);l=qM(l,1,u),c=qM(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Dm(".morphTargetInfluences["+n[a].name+"]",l,c).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let p=i[f];p||(i[f]=p=[]),p.push(c)}}const o=[];for(const a in i)o.push(this.CreateFromMorphTargetSequence(a,i[a],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,p,m,y,x){if(m.length!==0){const v=[],g=[];aR(m,v,g,y),v.length!==0&&x.push(new f(p,v,g))}},i=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const p=c[f].keys;if(!(!p||p.length===0))if(p[0].morphTargets){const m={};let y;for(y=0;y<p.length;y++)if(p[y].morphTargets)for(let x=0;x<p[y].morphTargets.length;x++)m[p[y].morphTargets[x]]=-1;for(const x in m){const v=[],g=[];for(let w=0;w!==p[y].morphTargets.length;++w){const S=p[y];v.push(S.time),g.push(S.morphTarget===x?1:0)}i.push(new Dm(".morphTargetInfluence["+x+"]",v,g))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(Om,m+".position",p,"pos",i),r(ah,m+".quaternion",p,"rot",i),r(Om,m+".scale",p,"scl",i)}}return i.length===0?null:new this(s,l,i,a)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function zue(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Dm;case"vector":case"vector2":case"vector3":case"vector4":return Om;case"color":return cR;case"quaternion":return ah;case"bool":case"boolean":return Mu;case"string":return Tu}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Vue(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=zue(t.type);if(t.times===void 0){const n=[],r=[];aR(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const da={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class uR{constructor(e,n,r){const i=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){a++,s===!1&&i.onStart!==void 0&&i.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,i.onProgress!==void 0&&i.onProgress(u,o,a),o===a&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,p=c.length;f<p;f+=2){const m=c[f],y=c[f+1];if(m.global&&(m.lastIndex=0),m.test(u))return y}return null}}}const Vj=new uR;class Di{constructor(e){this.manager=e!==void 0?e:Vj,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Di.DEFAULT_MATERIAL_NAME="__DEFAULT";const ea={};class jue extends Error{constructor(e,n){super(e),this.response=n}}class Ta extends Di{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=da.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ea[e]!==void 0){ea[e].push({onLoad:n,onProgress:r,onError:i});return}ea[e]=[],ea[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ea[e],f=c.body.getReader(),p=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),m=p?parseInt(p):0,y=m!==0;let x=0;const v=new ReadableStream({start(g){w();function w(){f.read().then(({done:S,value:M})=>{if(S)g.close();else{x+=M.byteLength;const C=new ProgressEvent("progress",{lengthComputable:y,loaded:x,total:m});for(let P=0,I=u.length;P<I;P++){const O=u[P];O.onProgress&&O.onProgress(C)}g.enqueue(M),w()}})}}});return new Response(v)}else throw new jue(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),p=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(p);return c.arrayBuffer().then(y=>m.decode(y))}}}).then(c=>{da.add(e,c);const u=ea[e];delete ea[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onLoad&&m.onLoad(c)}}).catch(c=>{const u=ea[e];if(u===void 0)throw this.manager.itemError(e),c;delete ea[e];for(let f=0,p=u.length;f<p;f++){const m=u[f];m.onError&&m.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class Hue extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ta(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=Fm.parse(e[r]);n.push(i)}return n}}class Wue extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=[],a=new D_,l=new Ta(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(p){const m=s.parse(p,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},c+=1,c===6&&(m.mipmapCount===1&&(a.minFilter=Zn),a.image=o,a.format=m.format,a.needsUpdate=!0,n&&n(a))},r,i)}if(Array.isArray(e))for(let f=0,p=e.length;f<p;++f)u(f);else l.load(e,function(f){const p=s.parse(f,!0);if(p.isCubemap){const m=p.mipmaps.length/p.mipmapCount;for(let y=0;y<m;y++){o[y]={mipmaps:[]};for(let x=0;x<p.mipmapCount;x++)o[y].mipmaps.push(p.mipmaps[y*p.mipmapCount+x]),o[y].format=p.format,o[y].width=p.width,o[y].height=p.height}a.image=o}else a.image.width=p.width,a.image.height=p.height,a.mipmaps=p.mipmaps;p.mipmapCount===1&&(a.minFilter=Zn),a.format=p.format,a.needsUpdate=!0,n&&n(a)},r,i);return a}}class Um extends Di{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=da.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o;const a=Pm("img");function l(){u(),da.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class Gue extends Di{constructor(e){super(e)}load(e,n,r,i){const s=new ug;s.colorSpace=fr;const o=new Um(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class $ue extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new eu,a=new Ta(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:$r,o.wrapT=c.wrapT!==void 0?c.wrapT:$r,o.magFilter=c.magFilter!==void 0?c.magFilter:Zn,o.minFilter=c.minFilter!==void 0?c.minFilter:Zn,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?o.colorSpace=c.colorSpace:c.encoding!==void 0&&(o.encoding=c.encoding),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Ol),c.mipmapCount===1&&(o.minFilter=Zn),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,n&&n(o,c)},r,i),o}}class Xue extends Di{constructor(e){super(e)}load(e,n,r,i){const s=new Qn,o=new Um(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Zl extends on{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Ye(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class jj extends Zl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Ye(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const nb=new St,Jk=new G,Qk=new G;class dR{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Te(512,512),this.map=null,this.mapPass=null,this.matrix=new St,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new dg,this._frameExtents=new Te(1,1),this._viewportCount=1,this._viewports=[new dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;Jk.setFromMatrixPosition(e.matrixWorld),n.position.copy(Jk),Qk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(Qk),n.updateMatrixWorld(),nb.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nb),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(nb)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class que extends dR{constructor(){super(new Er(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Lf*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Hj extends Zl{constructor(e,n,r=0,i=Math.PI/3,s=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.target=new on,this.distance=r,this.angle=i,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new que}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const eD=new St,tp=new G,rb=new G;class Yue extends dR{constructor(){super(new Er(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Te(4,2),this._viewportCount=6,this._viewports=[new dn(2,1,1,1),new dn(0,1,1,1),new dn(3,1,1,1),new dn(1,1,1,1),new dn(3,0,1,1),new dn(1,0,1,1)],this._cubeDirections=[new G(1,0,0),new G(-1,0,0),new G(0,0,1),new G(0,0,-1),new G(0,1,0),new G(0,-1,0)],this._cubeUps=[new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,1,0),new G(0,0,1),new G(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),tp.setFromMatrixPosition(e.matrixWorld),r.position.copy(tp),rb.copy(r.position),rb.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(rb),r.updateMatrixWorld(),i.makeTranslation(-tp.x,-tp.y,-tp.z),eD.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(eD)}}class Wj extends Zl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Yue}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Kue extends dR{constructor(){super(new hg(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Gj extends Zl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(on.DEFAULT_UP),this.updateMatrix(),this.target=new on,this.shadow=new Kue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class $j extends Zl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Xj extends Zl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class qj{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new G)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*s),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*s)),n.addScaledVector(o[6],.315392*(3*s*s-1)),n.addScaledVector(o[7],1.092548*(r*s)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*s),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*s),n.addScaledVector(o[6],.743125*s*s-.247708),n.addScaledVector(o[7],2*.429043*r*s),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Yj extends Zl{constructor(e=new qj,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class K_ extends Di{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,o=new Ta(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=K_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Ye().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const o=e.uniforms[s];switch(i.uniforms[s]={},o.type){case"t":i.uniforms[s].value=r(o.value);break;case"c":i.uniforms[s].value=new Ye().setHex(o.value);break;case"v2":i.uniforms[s].value=new Te().fromArray(o.value);break;case"v3":i.uniforms[s].value=new G().fromArray(o.value);break;case"v4":i.uniforms[s].value=new dn().fromArray(o.value);break;case"m3":i.uniforms[s].value=new Bt().fromArray(o.value);break;case"m4":i.uniforms[s].value=new St().fromArray(o.value);break;default:i.uniforms[s].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Te().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Te().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:Cj,SpriteMaterial:KC,RawShaderMaterial:Rj,ShaderMaterial:no,PointsMaterial:JC,MeshPhysicalMaterial:oR,MeshStandardMaterial:sR,MeshPhongMaterial:Pj,MeshToonMaterial:Nj,MeshNormalMaterial:Ij,MeshLambertMaterial:Lj,MeshDepthMaterial:$C,MeshDistanceMaterial:XC,MeshBasicMaterial:Yl,MeshMatcapMaterial:kj,LineDashedMaterial:Dj,LineBasicMaterial:gi,Material:Zr};return new n[e]}}class YM{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Kj extends zt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Zj extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ta(s.manager);o.setPath(s.path),o.setRequestHeader(s.requestHeader),o.setWithCredentials(s.withCredentials),o.load(e,function(a){try{n(s.parse(JSON.parse(a)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,y){if(n[y]!==void 0)return n[y];const v=m.interleavedBuffers[y],g=s(m,v.buffer),w=Vd(v.type,g),S=new L_(w,v.stride);return S.uuid=v.uuid,n[y]=S,S}function s(m,y){if(r[y]!==void 0)return r[y];const v=m.arrayBuffers[y],g=new Uint32Array(v).buffer;return r[y]=g,g}const o=e.isInstancedBufferGeometry?new Kj:new zt,a=e.data.index;if(a!==void 0){const m=Vd(a.type,a.array);o.setIndex(new hn(m,1))}const l=e.data.attributes;for(const m in l){const y=l[m];let x;if(y.isInterleavedBufferAttribute){const v=i(e.data,y.data);x=new uu(v,y.itemSize,y.offset,y.normalized)}else{const v=Vd(y.type,y.array),g=y.isInstancedBufferAttribute?Df:hn;x=new g(v,y.itemSize,y.normalized)}y.name!==void 0&&(x.name=y.name),y.usage!==void 0&&x.setUsage(y.usage),o.setAttribute(m,x)}const c=e.data.morphAttributes;if(c)for(const m in c){const y=c[m],x=[];for(let v=0,g=y.length;v<g;v++){const w=y[v];let S;if(w.isInterleavedBufferAttribute){const M=i(e.data,w.data);S=new uu(M,w.itemSize,w.offset,w.normalized)}else{const M=Vd(w.type,w.array);S=new hn(M,w.itemSize,w.normalized)}w.name!==void 0&&(S.name=w.name),x.push(S)}o.morphAttributes[m]=x}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,y=f.length;m!==y;++m){const x=f[m];o.addGroup(x.start,x.count,x.materialIndex)}const p=e.data.boundingSphere;if(p!==void 0){const m=new G;p.center!==void 0&&m.fromArray(p.center),o.boundingSphere=new Yr(m,p.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class Zue extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=this.path===""?YM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const a=new Ta(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?YM.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new Ta(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const o=await s.loadAsync(e,n),a=JSON.parse(o),l=a.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(a)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(c)}),a=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,a),c=this.parseObject(e.object,s,l,a,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const p in o)if(o[p].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,s),a=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,a,o,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new tu().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=new k_().fromJSON(e[s],i);r[a.uuid]=a}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Zj;for(let s=0,o=e.length;s<o;s++){let a;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(l);break;default:l.type in Zk?a=Zk[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}a.uuid=l.uuid,l.name!==void 0&&(a.name=l.name),l.userData!==void 0&&(a.userData=l.userData),r[l.uuid]=a}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new K_;s.setTextures(n);for(let o=0,a=e.length;o<a;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=Fm.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function o(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function a(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return o(u)}else return l.data?{data:Vd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new uR(n);s=new Um(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],p=f.url;if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const v=p[y],g=a(v);g!==null&&(g instanceof HTMLImageElement?m.push(g):m.push(new eu(g.data,g.width,g.height)))}i[f.uuid]=new Fc(m)}else{const m=a(f.url);i[f.uuid]=new Fc(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(o){if(typeof o=="string"){const a=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(a)?a:n.resourcePath+a;return await i.loadAsync(l)}else return o.data?{data:Vd(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Um(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,a=e.length;o<a;o++){const l=e[o],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,p=c.length;f<p;f++){const m=c[f],y=await s(m);y!==null&&(y instanceof HTMLImageElement?u.push(y):u.push(new eu(y.data,y.width,y.height)))}r[l.uuid]=new Fc(u)}else{const u=await s(l.url);r[l.uuid]=new Fc(u)}}}return r}parseTextures(e,n){function r(s,o){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),o[s])}const i={};if(e!==void 0)for(let s=0,o=e.length;s<o;s++){const a=e[s];a.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',a.uuid),n[a.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",a.image);const l=n[a.image],c=l.data;let u;Array.isArray(c)?(u=new ug,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new eu:u=new Qn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=a.uuid,a.name!==void 0&&(u.name=a.name),a.mapping!==void 0&&(u.mapping=r(a.mapping,Jue)),a.channel!==void 0&&(u.channel=a.channel),a.offset!==void 0&&u.offset.fromArray(a.offset),a.repeat!==void 0&&u.repeat.fromArray(a.repeat),a.center!==void 0&&u.center.fromArray(a.center),a.rotation!==void 0&&(u.rotation=a.rotation),a.wrap!==void 0&&(u.wrapS=r(a.wrap[0],tD),u.wrapT=r(a.wrap[1],tD)),a.format!==void 0&&(u.format=a.format),a.internalFormat!==void 0&&(u.internalFormat=a.internalFormat),a.type!==void 0&&(u.type=a.type),a.colorSpace!==void 0&&(u.colorSpace=a.colorSpace),a.encoding!==void 0&&(u.encoding=a.encoding),a.minFilter!==void 0&&(u.minFilter=r(a.minFilter,nD)),a.magFilter!==void 0&&(u.magFilter=r(a.magFilter,nD)),a.anisotropy!==void 0&&(u.anisotropy=a.anisotropy),a.flipY!==void 0&&(u.flipY=a.flipY),a.generateMipmaps!==void 0&&(u.generateMipmaps=a.generateMipmaps),a.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=a.premultiplyAlpha),a.unpackAlignment!==void 0&&(u.unpackAlignment=a.unpackAlignment),a.compareFunction!==void 0&&(u.compareFunction=a.compareFunction),a.userData!==void 0&&(u.userData=a.userData),i[a.uuid]=u}return i}parseObject(e,n,r,i,s){let o;function a(p){return n[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",p),n[p]}function l(p){if(p!==void 0){if(Array.isArray(p)){const m=[];for(let y=0,x=p.length;y<x;y++){const v=p[y];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),m.push(r[v])}return m}return r[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",p),r[p]}}function c(p){return i[p]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",p),i[p]}let u,f;switch(e.type){case"Scene":o=new YC,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new Ye(e.background):o.background=c(e.background)),e.environment!==void 0&&(o.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new I_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new N_(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":o=new Er(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new hg(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new $j(e.color,e.intensity);break;case"DirectionalLight":o=new Gj(e.color,e.intensity);break;case"PointLight":o=new Wj(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new Xj(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new Hj(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new jj(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new Yj().fromJSON(e);break;case"SkinnedMesh":u=a(e.geometry),f=l(e.material),o=new hj(u,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":u=a(e.geometry),f=l(e.material),o=new pr(u,f);break;case"InstancedMesh":u=a(e.geometry),f=l(e.material);const p=e.count,m=e.instanceMatrix,y=e.instanceColor;o=new pj(u,f,p),o.instanceMatrix=new Df(new Float32Array(m.array),16),y!==void 0&&(o.instanceColor=new Df(new Float32Array(y.array),y.itemSize));break;case"BatchedMesh":u=a(e.geometry),f=l(e.material),o=new mj(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=u,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(x=>{const v=new fi;v.min.fromArray(x.boxMin),v.max.fromArray(x.boxMax);const g=new Yr;return g.radius=x.sphereRadius,g.center.fromArray(x.sphereCenter),{boxInitialized:x.boxInitialized,box:v,sphereInitialized:x.sphereInitialized,sphere:g}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":o=new fj;break;case"Line":o=new Fl(a(e.geometry),l(e.material));break;case"LineLoop":o=new gj(a(e.geometry),l(e.material));break;case"LineSegments":o=new Vo(a(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new yj(a(e.geometry),l(e.material));break;case"Sprite":o=new dj(l(e.material));break;case"Group":o=new Wd;break;case"Bone":o=new ZC;break;default:o=new on}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const p=e.children;for(let m=0;m<p.length;m++)o.add(this.parseObject(p[m],n,r,i,s))}if(e.animations!==void 0){const p=e.animations;for(let m=0;m<p.length;m++){const y=p[m];o.animations.push(s[y])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const p=e.levels;for(let m=0;m<p.length;m++){const y=p[m],x=o.getObjectByProperty("uuid",y.object);x!==void 0&&o.addLevel(x,y.distance,y.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Jue={UVMapping:M_,CubeReflectionMapping:Ma,CubeRefractionMapping:Dl,EquirectangularReflectionMapping:xm,EquirectangularRefractionMapping:_m,CubeUVReflectionMapping:rh},tD={RepeatWrapping:wm,ClampToEdgeWrapping:$r,MirroredRepeatWrapping:Sm},nD={NearestFilter:Yn,NearestMipmapNearestFilter:vx,NearestMipmapLinearFilter:kp,LinearFilter:Zn,LinearMipmapNearestFilter:CC,LinearMipmapLinearFilter:Ol};class Que extends Di{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=da.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return da.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),da.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});da.add(e,l),s.manager.itemStart(e)}}let Uv;class fR{static getContext(){return Uv===void 0&&(Uv=new(window.AudioContext||window.webkitAudioContext)),Uv}static setContext(e){Uv=e}}class ede extends Di{constructor(e){super(e)}load(e,n,r,i){const s=this,o=new Ta(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const c=l.slice(0);fR.getContext().decodeAudioData(c,function(f){n(f)}).catch(a)}catch(c){a(c)}},r,i);function a(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const rD=new St,iD=new St,gc=new St;class tde{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Er,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Er,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,gc.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,o=n.near*Math.tan(Jc*n.fov*.5)/n.zoom;let a,l;iD.elements[12]=-i,rD.elements[12]=i,a=-o*n.aspect+s,l=o*n.aspect+s,gc.elements[0]=2*n.near/(l-a),gc.elements[8]=(l+a)/(l-a),this.cameraL.projectionMatrix.copy(gc),a=-o*n.aspect-s,l=o*n.aspect-s,gc.elements[0]=2*n.near/(l-a),gc.elements[8]=(l+a)/(l-a),this.cameraR.projectionMatrix.copy(gc)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(iD),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(rD)}}class hR{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=sD(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=sD();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function sD(){return(typeof performance>"u"?Date:performance).now()}const yc=new G,oD=new Ni,nde=new G,vc=new G;class rde extends on{constructor(){super(),this.type="AudioListener",this.context=fR.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new hR}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(yc,oD,nde),vc.set(0,0,-1).applyQuaternion(oD),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(yc.x,i),n.positionY.linearRampToValueAtTime(yc.y,i),n.positionZ.linearRampToValueAtTime(yc.z,i),n.forwardX.linearRampToValueAtTime(vc.x,i),n.forwardY.linearRampToValueAtTime(vc.y,i),n.forwardZ.linearRampToValueAtTime(vc.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(yc.x,yc.y,yc.z),n.setOrientation(vc.x,vc.y,vc.z,r.x,r.y,r.z)}}class Jj extends on{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const xc=new G,aD=new Ni,ide=new G,_c=new G;class sde extends Jj{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(xc,aD,ide),_c.set(0,0,1).applyQuaternion(aD);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(xc.x,r),n.positionY.linearRampToValueAtTime(xc.y,r),n.positionZ.linearRampToValueAtTime(xc.z,r),n.orientationX.linearRampToValueAtTime(_c.x,r),n.orientationY.linearRampToValueAtTime(_c.y,r),n.orientationZ.linearRampToValueAtTime(_c.z,r)}else n.setPosition(xc.x,xc.y,xc.z),n.setOrientation(_c.x,_c.y,_c.z)}}class ode{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Qj{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,o;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let a=0;a!==i;++a)r[s+a]=r[a];o=n}else{o+=n;const a=n/o;this._mixBufferRegion(r,s,0,a,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,o=this.cumulativeWeightAdditive,a=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){a.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,o=i;s!==o;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let o=0;o!==s;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){Ni.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const o=this._workIndex*s;Ni.multiplyQuaternionsFlat(e,o,e,n,e,r),Ni.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,s){const o=1-i;for(let a=0;a!==s;++a){const l=n+a;e[l]=e[l]*o+e[r+a]*i}}_lerpAdditive(e,n,r,i,s){for(let o=0;o!==s;++o){const a=n+o;e[a]=e[a]+e[r+o]*i}}}const pR="\\[\\]\\.:\\/",ade=new RegExp("["+pR+"]","g"),mR="[^"+pR+"]",lde="[^"+pR.replace("\\.","")+"]",cde=/((?:WC+[\/:])*)/.source.replace("WC",mR),ude=/(WCOD+)?/.source.replace("WCOD",lde),dde=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",mR),fde=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",mR),hde=new RegExp("^"+cde+ude+dde+fde+"$"),pde=["material","materials","bones","map"];class mde{constructor(e,n,r){const i=r||Kt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Kt{constructor(e,n,r){this.path=n,this.parsedPath=r||Kt.parseTrackName(n),this.node=Kt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Kt.Composite(e,n,r):new Kt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ade,"")}static parseTrackName(e){const n=hde.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);pde.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===n||a.uuid===n)return a;const l=r(a.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Kt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[i];if(o===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?a=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Kt.Composite=mde;Kt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Kt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Kt.prototype.GetterByBindingType=[Kt.prototype._getValue_direct,Kt.prototype._getValue_array,Kt.prototype._getValue_arrayElement,Kt.prototype._getValue_toArray];Kt.prototype.SetterByBindingTypeAndVersioning=[[Kt.prototype._setValue_direct,Kt.prototype._setValue_direct_setNeedsUpdate,Kt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Kt.prototype._setValue_array,Kt.prototype._setValue_array_setNeedsUpdate,Kt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Kt.prototype._setValue_arrayElement,Kt.prototype._setValue_arrayElement_setNeedsUpdate,Kt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Kt.prototype._setValue_fromArray,Kt.prototype._setValue_fromArray_setNeedsUpdate,Kt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class gde{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Zi(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,o=s.length;let a,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const p=arguments[u],m=p.uuid;let y=n[m];if(y===void 0){y=l++,n[m]=y,e.push(p);for(let x=0,v=o;x!==v;++x)s[x].push(new Kt(p,r[x],i[x]))}else if(y<c){a=e[y];const x=--c,v=e[x];n[v.uuid]=y,e[y]=v,n[m]=x,e[x]=p;for(let g=0,w=o;g!==w;++g){const S=s[g],M=S[x];let C=S[y];S[y]=M,C===void 0&&(C=new Kt(p,r[g],i[g])),S[x]=C}}else e[y]!==a&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let o=0,a=arguments.length;o!==a;++o){const l=arguments[o],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const f=s++,p=e[f];n[p.uuid]=u,e[u]=p,n[c]=f,e[f]=l;for(let m=0,y=i;m!==y;++m){const x=r[m],v=x[f],g=x[u];x[u]=v,x[f]=g}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,o=e.length;for(let a=0,l=arguments.length;a!==l;++a){const c=arguments[a],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<s){const p=--s,m=e[p],y=--o,x=e[y];n[m.uuid]=f,e[f]=m,n[x.uuid]=p,e[p]=x,e.pop();for(let v=0,g=i;v!==g;++v){const w=r[v],S=w[p],M=w[y];w[f]=S,w[p]=M,w.pop()}}else{const p=--o,m=e[p];p>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let y=0,x=i;y!==x;++y){const v=r[y];v[f]=v[p],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const o=this._paths,a=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,o.push(e),a.push(n),s.push(f);for(let p=u,m=l.length;p!==m;++p){const y=l[p];f[p]=new Kt(y,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,o=this._bindings,a=o.length-1,l=o[a],c=e[a];n[c]=r,o[r]=l,o.pop(),s[r]=s[a],s.pop(),i[r]=i[a],i.pop()}}}class eH{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,o=s.length,a=new Array(o),l={endingStart:Dc,endingEnd:Dc};for(let c=0;c!==o;++c){const u=s[c].createInterpolant(null);a[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=a,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=kV,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,o=s/i,a=i/s;e.warp(1,o,n),this.warp(a,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,o=this.timeScale;let a=this._timeScaleInterpolant;a===null&&(a=i._lendControlInterpolant(),this._timeScaleInterpolant=a);const l=a.parameterPositions,c=a.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/o,c[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),a=this._updateWeight(e);if(a>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case OC:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulateAdditive(a);break;case A_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(o),c[u].accumulate(i,a)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const o=r===DV;if(e===0)return s===-1?i:o&&(s&1)===1?n-i:i;if(r===LV){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const a=Math.floor(i/n);i-=n*a,s+=Math.abs(a);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,o)}else this._setEndings(!1,!1,o);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=i;if(o&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Oc,i.endingEnd=Oc):(e?i.endingStart=this.zeroSlopeAtStart?Oc:Dc:i.endingStart=Mm,n?i.endingEnd=this.zeroSlopeAtEnd?Oc:Dc:i.endingEnd=Mm)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=s,l[0]=n,a[1]=s+e,l[1]=r,this}}const yde=new Float32Array(1);class vde extends Na{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,o=e._propertyBindings,a=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const p=i[f],m=p.name;let y=u[m];if(y!==void 0)++y.referenceCount,o[f]=y;else{if(y=o[f],y!==void 0){y._cacheIndex===null&&(++y.referenceCount,this._addInactiveBinding(y,l,m));continue}const x=n&&n._propertyBindings[f].binding.parsedPath;y=new Qj(Kt.create(r,m,x),p.ValueTypeName,p.getValueSize()),++y.referenceCount,this._addInactiveBinding(y,l,m),o[f]=y}a[f].resultBuffer=y.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let o=s[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=o;else{const a=o.knownActions;e._byClipCacheIndex=a.length,a.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,o=this._actionsByClip,a=o[s],l=a.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=a.actionByRoot,p=(e._localRoot||this._root).uuid;delete f[p],l.length===0&&delete o[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,o=this._bindingsByRootAndName,a=o[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete a[s],Object.keys(a).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new lR(new Float32Array(2),new Float32Array(2),1,yde),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let o=typeof e=="string"?Fm.findByName(i,e):e;const a=o!==null?o.uuid:e,l=this._actionsByClip[a];let c=null;if(r===void 0&&(o!==null?r=o.blendMode:r=A_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],o===null&&(o=c._clip)}if(o===null)return null;const u=new eH(this,o,n,r);return this._bindAction(u,c),this._addInactiveAction(u,a,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?Fm.findByName(r,e):e,o=s?s.uuid:e,a=this._actionsByClip[o];return a!==void 0&&a.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),o=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,o);const a=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)a[c].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const o=s.knownActions;for(let a=0,l=o.length;a!==l;++a){const c=o[a];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const a=r[o].actionByRoot,l=a[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const o in s){const a=s[o];a.restoreOriginalState(),this._removeInactiveBinding(a)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class gR{constructor(e){this.value=e}clone(){return new gR(this.value.clone===void 0?this.value:this.value.clone())}}let xde=0;class _de extends Na{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:xde++}),this.name="",this.usage=Rm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<s.length;o++)this.uniforms.push(s[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class wde extends L_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Sde{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class tH{constructor(e,n,r=0,i=1/0){this.ray=new ih(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Qc,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return KM(e,this,r,n),r.sort(lD),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)KM(e[i],this,r,n);return r.sort(lD),r}}function lD(t,e){return t.distance-e.distance}function KM(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,o=i.length;s<o;s++)KM(i[s],e,n,!0)}}class nH{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Wn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class bde{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const cD=new Te;class Ede{constructor(e=new Te(1/0,1/0),n=new Te(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=cD.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,cD).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const uD=new G,Bv=new G;class Mde{constructor(e=new G,n=new G){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){uD.subVectors(e,this.start),Bv.subVectors(this.end,this.start);const r=Bv.dot(Bv);let s=Bv.dot(uD)/r;return n&&(s=Wn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const dD=new G;class Tde extends on{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new zt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,a=1,l=32;o<l;o++,a++){const c=o/l*Math.PI*2,u=a/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new st(i,3));const s=new gi({fog:!1,toneMapped:!1});this.cone=new Vo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),dD.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(dD),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Ka=new G,zv=new St,ib=new St;class Ade extends Vo{constructor(e){const n=rH(e),r=new zt,i=[],s=[],o=new Ye(0,0,1),a=new Ye(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(o.r,o.g,o.b),s.push(a.r,a.g,a.b))}r.setAttribute("position",new st(i,3)),r.setAttribute("color",new st(s,3));const l=new gi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");ib.copy(this.root.matrixWorld).invert();for(let s=0,o=0;s<n.length;s++){const a=n[s];a.parent&&a.parent.isBone&&(zv.multiplyMatrices(ib,a.matrixWorld),Ka.setFromMatrixPosition(zv),i.setXYZ(o,Ka.x,Ka.y,Ka.z),zv.multiplyMatrices(ib,a.parent.matrixWorld),Ka.setFromMatrixPosition(zv),i.setXYZ(o+1,Ka.x,Ka.y,Ka.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function rH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,rH(t.children[n]));return e}class Cde extends pr{constructor(e,n,r){const i=new gg(n,4,2),s=new Yl({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const Rde=new G,fD=new Ye,hD=new Ye;class Pde extends on{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new mg(n);i.rotateY(Math.PI*.5),this.material=new Yl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),o=new Float32Array(s.count*3);i.setAttribute("color",new hn(o,3)),this.add(new pr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");fD.copy(this.light.color),hD.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?fD:hD;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(Rde.setFromMatrixPosition(this.light.matrixWorld).negate())}}class Nde extends Vo{constructor(e=10,n=10,r=4473924,i=8947848){r=new Ye(r),i=new Ye(i);const s=n/2,o=e/n,a=e/2,l=[],c=[];for(let p=0,m=0,y=-a;p<=n;p++,y+=o){l.push(-a,0,y,a,0,y),l.push(y,0,-a,y,0,a);const x=p===s?r:i;x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3,x.toArray(c,m),m+=3}const u=new zt;u.setAttribute("position",new st(l,3)),u.setAttribute("color",new st(c,3));const f=new gi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ide extends Vo{constructor(e=10,n=16,r=8,i=64,s=4473924,o=8947848){s=new Ye(s),o=new Ye(o);const a=[],l=[];if(n>1)for(let f=0;f<n;f++){const p=f/n*(Math.PI*2),m=Math.sin(p)*e,y=Math.cos(p)*e;a.push(0,0,0),a.push(m,0,y);const x=f&1?s:o;l.push(x.r,x.g,x.b),l.push(x.r,x.g,x.b)}for(let f=0;f<r;f++){const p=f&1?s:o,m=e-e/r*f;for(let y=0;y<i;y++){let x=y/i*(Math.PI*2),v=Math.sin(x)*m,g=Math.cos(x)*m;a.push(v,0,g),l.push(p.r,p.g,p.b),x=(y+1)/i*(Math.PI*2),v=Math.sin(x)*m,g=Math.cos(x)*m,a.push(v,0,g),l.push(p.r,p.g,p.b)}}const c=new zt;c.setAttribute("position",new st(a,3)),c.setAttribute("color",new st(l,3));const u=new gi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const pD=new G,Vv=new G,mD=new G;class Lde extends on{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new zt;i.setAttribute("position",new st([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new gi({fog:!1,toneMapped:!1});this.lightPlane=new Fl(i,s),this.add(this.lightPlane),i=new zt,i.setAttribute("position",new st([0,0,0,0,0,1],3)),this.targetLine=new Fl(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),pD.setFromMatrixPosition(this.light.matrixWorld),Vv.setFromMatrixPosition(this.light.target.matrixWorld),mD.subVectors(Vv,pD),this.lightPlane.lookAt(Vv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vv),this.targetLine.scale.z=mD.length()}}const jv=new G,zn=new cg;class kde extends Vo{constructor(e){const n=new zt,r=new gi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(y,x){l(y),l(x)}function l(y){i.push(0,0,0),s.push(0,0,0),o[y]===void 0&&(o[y]=[]),o[y].push(i.length/3-1)}n.setAttribute("position",new st(i,3)),n.setAttribute("color",new st(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new Ye(16755200),u=new Ye(16711680),f=new Ye(43775),p=new Ye(16777215),m=new Ye(3355443);this.setColors(c,u,f,p,m)}setColors(e,n,r,i,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,n.r,n.g,n.b),a.setXYZ(25,n.r,n.g,n.b),a.setXYZ(26,n.r,n.g,n.b),a.setXYZ(27,n.r,n.g,n.b),a.setXYZ(28,n.r,n.g,n.b),a.setXYZ(29,n.r,n.g,n.b),a.setXYZ(30,n.r,n.g,n.b),a.setXYZ(31,n.r,n.g,n.b),a.setXYZ(32,r.r,r.g,r.b),a.setXYZ(33,r.r,r.g,r.b),a.setXYZ(34,r.r,r.g,r.b),a.setXYZ(35,r.r,r.g,r.b),a.setXYZ(36,r.r,r.g,r.b),a.setXYZ(37,r.r,r.g,r.b),a.setXYZ(38,i.r,i.g,i.b),a.setXYZ(39,i.r,i.g,i.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;zn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),Xn("c",n,e,zn,0,0,-1),Xn("t",n,e,zn,0,0,1),Xn("n1",n,e,zn,-r,-i,-1),Xn("n2",n,e,zn,r,-i,-1),Xn("n3",n,e,zn,-r,i,-1),Xn("n4",n,e,zn,r,i,-1),Xn("f1",n,e,zn,-r,-i,1),Xn("f2",n,e,zn,r,-i,1),Xn("f3",n,e,zn,-r,i,1),Xn("f4",n,e,zn,r,i,1),Xn("u1",n,e,zn,r*.7,i*1.1,-1),Xn("u2",n,e,zn,-r*.7,i*1.1,-1),Xn("u3",n,e,zn,0,i*2,-1),Xn("cf1",n,e,zn,-r,0,1),Xn("cf2",n,e,zn,r,0,1),Xn("cf3",n,e,zn,0,-i,1),Xn("cf4",n,e,zn,0,i,1),Xn("cn1",n,e,zn,-r,0,-1),Xn("cn2",n,e,zn,r,0,-1),Xn("cn3",n,e,zn,0,-i,-1),Xn("cn4",n,e,zn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Xn(t,e,n,r,i,s,o){jv.set(i,s,o).unproject(r);const a=e[t];if(a!==void 0){const l=n.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],jv.x,jv.y,jv.z)}}const Hv=new fi;class Dde extends Vo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new zt;s.setIndex(new hn(r,1)),s.setAttribute("position",new hn(i,3)),super(s,new gi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Hv.setFromObject(this.object),Hv.isEmpty())return;const n=Hv.min,r=Hv.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ode extends Vo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new zt;s.setIndex(new hn(r,1)),s.setAttribute("position",new st(i,3)),super(s,new gi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class Fde extends Fl{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new zt;o.setAttribute("position",new st(s,3)),o.computeBoundingSphere(),super(o,new gi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const a=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new zt;l.setAttribute("position",new st(a,3)),l.computeBoundingSphere(),this.add(new pr(l,new Yl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const gD=new G;let Wv,sb;class Ude extends on{constructor(e=new G(0,0,1),n=new G(0,0,0),r=1,i=16776960,s=r*.2,o=s*.2){super(),this.type="ArrowHelper",Wv===void 0&&(Wv=new zt,Wv.setAttribute("position",new st([0,0,0,0,1,0],3)),sb=new oh(0,.5,1,5,1),sb.translate(0,-.5,0)),this.position.copy(n),this.line=new Fl(Wv,new gi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new pr(sb,new Yl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{gD.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(gD,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class Bde extends Vo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new zt;i.setAttribute("position",new st(n,3)),i.setAttribute("color",new st(r,3));const s=new gi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Ye,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class zde{constructor(){this.type="ShapePath",this.color=new Ye,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Nm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,o){return this.currentPath.bezierCurveTo(e,n,r,i,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(g){const w=[];for(let S=0,M=g.length;S<M;S++){const C=g[S],P=new tu;P.curves=C.curves,w.push(P)}return w}function r(g,w){const S=w.length;let M=!1;for(let C=S-1,P=0;P<S;C=P++){let I=w[C],O=w[P],N=O.x-I.x,k=O.y-I.y;if(Math.abs(k)>Number.EPSILON){if(k<0&&(I=w[P],N=-N,O=w[C],k=-k),g.y<I.y||g.y>O.y)continue;if(g.y===I.y){if(g.x===I.x)return!0}else{const V=k*(g.x-I.x)-N*(g.y-I.y);if(V===0)return!0;if(V<0)continue;M=!M}}else{if(g.y!==I.y)continue;if(O.x<=g.x&&g.x<=I.x||I.x<=g.x&&g.x<=O.x)return!0}}return M}const i=Do.isClockWise,s=this.subPaths;if(s.length===0)return[];let o,a,l;const c=[];if(s.length===1)return a=s[0],l=new tu,l.curves=a.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],p=[];let m=[],y=0,x;p[y]=void 0,m[y]=[];for(let g=0,w=s.length;g<w;g++)a=s[g],x=a.getPoints(),o=i(x),o=e?!o:o,o?(!u&&p[y]&&y++,p[y]={s:new tu,p:x},p[y].s.curves=a.curves,u&&y++,m[y]=[]):m[y].push({h:a,p:x[0]});if(!p[0])return n(s);if(p.length>1){let g=!1,w=0;for(let S=0,M=p.length;S<M;S++)f[S]=[];for(let S=0,M=p.length;S<M;S++){const C=m[S];for(let P=0;P<C.length;P++){const I=C[P];let O=!0;for(let N=0;N<p.length;N++)r(I.p,p[N].p)&&(S!==N&&w++,O?(O=!1,f[N].push(I)):g=!0);O&&f[S].push(I)}}w>0&&g===!1&&(m=f)}let v;for(let g=0,w=p.length;g<w;g++){l=p[g].s,c.push(l),v=m[g];for(let S=0,M=v.length;S<M;S++)l.holes.push(v[S].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:sg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=sg);const Vde=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:AC,AddEquation:ol,AddOperation:vV,AdditiveAnimationBlendMode:OC,AdditiveBlending:mx,AgXToneMapping:bV,AlphaFormat:AV,AlwaysCompare:GV,AlwaysDepth:dV,AlwaysStencilFunc:zM,AmbientLight:$j,AnimationAction:eH,AnimationClip:Fm,AnimationLoader:Hue,AnimationMixer:vde,AnimationObjectGroup:gde,AnimationUtils:Bue,ArcCurve:vj,ArrayCamera:lj,ArrowHelper:Ude,AttachedBindMode:pM,Audio:Jj,AudioAnalyser:ode,AudioContext:fR,AudioListener:rde,AudioLoader:ede,AxesHelper:Bde,BackSide:di,BasicDepthPacking:OV,BasicShadowMap:X5,BatchedMesh:mj,Bone:ZC,BooleanKeyframeTrack:Mu,Box2:Ede,Box3:fi,Box3Helper:Ode,BoxGeometry:Eu,BoxHelper:Dde,BufferAttribute:hn,BufferGeometry:zt,BufferGeometryLoader:Zj,ByteType:MV,Cache:da,Camera:cg,CameraHelper:kde,CanvasTexture:cue,CapsuleGeometry:F_,CatmullRomCurve3:xj,CineonToneMapping:wV,CircleGeometry:U_,ClampToEdgeWrapping:$r,Clock:hR,Color:Ye,ColorKeyframeTrack:cR,ColorManagement:un,CompressedArrayTexture:aue,CompressedCubeTexture:lue,CompressedTexture:D_,CompressedTextureLoader:Wue,ConeGeometry:B_,ConstantAlphaFactor:lV,ConstantColorFactor:oV,CubeCamera:QV,CubeReflectionMapping:Ma,CubeRefractionMapping:Dl,CubeTexture:ug,CubeTextureLoader:Gue,CubeUVReflectionMapping:rh,CubicBezierCurve:eR,CubicBezierCurve3:_j,CubicInterpolant:Uj,CullFaceBack:cM,CullFaceFront:$5,CullFaceFrontBack:Zre,CullFaceNone:G5,Curve:ro,CurvePath:Sj,CustomBlending:q5,CustomToneMapping:SV,CylinderGeometry:oh,Cylindrical:bde,Data3DTexture:VC,DataArrayTexture:R_,DataTexture:eu,DataTextureLoader:$ue,DataUtils:ose,DecrementStencilOp:cie,DecrementWrapStencilOp:die,DefaultLoadingManager:Vj,DepthFormat:Tl,DepthStencilFormat:cu,DepthTexture:GC,DetachedBindMode:EV,DirectionalLight:Gj,DirectionalLightHelper:Lde,DiscreteInterpolant:Bj,DisplayP3ColorSpace:C_,DodecahedronGeometry:z_,DoubleSide:Mo,DstAlphaFactor:tV,DstColorFactor:rV,DynamicCopyUsage:Tie,DynamicDrawUsage:_ie,DynamicReadUsage:bie,EdgesGeometry:bj,EllipseCurve:O_,EqualCompare:VV,EqualDepth:hV,EqualStencilFunc:mie,EquirectangularReflectionMapping:xm,EquirectangularRefractionMapping:_m,Euler:lg,EventDispatcher:Na,ExtrudeGeometry:j_,FileLoader:Ta,Float16BufferAttribute:fse,Float32BufferAttribute:st,Float64BufferAttribute:hse,FloatType:qs,Fog:I_,FogExp2:N_,FramebufferTexture:oue,FrontSide:Ea,Frustum:dg,GLBufferAttribute:Sde,GLSL1:Cie,GLSL3:VM,GreaterCompare:jV,GreaterDepth:mV,GreaterEqualCompare:WV,GreaterEqualDepth:pV,GreaterEqualStencilFunc:xie,GreaterStencilFunc:yie,GridHelper:Nde,Group:Wd,HalfFloatType:Nf,HemisphereLight:jj,HemisphereLightHelper:Pde,IcosahedronGeometry:H_,ImageBitmapLoader:Que,ImageLoader:Um,ImageUtils:zC,IncrementStencilOp:lie,IncrementWrapStencilOp:uie,InstancedBufferAttribute:Df,InstancedBufferGeometry:Kj,InstancedInterleavedBuffer:wde,InstancedMesh:pj,Int16BufferAttribute:use,Int32BufferAttribute:dse,Int8BufferAttribute:ase,IntType:RC,InterleavedBuffer:L_,InterleavedBufferAttribute:uu,Interpolant:yg,InterpolateDiscrete:bm,InterpolateLinear:Em,InterpolateSmooth:S0,InvertStencilOp:fie,KeepStencilOp:Ec,KeyframeTrack:io,LOD:fj,LatheGeometry:pg,Layers:Qc,LessCompare:zV,LessDepth:fV,LessEqualCompare:UC,LessEqualDepth:vm,LessEqualStencilFunc:gie,LessStencilFunc:pie,Light:Zl,LightProbe:Yj,Line:Fl,Line3:Mde,LineBasicMaterial:gi,LineCurve:tR,LineCurve3:wj,LineDashedMaterial:Dj,LineLoop:gj,LineSegments:Vo,LinearDisplayP3ColorSpace:ag,LinearEncoding:FC,LinearFilter:Zn,LinearInterpolant:lR,LinearMipMapLinearFilter:nie,LinearMipMapNearestFilter:tie,LinearMipmapLinearFilter:Ol,LinearMipmapNearestFilter:CC,LinearSRGBColorSpace:Bo,LinearToneMapping:xV,LinearTransfer:Tm,Loader:Di,LoaderUtils:YM,LoadingManager:uR,LoopOnce:LV,LoopPingPong:DV,LoopRepeat:kV,LuminanceAlphaFormat:RV,LuminanceFormat:CV,MOUSE:Yre,Material:Zr,MaterialLoader:K_,MathUtils:$V,Matrix3:Bt,Matrix4:St,MaxEquation:hM,Mesh:pr,MeshBasicMaterial:Yl,MeshDepthMaterial:$C,MeshDistanceMaterial:XC,MeshLambertMaterial:Lj,MeshMatcapMaterial:kj,MeshNormalMaterial:Ij,MeshPhongMaterial:Pj,MeshPhysicalMaterial:oR,MeshStandardMaterial:sR,MeshToonMaterial:Nj,MinEquation:fM,MirroredRepeatWrapping:Sm,MixOperation:yV,MultiplyBlending:dM,MultiplyOperation:og,NearestFilter:Yn,NearestMipMapLinearFilter:eie,NearestMipMapNearestFilter:Qre,NearestMipmapLinearFilter:kp,NearestMipmapNearestFilter:vx,NeverCompare:BV,NeverDepth:uV,NeverStencilFunc:hie,NoBlending:pa,NoColorSpace:Xi,NoToneMapping:Lo,NormalAnimationBlendMode:A_,NormalBlending:Zc,NotEqualCompare:HV,NotEqualDepth:gV,NotEqualStencilFunc:vie,NumberKeyframeTrack:Dm,Object3D:on,ObjectLoader:Zue,ObjectSpaceNormalMap:UV,OctahedronGeometry:mg,OneFactor:J5,OneMinusConstantAlphaFactor:cV,OneMinusConstantColorFactor:aV,OneMinusDstAlphaFactor:nV,OneMinusDstColorFactor:iV,OneMinusSrcAlphaFactor:yx,OneMinusSrcColorFactor:eV,OrthographicCamera:hg,P3Primaries:Cm,PCFShadowMap:E_,PCFSoftShadowMap:Lp,PMREMGenerator:HM,Path:Nm,PerspectiveCamera:Er,Plane:nl,PlaneGeometry:fg,PlaneHelper:Fde,PointLight:Wj,PointLightHelper:Cde,Points:yj,PointsMaterial:JC,PolarGridHelper:Ide,PolyhedronGeometry:Kl,PositionalAudio:sde,PropertyBinding:Kt,PropertyMixer:Qj,QuadraticBezierCurve:nR,QuadraticBezierCurve3:rR,Quaternion:Ni,QuaternionKeyframeTrack:ah,QuaternionLinearInterpolant:zj,RED_GREEN_RGTC2_Format:UM,RED_RGTC1_Format:IV,REVISION:sg,RGBADepthPacking:FV,RGBAFormat:oi,RGBAIntegerFormat:kC,RGBA_ASTC_10x10_Format:IM,RGBA_ASTC_10x5_Format:RM,RGBA_ASTC_10x6_Format:PM,RGBA_ASTC_10x8_Format:NM,RGBA_ASTC_12x10_Format:LM,RGBA_ASTC_12x12_Format:kM,RGBA_ASTC_4x4_Format:wM,RGBA_ASTC_5x4_Format:SM,RGBA_ASTC_5x5_Format:bM,RGBA_ASTC_6x5_Format:EM,RGBA_ASTC_6x6_Format:MM,RGBA_ASTC_8x5_Format:TM,RGBA_ASTC_8x6_Format:AM,RGBA_ASTC_8x8_Format:CM,RGBA_BPTC_Format:w0,RGBA_ETC2_EAC_Format:_M,RGBA_PVRTC_2BPPV1_Format:vM,RGBA_PVRTC_4BPPV1_Format:yM,RGBA_S3TC_DXT1_Format:v0,RGBA_S3TC_DXT3_Format:x0,RGBA_S3TC_DXT5_Format:_0,RGB_BPTC_SIGNED_Format:DM,RGB_BPTC_UNSIGNED_Format:OM,RGB_ETC1_Format:DC,RGB_ETC2_Format:xM,RGB_PVRTC_2BPPV1_Format:gM,RGB_PVRTC_4BPPV1_Format:mM,RGB_S3TC_DXT1_Format:y0,RGFormat:NV,RGIntegerFormat:LC,RawShaderMaterial:Rj,Ray:ih,Raycaster:tH,Rec709Primaries:Am,RectAreaLight:Xj,RedFormat:PV,RedIntegerFormat:IC,ReinhardToneMapping:_V,RenderTarget:YV,RepeatWrapping:wm,ReplaceStencilOp:aie,ReverseSubtractEquation:K5,RingGeometry:W_,SIGNED_RED_GREEN_RGTC2_Format:BM,SIGNED_RED_RGTC1_Format:FM,SRGBColorSpace:fr,SRGBTransfer:yn,Scene:YC,ShaderChunk:Ot,ShaderLib:Ws,ShaderMaterial:no,ShadowMaterial:Cj,Shape:tu,ShapeGeometry:G_,ShapePath:zde,ShapeUtils:Do,ShortType:TV,Skeleton:k_,SkeletonHelper:Ade,SkinnedMesh:hj,Source:Fc,Sphere:Yr,SphereGeometry:gg,Spherical:nH,SphericalHarmonics3:qj,SplineCurve:iR,SpotLight:Hj,SpotLightHelper:Tde,Sprite:dj,SpriteMaterial:KC,SrcAlphaFactor:gx,SrcAlphaSaturateFactor:sV,SrcColorFactor:Q5,StaticCopyUsage:Mie,StaticDrawUsage:Rm,StaticReadUsage:Sie,StereoCamera:tde,StreamCopyUsage:Aie,StreamDrawUsage:wie,StreamReadUsage:Eie,StringKeyframeTrack:Tu,SubtractEquation:Y5,SubtractiveBlending:uM,TOUCH:Kre,TangentSpaceNormalMap:ql,TetrahedronGeometry:$_,Texture:Qn,TextureLoader:Xue,TorusGeometry:X_,TorusKnotGeometry:q_,Triangle:Mi,TriangleFanDrawMode:sie,TriangleStripDrawMode:iie,TrianglesDrawMode:rie,TubeGeometry:Y_,TwoPassDoubleSide:Jre,UVMapping:M_,Uint16BufferAttribute:jC,Uint32BufferAttribute:HC,Uint8BufferAttribute:lse,Uint8ClampedBufferAttribute:cse,Uniform:gR,UniformsGroup:_de,UniformsLib:Ve,UniformsUtils:JV,UnsignedByteType:ko,UnsignedInt248Type:Ml,UnsignedIntType:ua,UnsignedShort4444Type:PC,UnsignedShort5551Type:NC,UnsignedShortType:T_,VSMShadowMap:Us,Vector2:Te,Vector3:G,Vector4:dn,VectorKeyframeTrack:Om,VideoTexture:sue,WebGL1Renderer:cj,WebGL3DRenderTarget:qie,WebGLArrayRenderTarget:Xie,WebGLCoordinateSystem:Ys,WebGLCubeRenderTarget:ej,WebGLMultipleRenderTargets:Yie,WebGLRenderTarget:to,WebGLRenderer:qC,WebGLUtils:aj,WebGPUCoordinateSystem:If,WireframeGeometry:Aj,WrapAroundEnding:Mm,ZeroCurvatureEnding:Dc,ZeroFactor:Z5,ZeroSlopeEnding:Oc,ZeroStencilOp:oie,_SRGBAFormat:xx,createCanvasElement:qV,sRGBEncoding:Al},Symbol.toStringTag,{value:"Module"}));var iH={exports:{}},Au={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Au.ConcurrentRoot=1;Au.ContinuousEventPriority=4;Au.DefaultEventPriority=16;Au.DiscreteEventPriority=1;Au.IdleEventPriority=536870912;Au.LegacyRoot=0;iH.exports=Au;var $d=iH.exports;function jde(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const p=e;e=u?f:Object.assign({},e,f),n.forEach(m=>m(e,p))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let p=u(e);function m(){const y=u(e);if(!f(p,y)){const x=p;c(p=y,x)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const Hde=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),yD=Hde?T.useEffect:T.useLayoutEffect;function Wde(t){const e=typeof t=="function"?jde(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=T.useReducer(v=>v+1,0),o=e.getState(),a=T.useRef(o),l=T.useRef(r),c=T.useRef(i),u=T.useRef(!1),f=T.useRef();f.current===void 0&&(f.current=r(o));let p,m=!1;(a.current!==o||l.current!==r||c.current!==i||u.current)&&(p=r(o),m=!i(f.current,p)),yD(()=>{m&&(f.current=p),a.current=o,l.current=r,c.current=i,u.current=!1});const y=T.useRef(o);yD(()=>{const v=()=>{try{const w=e.getState(),S=l.current(w);c.current(f.current,S)||(a.current=w,f.current=S,s())}catch{u.current=!0,s()}},g=e.subscribe(v);return e.getState()!==y.current&&v(),g},[]);const x=m?p:f.current;return T.useDebugValue(x),x};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}var sH={exports:{}},ob={exports:{}},ab={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD;function Gde(){return vD||(vD=1,function(t){function e(D,F){var j=D.length;D.push(F);e:for(;0<j;){var K=j-1>>>1,ee=D[K];if(0<i(ee,F))D[K]=F,D[j]=ee,j=K;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],j=D.pop();if(j!==F){D[0]=j;e:for(var K=0,ee=D.length,J=ee>>>1;K<J;){var ae=2*(K+1)-1,Se=D[ae],Ae=ae+1,ce=D[Ae];if(0>i(Se,j))Ae<ee&&0>i(ce,Se)?(D[K]=ce,D[Ae]=j,K=Ae):(D[K]=Se,D[ae]=j,K=ae);else if(Ae<ee&&0>i(ce,j))D[K]=ce,D[Ae]=j,K=Ae;else break e}}return F}function i(D,F){var j=D.sortIndex-F.sortIndex;return j!==0?j:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function M(D){if(x=!1,S(D),!y)if(n(l)!==null)y=!0,q(C);else{var F=n(c);F!==null&&te(M,F.startTime-D)}}function C(D,F){y=!1,x&&(x=!1,g(O),O=-1),m=!0;var j=p;try{for(S(F),f=n(l);f!==null&&(!(f.expirationTime>F)||D&&!V());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ee=K(f.expirationTime<=F);F=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),S(F)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var ae=n(c);ae!==null&&te(M,ae.startTime-F),J=!1}return J}finally{f=null,p=j,m=!1}}var P=!1,I=null,O=-1,N=5,k=-1;function V(){return!(t.unstable_now()-k<N)}function W(){if(I!==null){var D=t.unstable_now();k=D;var F=!0;try{F=I(!0,D)}finally{F?Q():(P=!1,I=null)}}else P=!1}var Q;if(typeof w=="function")Q=function(){w(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=W,Q=function(){Y.postMessage(null)}}else Q=function(){v(W,0)};function q(D){I=D,P||(P=!0,Q())}function te(D,F){O=v(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,q(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var j=p;p=F;try{return D()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=p;p=D;try{return F()}finally{p=j}},t.unstable_scheduleCallback=function(D,F,j){var K=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,D){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=j+ee,D={id:u++,callback:F,priorityLevel:D,startTime:j,expirationTime:ee,sortIndex:-1},j>K?(D.sortIndex=j,e(c,D),n(l)===null&&D===n(c)&&(x?(g(O),O=-1):x=!0,te(M,j-K))):(D.sortIndex=ee,e(l,D),y||m||(y=!0,q(C))),D},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(D){var F=p;return function(){var j=p;p=F;try{return D.apply(this,arguments)}finally{p=j}}}}(ab)),ab}var xD;function $de(){return xD||(xD=1,ob.exports=Gde()),ob.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xde=function(e){var n={},r=T,i=$de(),s=Object.assign;function o(d){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+d,b=1;b<arguments.length;b++)h+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),M=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(d){return d===null||typeof d!="object"?null:(d=C&&d[C]||d["@@iterator"],typeof d=="function"?d:null)}function I(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case v:return"Suspense";case g:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case y:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case x:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case w:return h=d.displayName||null,h!==null?h:I(d.type)||"Memo";case S:h=d._payload,d=d._init;try{return I(d(h))}catch{}}return null}function O(d){var h=d.type;switch(d.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=h.render,d=d.displayName||d.name||"",h.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(h);case 8:return h===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function N(d){var h=d,b=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,h.flags&4098&&(b=h.return),d=h.return;while(d)}return h.tag===3?b:null}function k(d){if(N(d)!==d)throw Error(o(188))}function V(d){var h=d.alternate;if(!h){if(h=N(d),h===null)throw Error(o(188));return h!==d?null:d}for(var b=d,E=h;;){var A=b.return;if(A===null)break;var L=A.alternate;if(L===null){if(E=A.return,E!==null){b=E;continue}break}if(A.child===L.child){for(L=A.child;L;){if(L===b)return k(A),d;if(L===E)return k(A),h;L=L.sibling}throw Error(o(188))}if(b.return!==E.return)b=A,E=L;else{for(var $=!1,re=A.child;re;){if(re===b){$=!0,b=A,E=L;break}if(re===E){$=!0,E=A,b=L;break}re=re.sibling}if(!$){for(re=L.child;re;){if(re===b){$=!0,b=L,E=A;break}if(re===E){$=!0,E=L,b=A;break}re=re.sibling}if(!$)throw Error(o(189))}}if(b.alternate!==E)throw Error(o(190))}if(b.tag!==3)throw Error(o(188));return b.stateNode.current===b?d:h}function W(d){return d=V(d),d!==null?Q(d):null}function Q(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var h=Q(d);if(h!==null)return h;d=d.sibling}return null}function U(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var h=U(d);if(h!==null)return h}d=d.sibling}return null}var Y=Array.isArray,q=e.getPublicInstance,te=e.getRootHostContext,D=e.getChildHostContext,F=e.prepareForCommit,j=e.resetAfterCommit,K=e.createInstance,ee=e.appendInitialChild,J=e.finalizeInitialChildren,ae=e.prepareUpdate,Se=e.shouldSetTextContent,Ae=e.createTextInstance,ce=e.scheduleTimeout,Oe=e.cancelTimeout,Be=e.noTimeout,Re=e.isPrimaryRenderer,Le=e.supportsMutation,X=e.supportsPersistence,Ee=e.supportsHydration,ve=e.getInstanceFromNode,Pe=e.preparePortalMount,we=e.getCurrentEventPriority,Je=e.detachDeletedInstance,He=e.supportsMicrotasks,z=e.scheduleMicrotask,R=e.supportsTestSelectors,B=e.findFiberRoot,Z=e.getBoundingRect,oe=e.getTextContent,ie=e.isHiddenSubtree,de=e.matchAccessibilityRole,fe=e.setFocusIfFocusable,Ce=e.setupIntersectionObserver,ze=e.appendChild,lt=e.appendChildToContainer,Me=e.commitTextUpdate,At=e.commitMount,Ct=e.commitUpdate,pt=e.insertBefore,nt=e.insertInContainerBefore,Ke=e.removeChild,mt=e.removeChildFromContainer,Xt=e.resetTextContent,ln=e.hideInstance,Nt=e.hideTextInstance,Fe=e.unhideInstance,ne=e.unhideTextInstance,je=e.clearContainer,Ue=e.cloneInstance,yt=e.createContainerChildSet,Ne=e.appendChildToContainerChildSet,ut=e.finalizeContainerChildren,ht=e.replaceContainerChildren,Yt=e.cloneHiddenInstance,an=e.cloneHiddenTextInstance,Wt=e.canHydrateInstance,xn=e.canHydrateTextInstance,An=e.canHydrateSuspenseInstance,yi=e.isSuspenseInstancePending,fh=e.isSuspenseInstanceFallback,Cu=e.registerSuspenseInstanceRetry,Ia=e.getNextHydratableSibling,Ru=e.getFirstHydratableChild,Tg=e.getFirstHydratableChildWithinContainer,Ag=e.getFirstHydratableChildWithinSuspenseInstance,lw=e.hydrateInstance,cw=e.hydrateTextInstance,uw=e.hydrateSuspenseInstance,H=e.getNextHydratableInstanceAfterSuspenseInstance,le=e.commitHydratedContainer,pe=e.commitHydratedSuspenseInstance,ge=e.clearSuspenseBoundary,he=e.clearSuspenseBoundaryFromContainer,qe=e.shouldDeleteUnhydratedTailInstances,dt=e.didNotMatchHydratedContainerTextInstance,vt=e.didNotMatchHydratedTextInstance,_t;function Mt(d){if(_t===void 0)try{throw Error()}catch(b){var h=b.stack.trim().match(/\n( *(at )?)/);_t=h&&h[1]||""}return`
`+_t+d}var bt=!1;function Tt(d,h){if(!d||bt)return"";bt=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(ke){var E=ke}Reflect.construct(d,[],h)}else{try{h.call()}catch(ke){E=ke}d.call(h.prototype)}else{try{throw Error()}catch(ke){E=ke}d()}}catch(ke){if(ke&&E&&typeof ke.stack=="string"){for(var A=ke.stack.split(`
`),L=E.stack.split(`
`),$=A.length-1,re=L.length-1;1<=$&&0<=re&&A[$]!==L[re];)re--;for(;1<=$&&0<=re;$--,re--)if(A[$]!==L[re]){if($!==1||re!==1)do if($--,re--,0>re||A[$]!==L[re]){var xe=`
`+A[$].replace(" at new "," at ");return d.displayName&&xe.includes("<anonymous>")&&(xe=xe.replace("<anonymous>",d.displayName)),xe}while(1<=$&&0<=re);break}}}finally{bt=!1,Error.prepareStackTrace=b}return(d=d?d.displayName||d.name:"")?Mt(d):""}var Pn=Object.prototype.hasOwnProperty,Tr=[],_n=-1;function yr(d){return{current:d}}function wt(d){0>_n||(d.current=Tr[_n],Tr[_n]=null,_n--)}function et(d,h){_n++,Tr[_n]=d.current,d.current=h}var ns={},Vt=yr(ns),Un=yr(!1),oo=ns;function rs(d,h){var b=d.type.contextTypes;if(!b)return ns;var E=d.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===h)return E.__reactInternalMemoizedMaskedChildContext;var A={},L;for(L in b)A[L]=h[L];return E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=h,d.__reactInternalMemoizedMaskedChildContext=A),A}function vr(d){return d=d.childContextTypes,d!=null}function Gn(){wt(Un),wt(Vt)}function ao(d,h,b){if(Vt.current!==ns)throw Error(o(168));et(Vt,h),et(Un,b)}function Pu(d,h,b){var E=d.stateNode;if(h=h.childContextTypes,typeof E.getChildContext!="function")return b;E=E.getChildContext();for(var A in E)if(!(A in h))throw Error(o(108,O(d)||"Unknown",A));return s({},b,E)}function Ar(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ns,oo=Vt.current,et(Vt,d),et(Un,Un.current),!0}function Nu(d,h,b){var E=d.stateNode;if(!E)throw Error(o(169));b?(d=Pu(d,h,oo),E.__reactInternalMemoizedMergedChildContext=d,wt(Un),wt(Vt),et(Vt,d)):wt(Un),et(Un,b)}var Oi=Math.clz32?Math.clz32:t8,Cg=Math.log,e8=Math.LN2;function t8(d){return d>>>=0,d===0?32:31-(Cg(d)/e8|0)|0}var Rg=64,Pg=4194304;function hh(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ng(d,h){var b=d.pendingLanes;if(b===0)return 0;var E=0,A=d.suspendedLanes,L=d.pingedLanes,$=b&268435455;if($!==0){var re=$&~A;re!==0?E=hh(re):(L&=$,L!==0&&(E=hh(L)))}else $=b&~A,$!==0?E=hh($):L!==0&&(E=hh(L));if(E===0)return 0;if(h!==0&&h!==E&&!(h&A)&&(A=E&-E,L=h&-h,A>=L||A===16&&(L&4194240)!==0))return h;if(E&4&&(E|=b&16),h=d.entangledLanes,h!==0)for(d=d.entanglements,h&=E;0<h;)b=31-Oi(h),A=1<<b,E|=d[b],h&=~A;return E}function n8(d,h){switch(d){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function r8(d,h){for(var b=d.suspendedLanes,E=d.pingedLanes,A=d.expirationTimes,L=d.pendingLanes;0<L;){var $=31-Oi(L),re=1<<$,xe=A[$];xe===-1?(!(re&b)||re&E)&&(A[$]=n8(re,h)):xe<=h&&(d.expiredLanes|=re),L&=~re}}function dw(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function fw(d){for(var h=[],b=0;31>b;b++)h.push(d);return h}function ph(d,h,b){d.pendingLanes|=h,h!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,h=31-Oi(h),d[h]=b}function i8(d,h){var b=d.pendingLanes&~h;d.pendingLanes=h,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=h,d.mutableReadLanes&=h,d.entangledLanes&=h,h=d.entanglements;var E=d.eventTimes;for(d=d.expirationTimes;0<b;){var A=31-Oi(b),L=1<<A;h[A]=0,E[A]=-1,d[A]=-1,b&=~L}}function hw(d,h){var b=d.entangledLanes|=h;for(d=d.entanglements;b;){var E=31-Oi(b),A=1<<E;A&h|d[E]&h&&(d[E]|=h),b&=~A}}var Qt=0;function kR(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var pw=i.unstable_scheduleCallback,DR=i.unstable_cancelCallback,s8=i.unstable_shouldYield,o8=i.unstable_requestPaint,xr=i.unstable_now,mw=i.unstable_ImmediatePriority,a8=i.unstable_UserBlockingPriority,gw=i.unstable_NormalPriority,l8=i.unstable_IdlePriority,Ig=null,lo=null;function c8(d){if(lo&&typeof lo.onCommitFiberRoot=="function")try{lo.onCommitFiberRoot(Ig,d,void 0,(d.current.flags&128)===128)}catch{}}function u8(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var co=typeof Object.is=="function"?Object.is:u8,jo=null,Lg=!1,yw=!1;function OR(d){jo===null?jo=[d]:jo.push(d)}function d8(d){Lg=!0,OR(d)}function uo(){if(!yw&&jo!==null){yw=!0;var d=0,h=Qt;try{var b=jo;for(Qt=1;d<b.length;d++){var E=b[d];do E=E(!0);while(E!==null)}jo=null,Lg=!1}catch(A){throw jo!==null&&(jo=jo.slice(d+1)),pw(mw,uo),A}finally{Qt=h,yw=!1}}return null}var f8=a.ReactCurrentBatchConfig;function kg(d,h){if(co(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var b=Object.keys(d),E=Object.keys(h);if(b.length!==E.length)return!1;for(E=0;E<b.length;E++){var A=b[E];if(!Pn.call(h,A)||!co(d[A],h[A]))return!1}return!0}function h8(d){switch(d.tag){case 5:return Mt(d.type);case 16:return Mt("Lazy");case 13:return Mt("Suspense");case 19:return Mt("SuspenseList");case 0:case 2:case 15:return d=Tt(d.type,!1),d;case 11:return d=Tt(d.type.render,!1),d;case 1:return d=Tt(d.type,!0),d;default:return""}}function Ts(d,h){if(d&&d.defaultProps){h=s({},h),d=d.defaultProps;for(var b in d)h[b]===void 0&&(h[b]=d[b]);return h}return h}var Dg=yr(null),Og=null,Iu=null,vw=null;function xw(){vw=Iu=Og=null}function FR(d,h,b){Re?(et(Dg,h._currentValue),h._currentValue=b):(et(Dg,h._currentValue2),h._currentValue2=b)}function _w(d){var h=Dg.current;wt(Dg),Re?d._currentValue=h:d._currentValue2=h}function ww(d,h,b){for(;d!==null;){var E=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,E!==null&&(E.childLanes|=h)):E!==null&&(E.childLanes&h)!==h&&(E.childLanes|=h),d===b)break;d=d.return}}function Lu(d,h){Og=d,vw=Iu=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&h&&(Bi=!0),d.firstContext=null)}function is(d){var h=Re?d._currentValue:d._currentValue2;if(vw!==d)if(d={context:d,memoizedValue:h,next:null},Iu===null){if(Og===null)throw Error(o(308));Iu=d,Og.dependencies={lanes:0,firstContext:d}}else Iu=Iu.next=d;return h}var fo=null,La=!1;function Sw(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UR(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ho(d,h){return{eventTime:d,lane:h,tag:0,payload:null,callback:null,next:null}}function ka(d,h){var b=d.updateQueue;b!==null&&(b=b.shared,tr!==null&&d.mode&1&&!(jt&2)?(d=b.interleaved,d===null?(h.next=h,fo===null?fo=[b]:fo.push(b)):(h.next=d.next,d.next=h),b.interleaved=h):(d=b.pending,d===null?h.next=h:(h.next=d.next,d.next=h),b.pending=h))}function Fg(d,h,b){if(h=h.updateQueue,h!==null&&(h=h.shared,(b&4194240)!==0)){var E=h.lanes;E&=d.pendingLanes,b|=E,h.lanes=b,hw(d,b)}}function BR(d,h){var b=d.updateQueue,E=d.alternate;if(E!==null&&(E=E.updateQueue,b===E)){var A=null,L=null;if(b=b.firstBaseUpdate,b!==null){do{var $={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};L===null?A=L=$:L=L.next=$,b=b.next}while(b!==null);L===null?A=L=h:L=L.next=h}else A=L=h;b={baseState:E.baseState,firstBaseUpdate:A,lastBaseUpdate:L,shared:E.shared,effects:E.effects},d.updateQueue=b;return}d=b.lastBaseUpdate,d===null?b.firstBaseUpdate=h:d.next=h,b.lastBaseUpdate=h}function Ug(d,h,b,E){var A=d.updateQueue;La=!1;var L=A.firstBaseUpdate,$=A.lastBaseUpdate,re=A.shared.pending;if(re!==null){A.shared.pending=null;var xe=re,ke=xe.next;xe.next=null,$===null?L=ke:$.next=ke,$=xe;var tt=d.alternate;tt!==null&&(tt=tt.updateQueue,re=tt.lastBaseUpdate,re!==$&&(re===null?tt.firstBaseUpdate=ke:re.next=ke,tt.lastBaseUpdate=xe))}if(L!==null){var It=A.baseState;$=0,tt=ke=xe=null,re=L;do{var gt=re.lane,mn=re.eventTime;if((E&gt)===gt){tt!==null&&(tt=tt.next={eventTime:mn,lane:0,tag:re.tag,payload:re.payload,callback:re.callback,next:null});e:{var ft=d,Fr=re;switch(gt=h,mn=b,Fr.tag){case 1:if(ft=Fr.payload,typeof ft=="function"){It=ft.call(mn,It,gt);break e}It=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=Fr.payload,gt=typeof ft=="function"?ft.call(mn,It,gt):ft,gt==null)break e;It=s({},It,gt);break e;case 2:La=!0}}re.callback!==null&&re.lane!==0&&(d.flags|=64,gt=A.effects,gt===null?A.effects=[re]:gt.push(re))}else mn={eventTime:mn,lane:gt,tag:re.tag,payload:re.payload,callback:re.callback,next:null},tt===null?(ke=tt=mn,xe=It):tt=tt.next=mn,$|=gt;if(re=re.next,re===null){if(re=A.shared.pending,re===null)break;gt=re,re=gt.next,gt.next=null,A.lastBaseUpdate=gt,A.shared.pending=null}}while(!0);if(tt===null&&(xe=It),A.baseState=xe,A.firstBaseUpdate=ke,A.lastBaseUpdate=tt,h=A.shared.interleaved,h!==null){A=h;do $|=A.lane,A=A.next;while(A!==h)}else L===null&&(A.shared.lanes=0);ju|=$,d.lanes=$,d.memoizedState=It}}function zR(d,h,b){if(d=h.effects,h.effects=null,d!==null)for(h=0;h<d.length;h++){var E=d[h],A=E.callback;if(A!==null){if(E.callback=null,E=b,typeof A!="function")throw Error(o(191,A));A.call(E)}}}var VR=new r.Component().refs;function bw(d,h,b,E){h=d.memoizedState,b=b(E,h),b=b==null?h:s({},h,b),d.memoizedState=b,d.lanes===0&&(d.updateQueue.baseState=b)}var Bg={isMounted:function(d){return(d=d._reactInternals)?N(d)===d:!1},enqueueSetState:function(d,h,b){d=d._reactInternals;var E=Qr(),A=Fa(d),L=Ho(E,A);L.payload=h,b!=null&&(L.callback=b),ka(d,L),h=cs(d,A,E),h!==null&&Fg(h,d,A)},enqueueReplaceState:function(d,h,b){d=d._reactInternals;var E=Qr(),A=Fa(d),L=Ho(E,A);L.tag=1,L.payload=h,b!=null&&(L.callback=b),ka(d,L),h=cs(d,A,E),h!==null&&Fg(h,d,A)},enqueueForceUpdate:function(d,h){d=d._reactInternals;var b=Qr(),E=Fa(d),A=Ho(b,E);A.tag=2,h!=null&&(A.callback=h),ka(d,A),h=cs(d,E,b),h!==null&&Fg(h,d,E)}};function jR(d,h,b,E,A,L,$){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(E,L,$):h.prototype&&h.prototype.isPureReactComponent?!kg(b,E)||!kg(A,L):!0}function HR(d,h,b){var E=!1,A=ns,L=h.contextType;return typeof L=="object"&&L!==null?L=is(L):(A=vr(h)?oo:Vt.current,E=h.contextTypes,L=(E=E!=null)?rs(d,A):ns),h=new h(b,L),d.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Bg,d.stateNode=h,h._reactInternals=d,E&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=A,d.__reactInternalMemoizedMaskedChildContext=L),h}function WR(d,h,b,E){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(b,E),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(b,E),h.state!==d&&Bg.enqueueReplaceState(h,h.state,null)}function Ew(d,h,b,E){var A=d.stateNode;A.props=b,A.state=d.memoizedState,A.refs=VR,Sw(d);var L=h.contextType;typeof L=="object"&&L!==null?A.context=is(L):(L=vr(h)?oo:Vt.current,A.context=rs(d,L)),A.state=d.memoizedState,L=h.getDerivedStateFromProps,typeof L=="function"&&(bw(d,h,L,b),A.state=d.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(h=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),h!==A.state&&Bg.enqueueReplaceState(A,A.state,null),Ug(d,b,A,E),A.state=d.memoizedState),typeof A.componentDidMount=="function"&&(d.flags|=4194308)}var ku=[],Du=0,zg=null,Vg=0,ss=[],os=0,tc=null,Wo=1,Go="";function nc(d,h){ku[Du++]=Vg,ku[Du++]=zg,zg=d,Vg=h}function GR(d,h,b){ss[os++]=Wo,ss[os++]=Go,ss[os++]=tc,tc=d;var E=Wo;d=Go;var A=32-Oi(E)-1;E&=~(1<<A),b+=1;var L=32-Oi(h)+A;if(30<L){var $=A-A%5;L=(E&(1<<$)-1).toString(32),E>>=$,A-=$,Wo=1<<32-Oi(h)+A|b<<A|E,Go=L+d}else Wo=1<<L|b<<A|E,Go=d}function Mw(d){d.return!==null&&(nc(d,1),GR(d,1,0))}function Tw(d){for(;d===zg;)zg=ku[--Du],ku[Du]=null,Vg=ku[--Du],ku[Du]=null;for(;d===tc;)tc=ss[--os],ss[os]=null,Go=ss[--os],ss[os]=null,Wo=ss[--os],ss[os]=null}var Fi=null,Ui=null,Cn=!1,mh=!1,As=null;function $R(d,h){var b=us(5,null,null,0);b.elementType="DELETED",b.stateNode=h,b.return=d,h=d.deletions,h===null?(d.deletions=[b],d.flags|=16):h.push(b)}function XR(d,h){switch(d.tag){case 5:return h=Wt(h,d.type,d.pendingProps),h!==null?(d.stateNode=h,Fi=d,Ui=Ru(h),!0):!1;case 6:return h=xn(h,d.pendingProps),h!==null?(d.stateNode=h,Fi=d,Ui=null,!0):!1;case 13:if(h=An(h),h!==null){var b=tc!==null?{id:Wo,overflow:Go}:null;return d.memoizedState={dehydrated:h,treeContext:b,retryLane:1073741824},b=us(18,null,null,0),b.stateNode=h,b.return=d,d.child=b,Fi=d,Ui=null,!0}return!1;default:return!1}}function Aw(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Cw(d){if(Cn){var h=Ui;if(h){var b=h;if(!XR(d,h)){if(Aw(d))throw Error(o(418));h=Ia(b);var E=Fi;h&&XR(d,h)?$R(E,b):(d.flags=d.flags&-4097|2,Cn=!1,Fi=d)}}else{if(Aw(d))throw Error(o(418));d.flags=d.flags&-4097|2,Cn=!1,Fi=d}}}function qR(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Fi=d}function gh(d){if(!Ee||d!==Fi)return!1;if(!Cn)return qR(d),Cn=!0,!1;if(d.tag!==3&&(d.tag!==5||qe(d.type)&&!Se(d.type,d.memoizedProps))){var h=Ui;if(h){if(Aw(d)){for(d=Ui;d;)d=Ia(d);throw Error(o(418))}for(;h;)$R(d,h),h=Ia(h)}}if(qR(d),d.tag===13){if(!Ee)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Ui=H(d)}else Ui=Fi?Ia(d.stateNode):null;return!0}function Ou(){Ee&&(Ui=Fi=null,mh=Cn=!1)}function Rw(d){As===null?As=[d]:As.push(d)}function yh(d,h,b){if(d=b.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(o(309));var E=b.stateNode}if(!E)throw Error(o(147,d));var A=E,L=""+d;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===L?h.ref:(h=function($){var re=A.refs;re===VR&&(re=A.refs={}),$===null?delete re[L]:re[L]=$},h._stringRef=L,h)}if(typeof d!="string")throw Error(o(284));if(!b._owner)throw Error(o(290,d))}return d}function jg(d,h){throw d=Object.prototype.toString.call(h),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d))}function YR(d){var h=d._init;return h(d._payload)}function KR(d){function h(ue,se){if(d){var ye=ue.deletions;ye===null?(ue.deletions=[se],ue.flags|=16):ye.push(se)}}function b(ue,se){if(!d)return null;for(;se!==null;)h(ue,se),se=se.sibling;return null}function E(ue,se){for(ue=new Map;se!==null;)se.key!==null?ue.set(se.key,se):ue.set(se.index,se),se=se.sibling;return ue}function A(ue,se){return ue=Ba(ue,se),ue.index=0,ue.sibling=null,ue}function L(ue,se,ye){return ue.index=ye,d?(ye=ue.alternate,ye!==null?(ye=ye.index,ye<se?(ue.flags|=2,se):ye):(ue.flags|=2,se)):(ue.flags|=1048576,se)}function $(ue){return d&&ue.alternate===null&&(ue.flags|=2),ue}function re(ue,se,ye,$e){return se===null||se.tag!==6?(se=f1(ye,ue.mode,$e),se.return=ue,se):(se=A(se,ye),se.return=ue,se)}function xe(ue,se,ye,$e){var ct=ye.type;return ct===u?tt(ue,se,ye.props.children,$e,ye.key):se!==null&&(se.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&YR(ct)===se.type)?($e=A(se,ye.props),$e.ref=yh(ue,se,ye),$e.return=ue,$e):($e=xy(ye.type,ye.key,ye.props,null,ue.mode,$e),$e.ref=yh(ue,se,ye),$e.return=ue,$e)}function ke(ue,se,ye,$e){return se===null||se.tag!==4||se.stateNode.containerInfo!==ye.containerInfo||se.stateNode.implementation!==ye.implementation?(se=h1(ye,ue.mode,$e),se.return=ue,se):(se=A(se,ye.children||[]),se.return=ue,se)}function tt(ue,se,ye,$e,ct){return se===null||se.tag!==7?(se=cc(ye,ue.mode,$e,ct),se.return=ue,se):(se=A(se,ye),se.return=ue,se)}function It(ue,se,ye){if(typeof se=="string"&&se!==""||typeof se=="number")return se=f1(""+se,ue.mode,ye),se.return=ue,se;if(typeof se=="object"&&se!==null){switch(se.$$typeof){case l:return ye=xy(se.type,se.key,se.props,null,ue.mode,ye),ye.ref=yh(ue,null,se),ye.return=ue,ye;case c:return se=h1(se,ue.mode,ye),se.return=ue,se;case S:var $e=se._init;return It(ue,$e(se._payload),ye)}if(Y(se)||P(se))return se=cc(se,ue.mode,ye,null),se.return=ue,se;jg(ue,se)}return null}function gt(ue,se,ye,$e){var ct=se!==null?se.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ct!==null?null:re(ue,se,""+ye,$e);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:return ye.key===ct?xe(ue,se,ye,$e):null;case c:return ye.key===ct?ke(ue,se,ye,$e):null;case S:return ct=ye._init,gt(ue,se,ct(ye._payload),$e)}if(Y(ye)||P(ye))return ct!==null?null:tt(ue,se,ye,$e,null);jg(ue,ye)}return null}function mn(ue,se,ye,$e,ct){if(typeof $e=="string"&&$e!==""||typeof $e=="number")return ue=ue.get(ye)||null,re(se,ue,""+$e,ct);if(typeof $e=="object"&&$e!==null){switch($e.$$typeof){case l:return ue=ue.get($e.key===null?ye:$e.key)||null,xe(se,ue,$e,ct);case c:return ue=ue.get($e.key===null?ye:$e.key)||null,ke(se,ue,$e,ct);case S:var Ut=$e._init;return mn(ue,se,ye,Ut($e._payload),ct)}if(Y($e)||P($e))return ue=ue.get(ye)||null,tt(se,ue,$e,ct,null);jg(se,$e)}return null}function ft(ue,se,ye,$e){for(var ct=null,Ut=null,Lt=se,en=se=0,wr=null;Lt!==null&&en<ye.length;en++){Lt.index>en?(wr=Lt,Lt=null):wr=Lt.sibling;var tn=gt(ue,Lt,ye[en],$e);if(tn===null){Lt===null&&(Lt=wr);break}d&&Lt&&tn.alternate===null&&h(ue,Lt),se=L(tn,se,en),Ut===null?ct=tn:Ut.sibling=tn,Ut=tn,Lt=wr}if(en===ye.length)return b(ue,Lt),Cn&&nc(ue,en),ct;if(Lt===null){for(;en<ye.length;en++)Lt=It(ue,ye[en],$e),Lt!==null&&(se=L(Lt,se,en),Ut===null?ct=Lt:Ut.sibling=Lt,Ut=Lt);return Cn&&nc(ue,en),ct}for(Lt=E(ue,Lt);en<ye.length;en++)wr=mn(Lt,ue,en,ye[en],$e),wr!==null&&(d&&wr.alternate!==null&&Lt.delete(wr.key===null?en:wr.key),se=L(wr,se,en),Ut===null?ct=wr:Ut.sibling=wr,Ut=wr);return d&&Lt.forEach(function(za){return h(ue,za)}),Cn&&nc(ue,en),ct}function Fr(ue,se,ye,$e){var ct=P(ye);if(typeof ct!="function")throw Error(o(150));if(ye=ct.call(ye),ye==null)throw Error(o(151));for(var Ut=ct=null,Lt=se,en=se=0,wr=null,tn=ye.next();Lt!==null&&!tn.done;en++,tn=ye.next()){Lt.index>en?(wr=Lt,Lt=null):wr=Lt.sibling;var za=gt(ue,Lt,tn.value,$e);if(za===null){Lt===null&&(Lt=wr);break}d&&Lt&&za.alternate===null&&h(ue,Lt),se=L(za,se,en),Ut===null?ct=za:Ut.sibling=za,Ut=za,Lt=wr}if(tn.done)return b(ue,Lt),Cn&&nc(ue,en),ct;if(Lt===null){for(;!tn.done;en++,tn=ye.next())tn=It(ue,tn.value,$e),tn!==null&&(se=L(tn,se,en),Ut===null?ct=tn:Ut.sibling=tn,Ut=tn);return Cn&&nc(ue,en),ct}for(Lt=E(ue,Lt);!tn.done;en++,tn=ye.next())tn=mn(Lt,ue,en,tn.value,$e),tn!==null&&(d&&tn.alternate!==null&&Lt.delete(tn.key===null?en:tn.key),se=L(tn,se,en),Ut===null?ct=tn:Ut.sibling=tn,Ut=tn);return d&&Lt.forEach(function(H8){return h(ue,H8)}),Cn&&nc(ue,en),ct}function ds(ue,se,ye,$e){if(typeof ye=="object"&&ye!==null&&ye.type===u&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case l:e:{for(var ct=ye.key,Ut=se;Ut!==null;){if(Ut.key===ct){if(ct=ye.type,ct===u){if(Ut.tag===7){b(ue,Ut.sibling),se=A(Ut,ye.props.children),se.return=ue,ue=se;break e}}else if(Ut.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===S&&YR(ct)===Ut.type){b(ue,Ut.sibling),se=A(Ut,ye.props),se.ref=yh(ue,Ut,ye),se.return=ue,ue=se;break e}b(ue,Ut);break}else h(ue,Ut);Ut=Ut.sibling}ye.type===u?(se=cc(ye.props.children,ue.mode,$e,ye.key),se.return=ue,ue=se):($e=xy(ye.type,ye.key,ye.props,null,ue.mode,$e),$e.ref=yh(ue,se,ye),$e.return=ue,ue=$e)}return $(ue);case c:e:{for(Ut=ye.key;se!==null;){if(se.key===Ut)if(se.tag===4&&se.stateNode.containerInfo===ye.containerInfo&&se.stateNode.implementation===ye.implementation){b(ue,se.sibling),se=A(se,ye.children||[]),se.return=ue,ue=se;break e}else{b(ue,se);break}else h(ue,se);se=se.sibling}se=h1(ye,ue.mode,$e),se.return=ue,ue=se}return $(ue);case S:return Ut=ye._init,ds(ue,se,Ut(ye._payload),$e)}if(Y(ye))return ft(ue,se,ye,$e);if(P(ye))return Fr(ue,se,ye,$e);jg(ue,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"?(ye=""+ye,se!==null&&se.tag===6?(b(ue,se.sibling),se=A(se,ye),se.return=ue,ue=se):(b(ue,se),se=f1(ye,ue.mode,$e),se.return=ue,ue=se),$(ue)):b(ue,se)}return ds}var Fu=KR(!0),ZR=KR(!1),vh={},as=yr(vh),xh=yr(vh),Uu=yr(vh);function ho(d){if(d===vh)throw Error(o(174));return d}function Pw(d,h){et(Uu,h),et(xh,d),et(as,vh),d=te(h),wt(as),et(as,d)}function Bu(){wt(as),wt(xh),wt(Uu)}function JR(d){var h=ho(Uu.current),b=ho(as.current);h=D(b,d.type,h),b!==h&&(et(xh,d),et(as,h))}function Nw(d){xh.current===d&&(wt(as),wt(xh))}var Nn=yr(0);function Hg(d){for(var h=d;h!==null;){if(h.tag===13){var b=h.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||yi(b)||fh(b)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(h.flags&128)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Iw=[];function Lw(){for(var d=0;d<Iw.length;d++){var h=Iw[d];Re?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Iw.length=0}var Wg=a.ReactCurrentDispatcher,ls=a.ReactCurrentBatchConfig,zu=0,Bn=null,kr=null,_r=null,Gg=!1,_h=!1,wh=0,p8=0;function Dr(){throw Error(o(321))}function kw(d,h){if(h===null)return!1;for(var b=0;b<h.length&&b<d.length;b++)if(!co(d[b],h[b]))return!1;return!0}function Dw(d,h,b,E,A,L){if(zu=L,Bn=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Wg.current=d===null||d.memoizedState===null?v8:x8,d=b(E,A),_h){L=0;do{if(_h=!1,wh=0,25<=L)throw Error(o(301));L+=1,_r=kr=null,h.updateQueue=null,Wg.current=_8,d=b(E,A)}while(_h)}if(Wg.current=Kg,h=kr!==null&&kr.next!==null,zu=0,_r=kr=Bn=null,Gg=!1,h)throw Error(o(300));return d}function Ow(){var d=wh!==0;return wh=0,d}function $o(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _r===null?Bn.memoizedState=_r=d:_r=_r.next=d,_r}function po(){if(kr===null){var d=Bn.alternate;d=d!==null?d.memoizedState:null}else d=kr.next;var h=_r===null?Bn.memoizedState:_r.next;if(h!==null)_r=h,kr=d;else{if(d===null)throw Error(o(310));kr=d,d={memoizedState:kr.memoizedState,baseState:kr.baseState,baseQueue:kr.baseQueue,queue:kr.queue,next:null},_r===null?Bn.memoizedState=_r=d:_r=_r.next=d}return _r}function rc(d,h){return typeof h=="function"?h(d):h}function $g(d){var h=po(),b=h.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=d;var E=kr,A=E.baseQueue,L=b.pending;if(L!==null){if(A!==null){var $=A.next;A.next=L.next,L.next=$}E.baseQueue=A=L,b.pending=null}if(A!==null){L=A.next,E=E.baseState;var re=$=null,xe=null,ke=L;do{var tt=ke.lane;if((zu&tt)===tt)xe!==null&&(xe=xe.next={lane:0,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),E=ke.hasEagerState?ke.eagerState:d(E,ke.action);else{var It={lane:tt,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null};xe===null?(re=xe=It,$=E):xe=xe.next=It,Bn.lanes|=tt,ju|=tt}ke=ke.next}while(ke!==null&&ke!==L);xe===null?$=E:xe.next=re,co(E,h.memoizedState)||(Bi=!0),h.memoizedState=E,h.baseState=$,h.baseQueue=xe,b.lastRenderedState=E}if(d=b.interleaved,d!==null){A=d;do L=A.lane,Bn.lanes|=L,ju|=L,A=A.next;while(A!==d)}else A===null&&(b.lanes=0);return[h.memoizedState,b.dispatch]}function Xg(d){var h=po(),b=h.queue;if(b===null)throw Error(o(311));b.lastRenderedReducer=d;var E=b.dispatch,A=b.pending,L=h.memoizedState;if(A!==null){b.pending=null;var $=A=A.next;do L=d(L,$.action),$=$.next;while($!==A);co(L,h.memoizedState)||(Bi=!0),h.memoizedState=L,h.baseQueue===null&&(h.baseState=L),b.lastRenderedState=L}return[L,E]}function QR(){}function eP(d,h){var b=Bn,E=po(),A=h(),L=!co(E.memoizedState,A);if(L&&(E.memoizedState=A,Bi=!0),E=E.queue,bh(rP.bind(null,b,E,d),[d]),E.getSnapshot!==h||L||_r!==null&&_r.memoizedState.tag&1){if(b.flags|=2048,Sh(9,nP.bind(null,b,E,A,h),void 0,null),tr===null)throw Error(o(349));zu&30||tP(b,h,A)}return A}function tP(d,h,b){d.flags|=16384,d={getSnapshot:h,value:b},h=Bn.updateQueue,h===null?(h={lastEffect:null,stores:null},Bn.updateQueue=h,h.stores=[d]):(b=h.stores,b===null?h.stores=[d]:b.push(d))}function nP(d,h,b,E){h.value=b,h.getSnapshot=E,iP(h)&&cs(d,1,-1)}function rP(d,h,b){return b(function(){iP(h)&&cs(d,1,-1)})}function iP(d){var h=d.getSnapshot;d=d.value;try{var b=h();return!co(d,b)}catch{return!0}}function Fw(d){var h=$o();return typeof d=="function"&&(d=d()),h.memoizedState=h.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rc,lastRenderedState:d},h.queue=d,d=d.dispatch=y8.bind(null,Bn,d),[h.memoizedState,d]}function Sh(d,h,b,E){return d={tag:d,create:h,destroy:b,deps:E,next:null},h=Bn.updateQueue,h===null?(h={lastEffect:null,stores:null},Bn.updateQueue=h,h.lastEffect=d.next=d):(b=h.lastEffect,b===null?h.lastEffect=d.next=d:(E=b.next,b.next=d,d.next=E,h.lastEffect=d)),d}function sP(){return po().memoizedState}function qg(d,h,b,E){var A=$o();Bn.flags|=d,A.memoizedState=Sh(1|h,b,void 0,E===void 0?null:E)}function Yg(d,h,b,E){var A=po();E=E===void 0?null:E;var L=void 0;if(kr!==null){var $=kr.memoizedState;if(L=$.destroy,E!==null&&kw(E,$.deps)){A.memoizedState=Sh(h,b,L,E);return}}Bn.flags|=d,A.memoizedState=Sh(1|h,b,L,E)}function Uw(d,h){return qg(8390656,8,d,h)}function bh(d,h){return Yg(2048,8,d,h)}function oP(d,h){return Yg(4,2,d,h)}function aP(d,h){return Yg(4,4,d,h)}function lP(d,h){if(typeof h=="function")return d=d(),h(d),function(){h(null)};if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function cP(d,h,b){return b=b!=null?b.concat([d]):null,Yg(4,4,lP.bind(null,h,d),b)}function Bw(){}function uP(d,h){var b=po();h=h===void 0?null:h;var E=b.memoizedState;return E!==null&&h!==null&&kw(h,E[1])?E[0]:(b.memoizedState=[d,h],d)}function dP(d,h){var b=po();h=h===void 0?null:h;var E=b.memoizedState;return E!==null&&h!==null&&kw(h,E[1])?E[0]:(d=d(),b.memoizedState=[d,h],d)}function m8(d,h){var b=Qt;Qt=b!==0&&4>b?b:4,d(!0);var E=ls.transition;ls.transition={};try{d(!1),h()}finally{Qt=b,ls.transition=E}}function fP(){return po().memoizedState}function g8(d,h,b){var E=Fa(d);b={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null},hP(d)?pP(h,b):(mP(d,h,b),b=Qr(),d=cs(d,E,b),d!==null&&gP(d,h,E))}function y8(d,h,b){var E=Fa(d),A={lane:E,action:b,hasEagerState:!1,eagerState:null,next:null};if(hP(d))pP(h,A);else{mP(d,h,A);var L=d.alternate;if(d.lanes===0&&(L===null||L.lanes===0)&&(L=h.lastRenderedReducer,L!==null))try{var $=h.lastRenderedState,re=L($,b);if(A.hasEagerState=!0,A.eagerState=re,co(re,$))return}catch{}finally{}b=Qr(),d=cs(d,E,b),d!==null&&gP(d,h,E)}}function hP(d){var h=d.alternate;return d===Bn||h!==null&&h===Bn}function pP(d,h){_h=Gg=!0;var b=d.pending;b===null?h.next=h:(h.next=b.next,b.next=h),d.pending=h}function mP(d,h,b){tr!==null&&d.mode&1&&!(jt&2)?(d=h.interleaved,d===null?(b.next=b,fo===null?fo=[h]:fo.push(h)):(b.next=d.next,d.next=b),h.interleaved=b):(d=h.pending,d===null?b.next=b:(b.next=d.next,d.next=b),h.pending=b)}function gP(d,h,b){if(b&4194240){var E=h.lanes;E&=d.pendingLanes,b|=E,h.lanes=b,hw(d,b)}}var Kg={readContext:is,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},v8={readContext:is,useCallback:function(d,h){return $o().memoizedState=[d,h===void 0?null:h],d},useContext:is,useEffect:Uw,useImperativeHandle:function(d,h,b){return b=b!=null?b.concat([d]):null,qg(4194308,4,lP.bind(null,h,d),b)},useLayoutEffect:function(d,h){return qg(4194308,4,d,h)},useInsertionEffect:function(d,h){return qg(4,2,d,h)},useMemo:function(d,h){var b=$o();return h=h===void 0?null:h,d=d(),b.memoizedState=[d,h],d},useReducer:function(d,h,b){var E=$o();return h=b!==void 0?b(h):h,E.memoizedState=E.baseState=h,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:h},E.queue=d,d=d.dispatch=g8.bind(null,Bn,d),[E.memoizedState,d]},useRef:function(d){var h=$o();return d={current:d},h.memoizedState=d},useState:Fw,useDebugValue:Bw,useDeferredValue:function(d){var h=Fw(d),b=h[0],E=h[1];return Uw(function(){var A=ls.transition;ls.transition={};try{E(d)}finally{ls.transition=A}},[d]),b},useTransition:function(){var d=Fw(!1),h=d[0];return d=m8.bind(null,d[1]),$o().memoizedState=d,[h,d]},useMutableSource:function(){},useSyncExternalStore:function(d,h,b){var E=Bn,A=$o();if(Cn){if(b===void 0)throw Error(o(407));b=b()}else{if(b=h(),tr===null)throw Error(o(349));zu&30||tP(E,h,b)}A.memoizedState=b;var L={value:b,getSnapshot:h};return A.queue=L,Uw(rP.bind(null,E,L,d),[d]),E.flags|=2048,Sh(9,nP.bind(null,E,L,b,h),void 0,null),b},useId:function(){var d=$o(),h=tr.identifierPrefix;if(Cn){var b=Go,E=Wo;b=(E&~(1<<32-Oi(E)-1)).toString(32)+b,h=":"+h+"R"+b,b=wh++,0<b&&(h+="H"+b.toString(32)),h+=":"}else b=p8++,h=":"+h+"r"+b.toString(32)+":";return d.memoizedState=h},unstable_isNewReconciler:!1},x8={readContext:is,useCallback:uP,useContext:is,useEffect:bh,useImperativeHandle:cP,useInsertionEffect:oP,useLayoutEffect:aP,useMemo:dP,useReducer:$g,useRef:sP,useState:function(){return $g(rc)},useDebugValue:Bw,useDeferredValue:function(d){var h=$g(rc),b=h[0],E=h[1];return bh(function(){var A=ls.transition;ls.transition={};try{E(d)}finally{ls.transition=A}},[d]),b},useTransition:function(){var d=$g(rc)[0],h=po().memoizedState;return[d,h]},useMutableSource:QR,useSyncExternalStore:eP,useId:fP,unstable_isNewReconciler:!1},_8={readContext:is,useCallback:uP,useContext:is,useEffect:bh,useImperativeHandle:cP,useInsertionEffect:oP,useLayoutEffect:aP,useMemo:dP,useReducer:Xg,useRef:sP,useState:function(){return Xg(rc)},useDebugValue:Bw,useDeferredValue:function(d){var h=Xg(rc),b=h[0],E=h[1];return bh(function(){var A=ls.transition;ls.transition={};try{E(d)}finally{ls.transition=A}},[d]),b},useTransition:function(){var d=Xg(rc)[0],h=po().memoizedState;return[d,h]},useMutableSource:QR,useSyncExternalStore:eP,useId:fP,unstable_isNewReconciler:!1};function zw(d,h){try{var b="",E=h;do b+=h8(E),E=E.return;while(E);var A=b}catch(L){A=`
Error generating stack: `+L.message+`
`+L.stack}return{value:d,source:h,stack:A}}function Vw(d,h){try{console.error(h.value)}catch(b){setTimeout(function(){throw b})}}var w8=typeof WeakMap=="function"?WeakMap:Map;function yP(d,h,b){b=Ho(-1,b),b.tag=3,b.payload={element:null};var E=h.value;return b.callback=function(){fy||(fy=!0,s1=E),Vw(d,h)},b}function vP(d,h,b){b=Ho(-1,b),b.tag=3;var E=d.type.getDerivedStateFromError;if(typeof E=="function"){var A=h.value;b.payload=function(){return E(A)},b.callback=function(){Vw(d,h)}}var L=d.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(b.callback=function(){Vw(d,h),typeof E!="function"&&(Da===null?Da=new Set([this]):Da.add(this));var $=h.stack;this.componentDidCatch(h.value,{componentStack:$!==null?$:""})}),b}function xP(d,h,b){var E=d.pingCache;if(E===null){E=d.pingCache=new w8;var A=new Set;E.set(h,A)}else A=E.get(h),A===void 0&&(A=new Set,E.set(h,A));A.has(b)||(A.add(b),d=D8.bind(null,d,h,b),h.then(d,d))}function _P(d){do{var h;if((h=d.tag===13)&&(h=d.memoizedState,h=h!==null?h.dehydrated!==null:!0),h)return d;d=d.return}while(d!==null);return null}function wP(d,h,b,E,A){return d.mode&1?(d.flags|=65536,d.lanes=A,d):(d===h?d.flags|=65536:(d.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(h=Ho(-1,1),h.tag=2,ka(b,h))),b.lanes|=1),d)}function mo(d){d.flags|=4}function SP(d,h){if(d!==null&&d.child===h.child)return!0;if(h.flags&16)return!1;for(d=h.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Eh,Mh,Zg,Jg;if(Le)Eh=function(d,h){for(var b=h.child;b!==null;){if(b.tag===5||b.tag===6)ee(d,b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===h)break;for(;b.sibling===null;){if(b.return===null||b.return===h)return;b=b.return}b.sibling.return=b.return,b=b.sibling}},Mh=function(){},Zg=function(d,h,b,E,A){if(d=d.memoizedProps,d!==E){var L=h.stateNode,$=ho(as.current);b=ae(L,b,d,E,A,$),(h.updateQueue=b)&&mo(h)}},Jg=function(d,h,b,E){b!==E&&mo(h)};else if(X){Eh=function(d,h,b,E){for(var A=h.child;A!==null;){if(A.tag===5){var L=A.stateNode;b&&E&&(L=Yt(L,A.type,A.memoizedProps,A)),ee(d,L)}else if(A.tag===6)L=A.stateNode,b&&E&&(L=an(L,A.memoizedProps,A)),ee(d,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),Eh(d,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var bP=function(d,h,b,E){for(var A=h.child;A!==null;){if(A.tag===5){var L=A.stateNode;b&&E&&(L=Yt(L,A.type,A.memoizedProps,A)),Ne(d,L)}else if(A.tag===6)L=A.stateNode,b&&E&&(L=an(L,A.memoizedProps,A)),Ne(d,L);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)L=A.child,L!==null&&(L.return=A),bP(d,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===h)break;for(;A.sibling===null;){if(A.return===null||A.return===h)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};Mh=function(d,h){var b=h.stateNode;if(!SP(d,h)){d=b.containerInfo;var E=yt(d);bP(E,h,!1,!1),b.pendingChildren=E,mo(h),ut(d,E)}},Zg=function(d,h,b,E,A){var L=d.stateNode,$=d.memoizedProps;if((d=SP(d,h))&&$===E)h.stateNode=L;else{var re=h.stateNode,xe=ho(as.current),ke=null;$!==E&&(ke=ae(re,b,$,E,A,xe)),d&&ke===null?h.stateNode=L:(L=Ue(L,ke,b,$,E,h,d,re),J(L,b,E,A,xe)&&mo(h),h.stateNode=L,d?mo(h):Eh(L,h,!1,!1))}},Jg=function(d,h,b,E){b!==E?(d=ho(Uu.current),b=ho(as.current),h.stateNode=Ae(E,d,b,h),mo(h)):h.stateNode=d.stateNode}}else Mh=function(){},Zg=function(){},Jg=function(){};function Th(d,h){if(!Cn)switch(d.tailMode){case"hidden":h=d.tail;for(var b=null;h!==null;)h.alternate!==null&&(b=h),h=h.sibling;b===null?d.tail=null:b.sibling=null;break;case"collapsed":b=d.tail;for(var E=null;b!==null;)b.alternate!==null&&(E=b),b=b.sibling;E===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:E.sibling=null}}function Or(d){var h=d.alternate!==null&&d.alternate.child===d.child,b=0,E=0;if(h)for(var A=d.child;A!==null;)b|=A.lanes|A.childLanes,E|=A.subtreeFlags&14680064,E|=A.flags&14680064,A.return=d,A=A.sibling;else for(A=d.child;A!==null;)b|=A.lanes|A.childLanes,E|=A.subtreeFlags,E|=A.flags,A.return=d,A=A.sibling;return d.subtreeFlags|=E,d.childLanes=b,h}function S8(d,h,b){var E=h.pendingProps;switch(Tw(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Or(h),null;case 1:return vr(h.type)&&Gn(),Or(h),null;case 3:return E=h.stateNode,Bu(),wt(Un),wt(Vt),Lw(),E.pendingContext&&(E.context=E.pendingContext,E.pendingContext=null),(d===null||d.child===null)&&(gh(h)?mo(h):d===null||d.memoizedState.isDehydrated&&!(h.flags&256)||(h.flags|=1024,As!==null&&(l1(As),As=null))),Mh(d,h),Or(h),null;case 5:Nw(h),b=ho(Uu.current);var A=h.type;if(d!==null&&h.stateNode!=null)Zg(d,h,A,E,b),d.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!E){if(h.stateNode===null)throw Error(o(166));return Or(h),null}if(d=ho(as.current),gh(h)){if(!Ee)throw Error(o(175));d=lw(h.stateNode,h.type,h.memoizedProps,b,d,h,!mh),h.updateQueue=d,d!==null&&mo(h)}else{var L=K(A,E,b,d,h);Eh(L,h,!1,!1),h.stateNode=L,J(L,A,E,b,d)&&mo(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Or(h),null;case 6:if(d&&h.stateNode!=null)Jg(d,h,d.memoizedProps,E);else{if(typeof E!="string"&&h.stateNode===null)throw Error(o(166));if(d=ho(Uu.current),b=ho(as.current),gh(h)){if(!Ee)throw Error(o(176));if(d=h.stateNode,E=h.memoizedProps,(b=cw(d,E,h,!mh))&&(A=Fi,A!==null))switch(L=(A.mode&1)!==0,A.tag){case 3:dt(A.stateNode.containerInfo,d,E,L);break;case 5:vt(A.type,A.memoizedProps,A.stateNode,d,E,L)}b&&mo(h)}else h.stateNode=Ae(E,d,b,h)}return Or(h),null;case 13:if(wt(Nn),E=h.memoizedState,Cn&&Ui!==null&&h.mode&1&&!(h.flags&128)){for(d=Ui;d;)d=Ia(d);return Ou(),h.flags|=98560,h}if(E!==null&&E.dehydrated!==null){if(E=gh(h),d===null){if(!E)throw Error(o(318));if(!Ee)throw Error(o(344));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));uw(d,h)}else Ou(),!(h.flags&128)&&(h.memoizedState=null),h.flags|=4;return Or(h),null}return As!==null&&(l1(As),As=null),h.flags&128?(h.lanes=b,h):(E=E!==null,b=!1,d===null?gh(h):b=d.memoizedState!==null,E&&!b&&(h.child.flags|=8192,h.mode&1&&(d===null||Nn.current&1?lr===0&&(lr=3):u1())),h.updateQueue!==null&&(h.flags|=4),Or(h),null);case 4:return Bu(),Mh(d,h),d===null&&Pe(h.stateNode.containerInfo),Or(h),null;case 10:return _w(h.type._context),Or(h),null;case 17:return vr(h.type)&&Gn(),Or(h),null;case 19:if(wt(Nn),A=h.memoizedState,A===null)return Or(h),null;if(E=(h.flags&128)!==0,L=A.rendering,L===null)if(E)Th(A,!1);else{if(lr!==0||d!==null&&d.flags&128)for(d=h.child;d!==null;){if(L=Hg(d),L!==null){for(h.flags|=128,Th(A,!1),d=L.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),h.subtreeFlags=0,d=b,E=h.child;E!==null;)b=E,A=d,b.flags&=14680066,L=b.alternate,L===null?(b.childLanes=0,b.lanes=A,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=L.childLanes,b.lanes=L.lanes,b.child=L.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=L.memoizedProps,b.memoizedState=L.memoizedState,b.updateQueue=L.updateQueue,b.type=L.type,A=L.dependencies,b.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),E=E.sibling;return et(Nn,Nn.current&1|2),h.child}d=d.sibling}A.tail!==null&&xr()>i1&&(h.flags|=128,E=!0,Th(A,!1),h.lanes=4194304)}else{if(!E)if(d=Hg(L),d!==null){if(h.flags|=128,E=!0,d=d.updateQueue,d!==null&&(h.updateQueue=d,h.flags|=4),Th(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!Cn)return Or(h),null}else 2*xr()-A.renderingStartTime>i1&&b!==1073741824&&(h.flags|=128,E=!0,Th(A,!1),h.lanes=4194304);A.isBackwards?(L.sibling=h.child,h.child=L):(d=A.last,d!==null?d.sibling=L:h.child=L,A.last=L)}return A.tail!==null?(h=A.tail,A.rendering=h,A.tail=h.sibling,A.renderingStartTime=xr(),h.sibling=null,d=Nn.current,et(Nn,E?d&1|2:d&1),h):(Or(h),null);case 22:case 23:return c1(),E=h.memoizedState!==null,d!==null&&d.memoizedState!==null!==E&&(h.flags|=8192),E&&h.mode&1?zi&1073741824&&(Or(h),Le&&h.subtreeFlags&6&&(h.flags|=8192)):Or(h),null;case 24:return null;case 25:return null}throw Error(o(156,h.tag))}var b8=a.ReactCurrentOwner,Bi=!1;function Jr(d,h,b,E){h.child=d===null?ZR(h,null,b,E):Fu(h,d.child,b,E)}function EP(d,h,b,E,A){b=b.render;var L=h.ref;return Lu(h,A),E=Dw(d,h,b,E,L,A),b=Ow(),d!==null&&!Bi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~A,Xo(d,h,A)):(Cn&&b&&Mw(h),h.flags|=1,Jr(d,h,E,A),h.child)}function MP(d,h,b,E,A){if(d===null){var L=b.type;return typeof L=="function"&&!d1(L)&&L.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(h.tag=15,h.type=L,TP(d,h,L,E,A)):(d=xy(b.type,null,E,h,h.mode,A),d.ref=h.ref,d.return=h,h.child=d)}if(L=d.child,!(d.lanes&A)){var $=L.memoizedProps;if(b=b.compare,b=b!==null?b:kg,b($,E)&&d.ref===h.ref)return Xo(d,h,A)}return h.flags|=1,d=Ba(L,E),d.ref=h.ref,d.return=h,h.child=d}function TP(d,h,b,E,A){if(d!==null&&kg(d.memoizedProps,E)&&d.ref===h.ref)if(Bi=!1,(d.lanes&A)!==0)d.flags&131072&&(Bi=!0);else return h.lanes=d.lanes,Xo(d,h,A);return jw(d,h,b,E,A)}function AP(d,h,b){var E=h.pendingProps,A=E.children,L=d!==null?d.memoizedState:null;if(E.mode==="hidden")if(!(h.mode&1))h.memoizedState={baseLanes:0,cachePool:null},et(Vu,zi),zi|=b;else if(b&1073741824)h.memoizedState={baseLanes:0,cachePool:null},E=L!==null?L.baseLanes:b,et(Vu,zi),zi|=E;else return d=L!==null?L.baseLanes|b:b,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:d,cachePool:null},h.updateQueue=null,et(Vu,zi),zi|=d,null;else L!==null?(E=L.baseLanes|b,h.memoizedState=null):E=b,et(Vu,zi),zi|=E;return Jr(d,h,A,b),h.child}function CP(d,h){var b=h.ref;(d===null&&b!==null||d!==null&&d.ref!==b)&&(h.flags|=512,h.flags|=2097152)}function jw(d,h,b,E,A){var L=vr(b)?oo:Vt.current;return L=rs(h,L),Lu(h,A),b=Dw(d,h,b,E,L,A),E=Ow(),d!==null&&!Bi?(h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~A,Xo(d,h,A)):(Cn&&E&&Mw(h),h.flags|=1,Jr(d,h,b,A),h.child)}function RP(d,h,b,E,A){if(vr(b)){var L=!0;Ar(h)}else L=!1;if(Lu(h,A),h.stateNode===null)d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),HR(h,b,E),Ew(h,b,E,A),E=!0;else if(d===null){var $=h.stateNode,re=h.memoizedProps;$.props=re;var xe=$.context,ke=b.contextType;typeof ke=="object"&&ke!==null?ke=is(ke):(ke=vr(b)?oo:Vt.current,ke=rs(h,ke));var tt=b.getDerivedStateFromProps,It=typeof tt=="function"||typeof $.getSnapshotBeforeUpdate=="function";It||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(re!==E||xe!==ke)&&WR(h,$,E,ke),La=!1;var gt=h.memoizedState;$.state=gt,Ug(h,E,$,A),xe=h.memoizedState,re!==E||gt!==xe||Un.current||La?(typeof tt=="function"&&(bw(h,b,tt,E),xe=h.memoizedState),(re=La||jR(h,b,re,E,gt,xe,ke))?(It||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(h.flags|=4194308)):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=E,h.memoizedState=xe),$.props=E,$.state=xe,$.context=ke,E=re):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),E=!1)}else{$=h.stateNode,UR(d,h),re=h.memoizedProps,ke=h.type===h.elementType?re:Ts(h.type,re),$.props=ke,It=h.pendingProps,gt=$.context,xe=b.contextType,typeof xe=="object"&&xe!==null?xe=is(xe):(xe=vr(b)?oo:Vt.current,xe=rs(h,xe));var mn=b.getDerivedStateFromProps;(tt=typeof mn=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(re!==It||gt!==xe)&&WR(h,$,E,xe),La=!1,gt=h.memoizedState,$.state=gt,Ug(h,E,$,A);var ft=h.memoizedState;re!==It||gt!==ft||Un.current||La?(typeof mn=="function"&&(bw(h,b,mn,E),ft=h.memoizedState),(ke=La||jR(h,b,ke,E,gt,ft,xe)||!1)?(tt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(E,ft,xe),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(E,ft,xe)),typeof $.componentDidUpdate=="function"&&(h.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof $.componentDidUpdate!="function"||re===d.memoizedProps&&gt===d.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&gt===d.memoizedState||(h.flags|=1024),h.memoizedProps=E,h.memoizedState=ft),$.props=E,$.state=ft,$.context=xe,E=ke):(typeof $.componentDidUpdate!="function"||re===d.memoizedProps&&gt===d.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===d.memoizedProps&&gt===d.memoizedState||(h.flags|=1024),E=!1)}return Hw(d,h,b,E,L,A)}function Hw(d,h,b,E,A,L){CP(d,h);var $=(h.flags&128)!==0;if(!E&&!$)return A&&Nu(h,b,!1),Xo(d,h,L);E=h.stateNode,b8.current=h;var re=$&&typeof b.getDerivedStateFromError!="function"?null:E.render();return h.flags|=1,d!==null&&$?(h.child=Fu(h,d.child,null,L),h.child=Fu(h,null,re,L)):Jr(d,h,re,L),h.memoizedState=E.state,A&&Nu(h,b,!0),h.child}function PP(d){var h=d.stateNode;h.pendingContext?ao(d,h.pendingContext,h.pendingContext!==h.context):h.context&&ao(d,h.context,!1),Pw(d,h.containerInfo)}function NP(d,h,b,E,A){return Ou(),Rw(A),h.flags|=256,Jr(d,h,b,E),h.child}var Qg={dehydrated:null,treeContext:null,retryLane:0};function ey(d){return{baseLanes:d,cachePool:null}}function IP(d,h,b){var E=h.pendingProps,A=Nn.current,L=!1,$=(h.flags&128)!==0,re;if((re=$)||(re=d!==null&&d.memoizedState===null?!1:(A&2)!==0),re?(L=!0,h.flags&=-129):(d===null||d.memoizedState!==null)&&(A|=1),et(Nn,A&1),d===null)return Cw(h),d=h.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(h.mode&1?fh(d)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(A=E.children,d=E.fallback,L?(E=h.mode,L=h.child,A={mode:"hidden",children:A},!(E&1)&&L!==null?(L.childLanes=0,L.pendingProps=A):L=_y(A,E,0,null),d=cc(d,E,b,null),L.return=h,d.return=h,L.sibling=d,h.child=L,h.child.memoizedState=ey(b),h.memoizedState=Qg,d):Ww(h,A));if(A=d.memoizedState,A!==null){if(re=A.dehydrated,re!==null){if($)return h.flags&256?(h.flags&=-257,ty(d,h,b,Error(o(422)))):h.memoizedState!==null?(h.child=d.child,h.flags|=128,null):(L=E.fallback,A=h.mode,E=_y({mode:"visible",children:E.children},A,0,null),L=cc(L,A,b,null),L.flags|=2,E.return=h,L.return=h,E.sibling=L,h.child=E,h.mode&1&&Fu(h,d.child,null,b),h.child.memoizedState=ey(b),h.memoizedState=Qg,L);if(!(h.mode&1))h=ty(d,h,b,null);else if(fh(re))h=ty(d,h,b,Error(o(419)));else if(E=(b&d.childLanes)!==0,Bi||E){if(E=tr,E!==null){switch(b&-b){case 4:L=2;break;case 16:L=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:L=32;break;case 536870912:L=268435456;break;default:L=0}E=L&(E.suspendedLanes|b)?0:L,E!==0&&E!==A.retryLane&&(A.retryLane=E,cs(d,E,-1))}u1(),h=ty(d,h,b,Error(o(421)))}else yi(re)?(h.flags|=128,h.child=d.child,h=O8.bind(null,d),Cu(re,h),h=null):(b=A.treeContext,Ee&&(Ui=Ag(re),Fi=h,Cn=!0,As=null,mh=!1,b!==null&&(ss[os++]=Wo,ss[os++]=Go,ss[os++]=tc,Wo=b.id,Go=b.overflow,tc=h)),h=Ww(h,h.pendingProps.children),h.flags|=4096);return h}return L?(E=kP(d,h,E.children,E.fallback,b),L=h.child,A=d.child.memoizedState,L.memoizedState=A===null?ey(b):{baseLanes:A.baseLanes|b,cachePool:null},L.childLanes=d.childLanes&~b,h.memoizedState=Qg,E):(b=LP(d,h,E.children,b),h.memoizedState=null,b)}return L?(E=kP(d,h,E.children,E.fallback,b),L=h.child,A=d.child.memoizedState,L.memoizedState=A===null?ey(b):{baseLanes:A.baseLanes|b,cachePool:null},L.childLanes=d.childLanes&~b,h.memoizedState=Qg,E):(b=LP(d,h,E.children,b),h.memoizedState=null,b)}function Ww(d,h){return h=_y({mode:"visible",children:h},d.mode,0,null),h.return=d,d.child=h}function LP(d,h,b,E){var A=d.child;return d=A.sibling,b=Ba(A,{mode:"visible",children:b}),!(h.mode&1)&&(b.lanes=E),b.return=h,b.sibling=null,d!==null&&(E=h.deletions,E===null?(h.deletions=[d],h.flags|=16):E.push(d)),h.child=b}function kP(d,h,b,E,A){var L=h.mode;d=d.child;var $=d.sibling,re={mode:"hidden",children:b};return!(L&1)&&h.child!==d?(b=h.child,b.childLanes=0,b.pendingProps=re,h.deletions=null):(b=Ba(d,re),b.subtreeFlags=d.subtreeFlags&14680064),$!==null?E=Ba($,E):(E=cc(E,L,A,null),E.flags|=2),E.return=h,b.return=h,b.sibling=E,h.child=b,E}function ty(d,h,b,E){return E!==null&&Rw(E),Fu(h,d.child,null,b),d=Ww(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function DP(d,h,b){d.lanes|=h;var E=d.alternate;E!==null&&(E.lanes|=h),ww(d.return,h,b)}function Gw(d,h,b,E,A){var L=d.memoizedState;L===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:E,tail:b,tailMode:A}:(L.isBackwards=h,L.rendering=null,L.renderingStartTime=0,L.last=E,L.tail=b,L.tailMode=A)}function OP(d,h,b){var E=h.pendingProps,A=E.revealOrder,L=E.tail;if(Jr(d,h,E.children,b),E=Nn.current,E&2)E=E&1|2,h.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&DP(d,b,h);else if(d.tag===19)DP(d,b,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}E&=1}if(et(Nn,E),!(h.mode&1))h.memoizedState=null;else switch(A){case"forwards":for(b=h.child,A=null;b!==null;)d=b.alternate,d!==null&&Hg(d)===null&&(A=b),b=b.sibling;b=A,b===null?(A=h.child,h.child=null):(A=b.sibling,b.sibling=null),Gw(h,!1,A,b,L);break;case"backwards":for(b=null,A=h.child,h.child=null;A!==null;){if(d=A.alternate,d!==null&&Hg(d)===null){h.child=A;break}d=A.sibling,A.sibling=b,b=A,A=d}Gw(h,!0,b,null,L);break;case"together":Gw(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function Xo(d,h,b){if(d!==null&&(h.dependencies=d.dependencies),ju|=h.lanes,!(b&h.childLanes))return null;if(d!==null&&h.child!==d.child)throw Error(o(153));if(h.child!==null){for(d=h.child,b=Ba(d,d.pendingProps),h.child=b,b.return=h;d.sibling!==null;)d=d.sibling,b=b.sibling=Ba(d,d.pendingProps),b.return=h;b.sibling=null}return h.child}function E8(d,h,b){switch(h.tag){case 3:PP(h),Ou();break;case 5:JR(h);break;case 1:vr(h.type)&&Ar(h);break;case 4:Pw(h,h.stateNode.containerInfo);break;case 10:FR(h,h.type._context,h.memoizedProps.value);break;case 13:var E=h.memoizedState;if(E!==null)return E.dehydrated!==null?(et(Nn,Nn.current&1),h.flags|=128,null):b&h.child.childLanes?IP(d,h,b):(et(Nn,Nn.current&1),d=Xo(d,h,b),d!==null?d.sibling:null);et(Nn,Nn.current&1);break;case 19:if(E=(b&h.childLanes)!==0,d.flags&128){if(E)return OP(d,h,b);h.flags|=128}var A=h.memoizedState;if(A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),et(Nn,Nn.current),E)break;return null;case 22:case 23:return h.lanes=0,AP(d,h,b)}return Xo(d,h,b)}function M8(d,h){switch(Tw(h),h.tag){case 1:return vr(h.type)&&Gn(),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Bu(),wt(Un),wt(Vt),Lw(),d=h.flags,d&65536&&!(d&128)?(h.flags=d&-65537|128,h):null;case 5:return Nw(h),null;case 13:if(wt(Nn),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(o(340));Ou()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return wt(Nn),null;case 4:return Bu(),null;case 10:return _w(h.type._context),null;case 22:case 23:return c1(),null;case 24:return null;default:return null}}var ny=!1,ic=!1,T8=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function ry(d,h){var b=d.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(E){_i(d,h,E)}else b.current=null}function $w(d,h,b){try{b()}catch(E){_i(d,h,E)}}var FP=!1;function A8(d,h){for(F(d.containerInfo),Ge=h;Ge!==null;)if(d=Ge,h=d.child,(d.subtreeFlags&1028)!==0&&h!==null)h.return=d,Ge=h;else for(;Ge!==null;){d=Ge;try{var b=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var E=b.memoizedProps,A=b.memoizedState,L=d.stateNode,$=L.getSnapshotBeforeUpdate(d.elementType===d.type?E:Ts(d.type,E),A);L.__reactInternalSnapshotBeforeUpdate=$}break;case 3:Le&&je(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(re){_i(d,d.return,re)}if(h=d.sibling,h!==null){h.return=d.return,Ge=h;break}Ge=d.return}return b=FP,FP=!1,b}function sc(d,h,b){var E=h.updateQueue;if(E=E!==null?E.lastEffect:null,E!==null){var A=E=E.next;do{if((A.tag&d)===d){var L=A.destroy;A.destroy=void 0,L!==void 0&&$w(h,b,L)}A=A.next}while(A!==E)}}function Ah(d,h){if(h=h.updateQueue,h=h!==null?h.lastEffect:null,h!==null){var b=h=h.next;do{if((b.tag&d)===d){var E=b.create;b.destroy=E()}b=b.next}while(b!==h)}}function Xw(d){var h=d.ref;if(h!==null){var b=d.stateNode;switch(d.tag){case 5:d=q(b);break;default:d=b}typeof h=="function"?h(d):h.current=d}}function UP(d,h,b){if(lo&&typeof lo.onCommitFiberUnmount=="function")try{lo.onCommitFiberUnmount(Ig,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:if(d=h.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var E=d=d.next;do{var A=E,L=A.destroy;A=A.tag,L!==void 0&&(A&2||A&4)&&$w(h,b,L),E=E.next}while(E!==d)}break;case 1:if(ry(h,b),d=h.stateNode,typeof d.componentWillUnmount=="function")try{d.props=h.memoizedProps,d.state=h.memoizedState,d.componentWillUnmount()}catch($){_i(h,b,$)}break;case 5:ry(h,b);break;case 4:Le?WP(d,h,b):X&&X&&(h=h.stateNode.containerInfo,b=yt(h),ht(h,b))}}function BP(d,h,b){for(var E=h;;)if(UP(d,E,b),E.child===null||Le&&E.tag===4){if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return}E.sibling.return=E.return,E=E.sibling}else E.child.return=E,E=E.child}function zP(d){var h=d.alternate;h!==null&&(d.alternate=null,zP(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Je(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function VP(d){return d.tag===5||d.tag===3||d.tag===4}function jP(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||VP(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function HP(d){if(Le){e:{for(var h=d.return;h!==null;){if(VP(h))break e;h=h.return}throw Error(o(160))}var b=h;switch(b.tag){case 5:h=b.stateNode,b.flags&32&&(Xt(h),b.flags&=-33),b=jP(d),Yw(d,b,h);break;case 3:case 4:h=b.stateNode.containerInfo,b=jP(d),qw(d,b,h);break;default:throw Error(o(161))}}}function qw(d,h,b){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?nt(b,d,h):lt(b,d);else if(E!==4&&(d=d.child,d!==null))for(qw(d,h,b),d=d.sibling;d!==null;)qw(d,h,b),d=d.sibling}function Yw(d,h,b){var E=d.tag;if(E===5||E===6)d=d.stateNode,h?pt(b,d,h):ze(b,d);else if(E!==4&&(d=d.child,d!==null))for(Yw(d,h,b),d=d.sibling;d!==null;)Yw(d,h,b),d=d.sibling}function WP(d,h,b){for(var E=h,A=!1,L,$;;){if(!A){A=E.return;e:for(;;){if(A===null)throw Error(o(160));switch(L=A.stateNode,A.tag){case 5:$=!1;break e;case 3:L=L.containerInfo,$=!0;break e;case 4:L=L.containerInfo,$=!0;break e}A=A.return}A=!0}if(E.tag===5||E.tag===6)BP(d,E,b),$?mt(L,E.stateNode):Ke(L,E.stateNode);else if(E.tag===18)$?he(L,E.stateNode):ge(L,E.stateNode);else if(E.tag===4){if(E.child!==null){L=E.stateNode.containerInfo,$=!0,E.child.return=E,E=E.child;continue}}else if(UP(d,E,b),E.child!==null){E.child.return=E,E=E.child;continue}if(E===h)break;for(;E.sibling===null;){if(E.return===null||E.return===h)return;E=E.return,E.tag===4&&(A=!1)}E.sibling.return=E.return,E=E.sibling}}function Kw(d,h){if(Le){switch(h.tag){case 0:case 11:case 14:case 15:sc(3,h,h.return),Ah(3,h),sc(5,h,h.return);return;case 1:return;case 5:var b=h.stateNode;if(b!=null){var E=h.memoizedProps;d=d!==null?d.memoizedProps:E;var A=h.type,L=h.updateQueue;h.updateQueue=null,L!==null&&Ct(b,L,A,d,E,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));b=h.memoizedProps,Me(h.stateNode,d!==null?d.memoizedProps:b,b);return;case 3:Ee&&d!==null&&d.memoizedState.isDehydrated&&le(h.stateNode.containerInfo);return;case 12:return;case 13:iy(h);return;case 19:iy(h);return;case 17:return}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:sc(3,h,h.return),Ah(3,h),sc(5,h,h.return);return;case 12:return;case 13:iy(h);return;case 19:iy(h);return;case 3:Ee&&d!==null&&d.memoizedState.isDehydrated&&le(h.stateNode.containerInfo);break;case 22:case 23:return}e:if(X){switch(h.tag){case 1:case 5:case 6:break e;case 3:case 4:h=h.stateNode,ht(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function iy(d){var h=d.updateQueue;if(h!==null){d.updateQueue=null;var b=d.stateNode;b===null&&(b=d.stateNode=new T8),h.forEach(function(E){var A=F8.bind(null,d,E);b.has(E)||(b.add(E),E.then(A,A))})}}function C8(d,h){for(Ge=h;Ge!==null;){h=Ge;var b=h.deletions;if(b!==null)for(var E=0;E<b.length;E++){var A=b[E];try{var L=d;Le?WP(L,A,h):BP(L,A,h);var $=A.alternate;$!==null&&($.return=null),A.return=null}catch(ct){_i(A,h,ct)}}if(b=h.child,h.subtreeFlags&12854&&b!==null)b.return=h,Ge=b;else for(;Ge!==null;){h=Ge;try{var re=h.flags;if(re&32&&Le&&Xt(h.stateNode),re&512){var xe=h.alternate;if(xe!==null){var ke=xe.ref;ke!==null&&(typeof ke=="function"?ke(null):ke.current=null)}}if(re&8192)switch(h.tag){case 13:if(h.memoizedState!==null){var tt=h.alternate;(tt===null||tt.memoizedState===null)&&(r1=xr())}break;case 22:var It=h.memoizedState!==null,gt=h.alternate,mn=gt!==null&&gt.memoizedState!==null;if(b=h,Le){e:if(E=b,A=It,L=null,Le)for(var ft=E;;){if(ft.tag===5){if(L===null){L=ft;var Fr=ft.stateNode;A?ln(Fr):Fe(ft.stateNode,ft.memoizedProps)}}else if(ft.tag===6){if(L===null){var ds=ft.stateNode;A?Nt(ds):ne(ds,ft.memoizedProps)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===E)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===E)break;for(;ft.sibling===null;){if(ft.return===null||ft.return===E)break e;L===ft&&(L=null),ft=ft.return}L===ft&&(L=null),ft.sibling.return=ft.return,ft=ft.sibling}}if(It&&!mn&&b.mode&1){Ge=b;for(var ue=b.child;ue!==null;){for(b=Ge=ue;Ge!==null;){E=Ge;var se=E.child;switch(E.tag){case 0:case 11:case 14:case 15:sc(4,E,E.return);break;case 1:ry(E,E.return);var ye=E.stateNode;if(typeof ye.componentWillUnmount=="function"){var $e=E.return;try{ye.props=E.memoizedProps,ye.state=E.memoizedState,ye.componentWillUnmount()}catch(ct){_i(E,$e,ct)}}break;case 5:ry(E,E.return);break;case 22:if(E.memoizedState!==null){XP(b);continue}}se!==null?(se.return=E,Ge=se):XP(b)}ue=ue.sibling}}}switch(re&4102){case 2:HP(h),h.flags&=-3;break;case 6:HP(h),h.flags&=-3,Kw(h.alternate,h);break;case 4096:h.flags&=-4097;break;case 4100:h.flags&=-4097,Kw(h.alternate,h);break;case 4:Kw(h.alternate,h)}}catch(ct){_i(h,h.return,ct)}if(b=h.sibling,b!==null){b.return=h.return,Ge=b;break}Ge=h.return}}}function R8(d,h,b){Ge=d,GP(d)}function GP(d,h,b){for(var E=(d.mode&1)!==0;Ge!==null;){var A=Ge,L=A.child;if(A.tag===22&&E){var $=A.memoizedState!==null||ny;if(!$){var re=A.alternate,xe=re!==null&&re.memoizedState!==null||ic;re=ny;var ke=ic;if(ny=$,(ic=xe)&&!ke)for(Ge=A;Ge!==null;)$=Ge,xe=$.child,$.tag===22&&$.memoizedState!==null?qP(A):xe!==null?(xe.return=$,Ge=xe):qP(A);for(;L!==null;)Ge=L,GP(L),L=L.sibling;Ge=A,ny=re,ic=ke}$P(d)}else A.subtreeFlags&8772&&L!==null?(L.return=A,Ge=L):$P(d)}}function $P(d){for(;Ge!==null;){var h=Ge;if(h.flags&8772){var b=h.alternate;try{if(h.flags&8772)switch(h.tag){case 0:case 11:case 15:ic||Ah(5,h);break;case 1:var E=h.stateNode;if(h.flags&4&&!ic)if(b===null)E.componentDidMount();else{var A=h.elementType===h.type?b.memoizedProps:Ts(h.type,b.memoizedProps);E.componentDidUpdate(A,b.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var L=h.updateQueue;L!==null&&zR(h,L,E);break;case 3:var $=h.updateQueue;if($!==null){if(b=null,h.child!==null)switch(h.child.tag){case 5:b=q(h.child.stateNode);break;case 1:b=h.child.stateNode}zR(h,$,b)}break;case 5:var re=h.stateNode;b===null&&h.flags&4&&At(re,h.type,h.memoizedProps,h);break;case 6:break;case 4:break;case 12:break;case 13:if(Ee&&h.memoizedState===null){var xe=h.alternate;if(xe!==null){var ke=xe.memoizedState;if(ke!==null){var tt=ke.dehydrated;tt!==null&&pe(tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}ic||h.flags&512&&Xw(h)}catch(It){_i(h,h.return,It)}}if(h===d){Ge=null;break}if(b=h.sibling,b!==null){b.return=h.return,Ge=b;break}Ge=h.return}}function XP(d){for(;Ge!==null;){var h=Ge;if(h===d){Ge=null;break}var b=h.sibling;if(b!==null){b.return=h.return,Ge=b;break}Ge=h.return}}function qP(d){for(;Ge!==null;){var h=Ge;try{switch(h.tag){case 0:case 11:case 15:var b=h.return;try{Ah(4,h)}catch(xe){_i(h,b,xe)}break;case 1:var E=h.stateNode;if(typeof E.componentDidMount=="function"){var A=h.return;try{E.componentDidMount()}catch(xe){_i(h,A,xe)}}var L=h.return;try{Xw(h)}catch(xe){_i(h,L,xe)}break;case 5:var $=h.return;try{Xw(h)}catch(xe){_i(h,$,xe)}}}catch(xe){_i(h,h.return,xe)}if(h===d){Ge=null;break}var re=h.sibling;if(re!==null){re.return=h.return,Ge=re;break}Ge=h.return}}var sy=0,oy=1,ay=2,ly=3,cy=4;if(typeof Symbol=="function"&&Symbol.for){var Ch=Symbol.for;sy=Ch("selector.component"),oy=Ch("selector.has_pseudo_class"),ay=Ch("selector.role"),ly=Ch("selector.test_id"),cy=Ch("selector.text")}function Zw(d){var h=ve(d);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if(d=B(d),d===null)throw Error(o(362));return d.stateNode.current}function Jw(d,h){switch(h.$$typeof){case sy:if(d.type===h.value)return!0;break;case oy:e:{h=h.value,d=[d,0];for(var b=0;b<d.length;){var E=d[b++],A=d[b++],L=h[A];if(E.tag!==5||!ie(E)){for(;L!=null&&Jw(E,L);)A++,L=h[A];if(A===h.length){h=!0;break e}else for(E=E.child;E!==null;)d.push(E,A),E=E.sibling}}h=!1}return h;case ay:if(d.tag===5&&de(d.stateNode,h.value))return!0;break;case cy:if((d.tag===5||d.tag===6)&&(d=oe(d),d!==null&&0<=d.indexOf(h.value)))return!0;break;case ly:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===h.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Qw(d){switch(d.$$typeof){case sy:return"<"+(I(d.value)||"Unknown")+">";case oy:return":has("+(Qw(d)||"")+")";case ay:return'[role="'+d.value+'"]';case cy:return'"'+d.value+'"';case ly:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function YP(d,h){var b=[];d=[d,0];for(var E=0;E<d.length;){var A=d[E++],L=d[E++],$=h[L];if(A.tag!==5||!ie(A)){for(;$!=null&&Jw(A,$);)L++,$=h[L];if(L===h.length)b.push(A);else for(A=A.child;A!==null;)d.push(A,L),A=A.sibling}}return b}function e1(d,h){if(!R)throw Error(o(363));d=Zw(d),d=YP(d,h),h=[],d=Array.from(d);for(var b=0;b<d.length;){var E=d[b++];if(E.tag===5)ie(E)||h.push(E.stateNode);else for(E=E.child;E!==null;)d.push(E),E=E.sibling}return h}var P8=Math.ceil,uy=a.ReactCurrentDispatcher,t1=a.ReactCurrentOwner,$n=a.ReactCurrentBatchConfig,jt=0,tr=null,nr=null,Cr=0,zi=0,Vu=yr(0),lr=0,Rh=null,ju=0,dy=0,n1=0,Ph=null,vi=null,r1=0,i1=1/0;function Hu(){i1=xr()+500}var fy=!1,s1=null,Da=null,hy=!1,Oa=null,py=0,Nh=0,o1=null,my=-1,gy=0;function Qr(){return jt&6?xr():my!==-1?my:my=xr()}function Fa(d){return d.mode&1?jt&2&&Cr!==0?Cr&-Cr:f8.transition!==null?(gy===0&&(d=Rg,Rg<<=1,!(Rg&4194240)&&(Rg=64),gy=d),gy):(d=Qt,d!==0?d:we()):1}function cs(d,h,b){if(50<Nh)throw Nh=0,o1=null,Error(o(185));var E=yy(d,h);return E===null?null:(ph(E,h,b),(!(jt&2)||E!==tr)&&(E===tr&&(!(jt&2)&&(dy|=h),lr===4&&Ua(E,Cr)),xi(E,b),h===1&&jt===0&&!(d.mode&1)&&(Hu(),Lg&&uo())),E)}function yy(d,h){d.lanes|=h;var b=d.alternate;for(b!==null&&(b.lanes|=h),b=d,d=d.return;d!==null;)d.childLanes|=h,b=d.alternate,b!==null&&(b.childLanes|=h),b=d,d=d.return;return b.tag===3?b.stateNode:null}function xi(d,h){var b=d.callbackNode;r8(d,h);var E=Ng(d,d===tr?Cr:0);if(E===0)b!==null&&DR(b),d.callbackNode=null,d.callbackPriority=0;else if(h=E&-E,d.callbackPriority!==h){if(b!=null&&DR(b),h===1)d.tag===0?d8(ZP.bind(null,d)):OR(ZP.bind(null,d)),He?z(function(){jt===0&&uo()}):pw(mw,uo),b=null;else{switch(kR(E)){case 1:b=mw;break;case 4:b=a8;break;case 16:b=gw;break;case 536870912:b=l8;break;default:b=gw}b=o2(b,KP.bind(null,d))}d.callbackPriority=h,d.callbackNode=b}}function KP(d,h){if(my=-1,gy=0,jt&6)throw Error(o(327));var b=d.callbackNode;if(lc()&&d.callbackNode!==b)return null;var E=Ng(d,d===tr?Cr:0);if(E===0)return null;if(E&30||E&d.expiredLanes||h)h=vy(d,E);else{h=E;var A=jt;jt|=2;var L=e2();(tr!==d||Cr!==h)&&(Hu(),oc(d,h));do try{L8();break}catch(re){QP(d,re)}while(!0);xw(),uy.current=L,jt=A,nr!==null?h=0:(tr=null,Cr=0,h=lr)}if(h!==0){if(h===2&&(A=dw(d),A!==0&&(E=A,h=a1(d,A))),h===1)throw b=Rh,oc(d,0),Ua(d,E),xi(d,xr()),b;if(h===6)Ua(d,E);else{if(A=d.current.alternate,!(E&30)&&!N8(A)&&(h=vy(d,E),h===2&&(L=dw(d),L!==0&&(E=L,h=a1(d,L))),h===1))throw b=Rh,oc(d,0),Ua(d,E),xi(d,xr()),b;switch(d.finishedWork=A,d.finishedLanes=E,h){case 0:case 1:throw Error(o(345));case 2:ac(d,vi);break;case 3:if(Ua(d,E),(E&130023424)===E&&(h=r1+500-xr(),10<h)){if(Ng(d,0)!==0)break;if(A=d.suspendedLanes,(A&E)!==E){Qr(),d.pingedLanes|=d.suspendedLanes&A;break}d.timeoutHandle=ce(ac.bind(null,d,vi),h);break}ac(d,vi);break;case 4:if(Ua(d,E),(E&4194240)===E)break;for(h=d.eventTimes,A=-1;0<E;){var $=31-Oi(E);L=1<<$,$=h[$],$>A&&(A=$),E&=~L}if(E=A,E=xr()-E,E=(120>E?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*P8(E/1960))-E,10<E){d.timeoutHandle=ce(ac.bind(null,d,vi),E);break}ac(d,vi);break;case 5:ac(d,vi);break;default:throw Error(o(329))}}}return xi(d,xr()),d.callbackNode===b?KP.bind(null,d):null}function a1(d,h){var b=Ph;return d.current.memoizedState.isDehydrated&&(oc(d,h).flags|=256),d=vy(d,h),d!==2&&(h=vi,vi=b,h!==null&&l1(h)),d}function l1(d){vi===null?vi=d:vi.push.apply(vi,d)}function N8(d){for(var h=d;;){if(h.flags&16384){var b=h.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var E=0;E<b.length;E++){var A=b[E],L=A.getSnapshot;A=A.value;try{if(!co(L(),A))return!1}catch{return!1}}}if(b=h.child,h.subtreeFlags&16384&&b!==null)b.return=h,h=b;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function Ua(d,h){for(h&=~n1,h&=~dy,d.suspendedLanes|=h,d.pingedLanes&=~h,d=d.expirationTimes;0<h;){var b=31-Oi(h),E=1<<b;d[b]=-1,h&=~E}}function ZP(d){if(jt&6)throw Error(o(327));lc();var h=Ng(d,0);if(!(h&1))return xi(d,xr()),null;var b=vy(d,h);if(d.tag!==0&&b===2){var E=dw(d);E!==0&&(h=E,b=a1(d,E))}if(b===1)throw b=Rh,oc(d,0),Ua(d,h),xi(d,xr()),b;if(b===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=h,ac(d,vi),xi(d,xr()),null}function JP(d){Oa!==null&&Oa.tag===0&&!(jt&6)&&lc();var h=jt;jt|=1;var b=$n.transition,E=Qt;try{if($n.transition=null,Qt=1,d)return d()}finally{Qt=E,$n.transition=b,jt=h,!(jt&6)&&uo()}}function c1(){zi=Vu.current,wt(Vu)}function oc(d,h){d.finishedWork=null,d.finishedLanes=0;var b=d.timeoutHandle;if(b!==Be&&(d.timeoutHandle=Be,Oe(b)),nr!==null)for(b=nr.return;b!==null;){var E=b;switch(Tw(E),E.tag){case 1:E=E.type.childContextTypes,E!=null&&Gn();break;case 3:Bu(),wt(Un),wt(Vt),Lw();break;case 5:Nw(E);break;case 4:Bu();break;case 13:wt(Nn);break;case 19:wt(Nn);break;case 10:_w(E.type._context);break;case 22:case 23:c1()}b=b.return}if(tr=d,nr=d=Ba(d.current,null),Cr=zi=h,lr=0,Rh=null,n1=dy=ju=0,vi=Ph=null,fo!==null){for(h=0;h<fo.length;h++)if(b=fo[h],E=b.interleaved,E!==null){b.interleaved=null;var A=E.next,L=b.pending;if(L!==null){var $=L.next;L.next=A,E.next=$}b.pending=E}fo=null}return d}function QP(d,h){do{var b=nr;try{if(xw(),Wg.current=Kg,Gg){for(var E=Bn.memoizedState;E!==null;){var A=E.queue;A!==null&&(A.pending=null),E=E.next}Gg=!1}if(zu=0,_r=kr=Bn=null,_h=!1,wh=0,t1.current=null,b===null||b.return===null){lr=1,Rh=h,nr=null;break}e:{var L=d,$=b.return,re=b,xe=h;if(h=Cr,re.flags|=32768,xe!==null&&typeof xe=="object"&&typeof xe.then=="function"){var ke=xe,tt=re,It=tt.tag;if(!(tt.mode&1)&&(It===0||It===11||It===15)){var gt=tt.alternate;gt?(tt.updateQueue=gt.updateQueue,tt.memoizedState=gt.memoizedState,tt.lanes=gt.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var mn=_P($);if(mn!==null){mn.flags&=-257,wP(mn,$,re,L,h),mn.mode&1&&xP(L,ke,h),h=mn,xe=ke;var ft=h.updateQueue;if(ft===null){var Fr=new Set;Fr.add(xe),h.updateQueue=Fr}else ft.add(xe);break e}else{if(!(h&1)){xP(L,ke,h),u1();break e}xe=Error(o(426))}}else if(Cn&&re.mode&1){var ds=_P($);if(ds!==null){!(ds.flags&65536)&&(ds.flags|=256),wP(ds,$,re,L,h),Rw(xe);break e}}L=xe,lr!==4&&(lr=2),Ph===null?Ph=[L]:Ph.push(L),xe=zw(xe,re),re=$;do{switch(re.tag){case 3:re.flags|=65536,h&=-h,re.lanes|=h;var ue=yP(re,xe,h);BR(re,ue);break e;case 1:L=xe;var se=re.type,ye=re.stateNode;if(!(re.flags&128)&&(typeof se.getDerivedStateFromError=="function"||ye!==null&&typeof ye.componentDidCatch=="function"&&(Da===null||!Da.has(ye)))){re.flags|=65536,h&=-h,re.lanes|=h;var $e=vP(re,L,h);BR(re,$e);break e}}re=re.return}while(re!==null)}n2(b)}catch(ct){h=ct,nr===b&&b!==null&&(nr=b=b.return);continue}break}while(!0)}function e2(){var d=uy.current;return uy.current=Kg,d===null?Kg:d}function u1(){(lr===0||lr===3||lr===2)&&(lr=4),tr===null||!(ju&268435455)&&!(dy&268435455)||Ua(tr,Cr)}function vy(d,h){var b=jt;jt|=2;var E=e2();tr===d&&Cr===h||oc(d,h);do try{I8();break}catch(A){QP(d,A)}while(!0);if(xw(),jt=b,uy.current=E,nr!==null)throw Error(o(261));return tr=null,Cr=0,lr}function I8(){for(;nr!==null;)t2(nr)}function L8(){for(;nr!==null&&!s8();)t2(nr)}function t2(d){var h=s2(d.alternate,d,zi);d.memoizedProps=d.pendingProps,h===null?n2(d):nr=h,t1.current=null}function n2(d){var h=d;do{var b=h.alternate;if(d=h.return,h.flags&32768){if(b=M8(b,h),b!==null){b.flags&=32767,nr=b;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{lr=6,nr=null;return}}else if(b=S8(b,h,zi),b!==null){nr=b;return}if(h=h.sibling,h!==null){nr=h;return}nr=h=d}while(h!==null);lr===0&&(lr=5)}function ac(d,h){var b=Qt,E=$n.transition;try{$n.transition=null,Qt=1,k8(d,h,b)}finally{$n.transition=E,Qt=b}return null}function k8(d,h,b){do lc();while(Oa!==null);if(jt&6)throw Error(o(327));var E=d.finishedWork,A=d.finishedLanes;if(E===null)return null;if(d.finishedWork=null,d.finishedLanes=0,E===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var L=E.lanes|E.childLanes;if(i8(d,L),d===tr&&(nr=tr=null,Cr=0),!(E.subtreeFlags&2064)&&!(E.flags&2064)||hy||(hy=!0,o2(gw,function(){return lc(),null})),L=(E.flags&15990)!==0,E.subtreeFlags&15990||L){L=$n.transition,$n.transition=null;var $=Qt;Qt=1;var re=jt;jt|=4,t1.current=null,A8(d,E),C8(d,E),j(d.containerInfo),d.current=E,R8(E),o8(),jt=re,Qt=$,$n.transition=L}else d.current=E;if(hy&&(hy=!1,Oa=d,py=A),L=d.pendingLanes,L===0&&(Da=null),c8(E.stateNode),xi(d,xr()),h!==null)for(b=d.onRecoverableError,E=0;E<h.length;E++)b(h[E]);if(fy)throw fy=!1,d=s1,s1=null,d;return py&1&&d.tag!==0&&lc(),L=d.pendingLanes,L&1?d===o1?Nh++:(Nh=0,o1=d):Nh=0,uo(),null}function lc(){if(Oa!==null){var d=kR(py),h=$n.transition,b=Qt;try{if($n.transition=null,Qt=16>d?16:d,Oa===null)var E=!1;else{if(d=Oa,Oa=null,py=0,jt&6)throw Error(o(331));var A=jt;for(jt|=4,Ge=d.current;Ge!==null;){var L=Ge,$=L.child;if(Ge.flags&16){var re=L.deletions;if(re!==null){for(var xe=0;xe<re.length;xe++){var ke=re[xe];for(Ge=ke;Ge!==null;){var tt=Ge;switch(tt.tag){case 0:case 11:case 15:sc(8,tt,L)}var It=tt.child;if(It!==null)It.return=tt,Ge=It;else for(;Ge!==null;){tt=Ge;var gt=tt.sibling,mn=tt.return;if(zP(tt),tt===ke){Ge=null;break}if(gt!==null){gt.return=mn,Ge=gt;break}Ge=mn}}}var ft=L.alternate;if(ft!==null){var Fr=ft.child;if(Fr!==null){ft.child=null;do{var ds=Fr.sibling;Fr.sibling=null,Fr=ds}while(Fr!==null)}}Ge=L}}if(L.subtreeFlags&2064&&$!==null)$.return=L,Ge=$;else e:for(;Ge!==null;){if(L=Ge,L.flags&2048)switch(L.tag){case 0:case 11:case 15:sc(9,L,L.return)}var ue=L.sibling;if(ue!==null){ue.return=L.return,Ge=ue;break e}Ge=L.return}}var se=d.current;for(Ge=se;Ge!==null;){$=Ge;var ye=$.child;if($.subtreeFlags&2064&&ye!==null)ye.return=$,Ge=ye;else e:for($=se;Ge!==null;){if(re=Ge,re.flags&2048)try{switch(re.tag){case 0:case 11:case 15:Ah(9,re)}}catch(ct){_i(re,re.return,ct)}if(re===$){Ge=null;break e}var $e=re.sibling;if($e!==null){$e.return=re.return,Ge=$e;break e}Ge=re.return}}if(jt=A,uo(),lo&&typeof lo.onPostCommitFiberRoot=="function")try{lo.onPostCommitFiberRoot(Ig,d)}catch{}E=!0}return E}finally{Qt=b,$n.transition=h}}return!1}function r2(d,h,b){h=zw(b,h),h=yP(d,h,1),ka(d,h),h=Qr(),d=yy(d,1),d!==null&&(ph(d,1,h),xi(d,h))}function _i(d,h,b){if(d.tag===3)r2(d,d,b);else for(;h!==null;){if(h.tag===3){r2(h,d,b);break}else if(h.tag===1){var E=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(Da===null||!Da.has(E))){d=zw(b,d),d=vP(h,d,1),ka(h,d),d=Qr(),h=yy(h,1),h!==null&&(ph(h,1,d),xi(h,d));break}}h=h.return}}function D8(d,h,b){var E=d.pingCache;E!==null&&E.delete(h),h=Qr(),d.pingedLanes|=d.suspendedLanes&b,tr===d&&(Cr&b)===b&&(lr===4||lr===3&&(Cr&130023424)===Cr&&500>xr()-r1?oc(d,0):n1|=b),xi(d,h)}function i2(d,h){h===0&&(d.mode&1?(h=Pg,Pg<<=1,!(Pg&130023424)&&(Pg=4194304)):h=1);var b=Qr();d=yy(d,h),d!==null&&(ph(d,h,b),xi(d,b))}function O8(d){var h=d.memoizedState,b=0;h!==null&&(b=h.retryLane),i2(d,b)}function F8(d,h){var b=0;switch(d.tag){case 13:var E=d.stateNode,A=d.memoizedState;A!==null&&(b=A.retryLane);break;case 19:E=d.stateNode;break;default:throw Error(o(314))}E!==null&&E.delete(h),i2(d,b)}var s2;s2=function(d,h,b){if(d!==null)if(d.memoizedProps!==h.pendingProps||Un.current)Bi=!0;else{if(!(d.lanes&b)&&!(h.flags&128))return Bi=!1,E8(d,h,b);Bi=!!(d.flags&131072)}else Bi=!1,Cn&&h.flags&1048576&&GR(h,Vg,h.index);switch(h.lanes=0,h.tag){case 2:var E=h.type;d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps;var A=rs(h,Vt.current);Lu(h,b),A=Dw(null,h,E,d,A,b);var L=Ow();return h.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,vr(E)?(L=!0,Ar(h)):L=!1,h.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Sw(h),A.updater=Bg,h.stateNode=A,A._reactInternals=h,Ew(h,E,d,b),h=Hw(null,h,E,!0,L,b)):(h.tag=0,Cn&&L&&Mw(h),Jr(null,h,A,b),h=h.child),h;case 16:E=h.elementType;e:{switch(d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),d=h.pendingProps,A=E._init,E=A(E._payload),h.type=E,A=h.tag=B8(E),d=Ts(E,d),A){case 0:h=jw(null,h,E,d,b);break e;case 1:h=RP(null,h,E,d,b);break e;case 11:h=EP(null,h,E,d,b);break e;case 14:h=MP(null,h,E,Ts(E.type,d),b);break e}throw Error(o(306,E,""))}return h;case 0:return E=h.type,A=h.pendingProps,A=h.elementType===E?A:Ts(E,A),jw(d,h,E,A,b);case 1:return E=h.type,A=h.pendingProps,A=h.elementType===E?A:Ts(E,A),RP(d,h,E,A,b);case 3:e:{if(PP(h),d===null)throw Error(o(387));E=h.pendingProps,L=h.memoizedState,A=L.element,UR(d,h),Ug(h,E,null,b);var $=h.memoizedState;if(E=$.element,Ee&&L.isDehydrated)if(L={element:E,isDehydrated:!1,cache:$.cache,transitions:$.transitions},h.updateQueue.baseState=L,h.memoizedState=L,h.flags&256){A=Error(o(423)),h=NP(d,h,E,b,A);break e}else if(E!==A){A=Error(o(424)),h=NP(d,h,E,b,A);break e}else for(Ee&&(Ui=Tg(h.stateNode.containerInfo),Fi=h,Cn=!0,As=null,mh=!1),b=ZR(h,null,E,b),h.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ou(),E===A){h=Xo(d,h,b);break e}Jr(d,h,E,b)}h=h.child}return h;case 5:return JR(h),d===null&&Cw(h),E=h.type,A=h.pendingProps,L=d!==null?d.memoizedProps:null,$=A.children,Se(E,A)?$=null:L!==null&&Se(E,L)&&(h.flags|=32),CP(d,h),Jr(d,h,$,b),h.child;case 6:return d===null&&Cw(h),null;case 13:return IP(d,h,b);case 4:return Pw(h,h.stateNode.containerInfo),E=h.pendingProps,d===null?h.child=Fu(h,null,E,b):Jr(d,h,E,b),h.child;case 11:return E=h.type,A=h.pendingProps,A=h.elementType===E?A:Ts(E,A),EP(d,h,E,A,b);case 7:return Jr(d,h,h.pendingProps,b),h.child;case 8:return Jr(d,h,h.pendingProps.children,b),h.child;case 12:return Jr(d,h,h.pendingProps.children,b),h.child;case 10:e:{if(E=h.type._context,A=h.pendingProps,L=h.memoizedProps,$=A.value,FR(h,E,$),L!==null)if(co(L.value,$)){if(L.children===A.children&&!Un.current){h=Xo(d,h,b);break e}}else for(L=h.child,L!==null&&(L.return=h);L!==null;){var re=L.dependencies;if(re!==null){$=L.child;for(var xe=re.firstContext;xe!==null;){if(xe.context===E){if(L.tag===1){xe=Ho(-1,b&-b),xe.tag=2;var ke=L.updateQueue;if(ke!==null){ke=ke.shared;var tt=ke.pending;tt===null?xe.next=xe:(xe.next=tt.next,tt.next=xe),ke.pending=xe}}L.lanes|=b,xe=L.alternate,xe!==null&&(xe.lanes|=b),ww(L.return,b,h),re.lanes|=b;break}xe=xe.next}}else if(L.tag===10)$=L.type===h.type?null:L.child;else if(L.tag===18){if($=L.return,$===null)throw Error(o(341));$.lanes|=b,re=$.alternate,re!==null&&(re.lanes|=b),ww($,b,h),$=L.sibling}else $=L.child;if($!==null)$.return=L;else for($=L;$!==null;){if($===h){$=null;break}if(L=$.sibling,L!==null){L.return=$.return,$=L;break}$=$.return}L=$}Jr(d,h,A.children,b),h=h.child}return h;case 9:return A=h.type,E=h.pendingProps.children,Lu(h,b),A=is(A),E=E(A),h.flags|=1,Jr(d,h,E,b),h.child;case 14:return E=h.type,A=Ts(E,h.pendingProps),A=Ts(E.type,A),MP(d,h,E,A,b);case 15:return TP(d,h,h.type,h.pendingProps,b);case 17:return E=h.type,A=h.pendingProps,A=h.elementType===E?A:Ts(E,A),d!==null&&(d.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,vr(E)?(d=!0,Ar(h)):d=!1,Lu(h,b),HR(h,E,A),Ew(h,E,A,b),Hw(null,h,E,!0,d,b);case 19:return OP(d,h,b);case 22:return AP(d,h,b)}throw Error(o(156,h.tag))};function o2(d,h){return pw(d,h)}function U8(d,h,b,E){this.tag=d,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(d,h,b,E){return new U8(d,h,b,E)}function d1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function B8(d){if(typeof d=="function")return d1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===x)return 11;if(d===w)return 14}return 2}function Ba(d,h){var b=d.alternate;return b===null?(b=us(d.tag,h,d.key,d.mode),b.elementType=d.elementType,b.type=d.type,b.stateNode=d.stateNode,b.alternate=d,d.alternate=b):(b.pendingProps=h,b.type=d.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=d.flags&14680064,b.childLanes=d.childLanes,b.lanes=d.lanes,b.child=d.child,b.memoizedProps=d.memoizedProps,b.memoizedState=d.memoizedState,b.updateQueue=d.updateQueue,h=d.dependencies,b.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},b.sibling=d.sibling,b.index=d.index,b.ref=d.ref,b}function xy(d,h,b,E,A,L){var $=2;if(E=d,typeof d=="function")d1(d)&&($=1);else if(typeof d=="string")$=5;else e:switch(d){case u:return cc(b.children,A,L,h);case f:$=8,A|=8;break;case p:return d=us(12,b,h,A|2),d.elementType=p,d.lanes=L,d;case v:return d=us(13,b,h,A),d.elementType=v,d.lanes=L,d;case g:return d=us(19,b,h,A),d.elementType=g,d.lanes=L,d;case M:return _y(b,A,L,h);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:$=10;break e;case y:$=9;break e;case x:$=11;break e;case w:$=14;break e;case S:$=16,E=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return h=us($,b,h,A),h.elementType=d,h.type=E,h.lanes=L,h}function cc(d,h,b,E){return d=us(7,d,E,h),d.lanes=b,d}function _y(d,h,b,E){return d=us(22,d,E,h),d.elementType=M,d.lanes=b,d.stateNode={},d}function f1(d,h,b){return d=us(6,d,null,h),d.lanes=b,d}function h1(d,h,b){return h=us(4,d.children!==null?d.children:[],d.key,h),h.lanes=b,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}function z8(d,h,b,E,A){this.tag=h,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Be,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=fw(0),this.expirationTimes=fw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fw(0),this.identifierPrefix=E,this.onRecoverableError=A,Ee&&(this.mutableSourceEagerHydrationData=null)}function a2(d,h,b,E,A,L,$,re,xe){return d=new z8(d,h,b,re,xe),h===1?(h=1,L===!0&&(h|=8)):h=0,L=us(3,null,null,h),d.current=L,L.stateNode=d,L.memoizedState={element:E,isDehydrated:b,cache:null,transitions:null},Sw(L),d}function l2(d){if(!d)return ns;d=d._reactInternals;e:{if(N(d)!==d||d.tag!==1)throw Error(o(170));var h=d;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(vr(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(o(171))}if(d.tag===1){var b=d.type;if(vr(b))return Pu(d,b,h)}return h}function c2(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=W(h),d===null?null:d.stateNode}function u2(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var b=d.retryLane;d.retryLane=b!==0&&b<h?b:h}}function p1(d,h){u2(d,h),(d=d.alternate)&&u2(d,h)}function V8(d){return d=W(d),d===null?null:d.stateNode}function j8(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var h=Qr();cs(d,134217728,h),p1(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var h=Qr(),b=Fa(d);cs(d,b,h),p1(d,b)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var h=d.stateNode;if(h.current.memoizedState.isDehydrated){var b=hh(h.pendingLanes);b!==0&&(hw(h,b|1),xi(h,xr()),!(jt&6)&&(Hu(),uo()))}break;case 13:var E=Qr();JP(function(){return cs(d,1,E)}),p1(d,1)}},n.batchedUpdates=function(d,h){var b=jt;jt|=1;try{return d(h)}finally{jt=b,jt===0&&(Hu(),Lg&&uo())}},n.createComponentSelector=function(d){return{$$typeof:sy,value:d}},n.createContainer=function(d,h,b,E,A,L,$){return a2(d,h,!1,null,b,E,A,L,$)},n.createHasPseudoClassSelector=function(d){return{$$typeof:oy,value:d}},n.createHydrationContainer=function(d,h,b,E,A,L,$,re,xe){return d=a2(b,E,!0,d,A,L,$,re,xe),d.context=l2(null),b=d.current,E=Qr(),A=Fa(b),L=Ho(E,A),L.callback=h??null,ka(b,L),d.current.lanes=A,ph(d,A,E),xi(d,E),d},n.createPortal=function(d,h,b){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:d,containerInfo:h,implementation:b}},n.createRoleSelector=function(d){return{$$typeof:ay,value:d}},n.createTestNameSelector=function(d){return{$$typeof:ly,value:d}},n.createTextSelector=function(d){return{$$typeof:cy,value:d}},n.deferredUpdates=function(d){var h=Qt,b=$n.transition;try{return $n.transition=null,Qt=16,d()}finally{Qt=h,$n.transition=b}},n.discreteUpdates=function(d,h,b,E,A){var L=Qt,$=$n.transition;try{return $n.transition=null,Qt=1,d(h,b,E,A)}finally{Qt=L,$n.transition=$,jt===0&&Hu()}},n.findAllNodes=e1,n.findBoundingRects=function(d,h){if(!R)throw Error(o(363));h=e1(d,h),d=[];for(var b=0;b<h.length;b++)d.push(Z(h[b]));for(h=d.length-1;0<h;h--){b=d[h];for(var E=b.x,A=E+b.width,L=b.y,$=L+b.height,re=h-1;0<=re;re--)if(h!==re){var xe=d[re],ke=xe.x,tt=ke+xe.width,It=xe.y,gt=It+xe.height;if(E>=ke&&L>=It&&A<=tt&&$<=gt){d.splice(h,1);break}else if(E!==ke||b.width!==xe.width||gt<L||It>$){if(!(L!==It||b.height!==xe.height||tt<E||ke>A)){ke>E&&(xe.width+=ke-E,xe.x=E),tt<A&&(xe.width=A-ke),d.splice(h,1);break}}else{It>L&&(xe.height+=It-L,xe.y=L),gt<$&&(xe.height=$-It),d.splice(h,1);break}}}return d},n.findHostInstance=c2,n.findHostInstanceWithNoPortals=function(d){return d=V(d),d=d!==null?U(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return c2(d)},n.flushControlled=function(d){var h=jt;jt|=1;var b=$n.transition,E=Qt;try{$n.transition=null,Qt=1,d()}finally{Qt=E,$n.transition=b,jt=h,jt===0&&(Hu(),uo())}},n.flushPassiveEffects=lc,n.flushSync=JP,n.focusWithin=function(d,h){if(!R)throw Error(o(363));for(d=Zw(d),h=YP(d,h),h=Array.from(h),d=0;d<h.length;){var b=h[d++];if(!ie(b)){if(b.tag===5&&fe(b.stateNode))return!0;for(b=b.child;b!==null;)h.push(b),b=b.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Qt},n.getFindAllNodesFailureDescription=function(d,h){if(!R)throw Error(o(363));var b=0,E=[];d=[Zw(d),0];for(var A=0;A<d.length;){var L=d[A++],$=d[A++],re=h[$];if((L.tag!==5||!ie(L))&&(Jw(L,re)&&(E.push(Qw(re)),$++,$>b&&(b=$)),$<h.length))for(L=L.child;L!==null;)d.push(L,$),L=L.sibling}if(b<h.length){for(d=[];b<h.length;b++)d.push(Qw(h[b]));return`findAllNodes was able to match part of the selector:
  `+(E.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return q(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:V8,findFiberByHostInstance:d.findFiberByHostInstance||j8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)d=!0;else{try{Ig=h.inject(d),lo=h}catch{}d=!!h.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,h,b,E){if(!R)throw Error(o(363));d=e1(d,h);var A=Ce(d,b,E).disconnect;return{disconnect:function(){A()}}},n.registerMutableSourceForHydration=function(d,h){var b=h._getVersion;b=b(h._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[h,b]:d.mutableSourceEagerHydrationData.push(h,b)},n.runWithPriority=function(d,h){var b=Qt;try{return Qt=d,h()}finally{Qt=b}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,h,b,E){var A=h.current,L=Qr(),$=Fa(A);return b=l2(b),h.context===null?h.context=b:h.pendingContext=b,h=Ho(L,$),h.payload={element:d},E=E===void 0?null:E,E!==null&&(h.callback=E),ka(A,h),d=cs(A,$,L),d!==null&&Fg(d,A,$),$},n};sH.exports=Xde;var qde=sH.exports;const Yde=Hf(qde);var oH={exports:{}},aH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,F){var j=D.length;D.push(F);e:for(;0<j;){var K=j-1>>>1,ee=D[K];if(0<i(ee,F))D[K]=F,D[j]=ee,j=K;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var F=D[0],j=D.pop();if(j!==F){D[0]=j;e:for(var K=0,ee=D.length,J=ee>>>1;K<J;){var ae=2*(K+1)-1,Se=D[ae],Ae=ae+1,ce=D[Ae];if(0>i(Se,j))Ae<ee&&0>i(ce,Se)?(D[K]=ce,D[Ae]=j,K=Ae):(D[K]=Se,D[ae]=j,K=ae);else if(Ae<ee&&0>i(ce,j))D[K]=ce,D[Ae]=j,K=Ae;else break e}}return F}function i(D,F){var j=D.sortIndex-F.sortIndex;return j!==0?j:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,p=3,m=!1,y=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var F=n(c);F!==null;){if(F.callback===null)r(c);else if(F.startTime<=D)r(c),F.sortIndex=F.expirationTime,e(l,F);else break;F=n(c)}}function M(D){if(x=!1,S(D),!y)if(n(l)!==null)y=!0,q(C);else{var F=n(c);F!==null&&te(M,F.startTime-D)}}function C(D,F){y=!1,x&&(x=!1,g(O),O=-1),m=!0;var j=p;try{for(S(F),f=n(l);f!==null&&(!(f.expirationTime>F)||D&&!V());){var K=f.callback;if(typeof K=="function"){f.callback=null,p=f.priorityLevel;var ee=K(f.expirationTime<=F);F=t.unstable_now(),typeof ee=="function"?f.callback=ee:f===n(l)&&r(l),S(F)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var ae=n(c);ae!==null&&te(M,ae.startTime-F),J=!1}return J}finally{f=null,p=j,m=!1}}var P=!1,I=null,O=-1,N=5,k=-1;function V(){return!(t.unstable_now()-k<N)}function W(){if(I!==null){var D=t.unstable_now();k=D;var F=!0;try{F=I(!0,D)}finally{F?Q():(P=!1,I=null)}}else P=!1}var Q;if(typeof w=="function")Q=function(){w(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Y=U.port2;U.port1.onmessage=W,Q=function(){Y.postMessage(null)}}else Q=function(){v(W,0)};function q(D){I=D,P||(P=!0,Q())}function te(D,F){O=v(function(){D(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,q(C))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var F=3;break;default:F=p}var j=p;p=F;try{return D()}finally{p=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var j=p;p=D;try{return F()}finally{p=j}},t.unstable_scheduleCallback=function(D,F,j){var K=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?K+j:K):j=K,D){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=j+ee,D={id:u++,callback:F,priorityLevel:D,startTime:j,expirationTime:ee,sortIndex:-1},j>K?(D.sortIndex=j,e(c,D),n(l)===null&&D===n(c)&&(x?(g(O),O=-1):x=!0,te(M,j-K))):(D.sortIndex=ee,e(l,D),y||m||(y=!0,q(C))),D},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(D){var F=p;return function(){var j=p;p=F;try{return D.apply(this,arguments)}finally{p=j}}}})(aH);oH.exports=aH;var _D=oH.exports;const yR={},Kde=t=>void Object.assign(yR,t);function Zde(t,e){function n(u,{args:f=[],attach:p,...m},y){let x=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const g=m.object;v=wd(g,{type:u,root:y,attach:p,primitive:!0})}else{const g=yR[x];if(!g)throw new Error(`R3F: ${x} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");v=wd(new g(...f),{type:u,root:y,attach:p,memoizedProps:{args:f}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),x!=="inject"&&ub(v,m),v}function r(u,f){let p=!1;if(f){var m,y;(m=f.__r3f)!=null&&m.attach?cb(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),p=!0),p||(y=u.__r3f)==null||y.objects.push(f),f.__r3f||wd(f,{}),f.__r3f.parent=u,JM(f),Sd(f)}}function i(u,f,p){let m=!1;if(f){var y,x;if((y=f.__r3f)!=null&&y.attach)cb(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const v=u.children.filter(w=>w!==f),g=v.indexOf(p);u.children=[...v.slice(0,g),f,...v.slice(g)],m=!0}m||(x=u.__r3f)==null||x.objects.push(f),f.__r3f||wd(f,{}),f.__r3f.parent=u,JM(f),Sd(f)}}function s(u,f,p=!1){u&&[...u].forEach(m=>o(f,m,p))}function o(u,f,p){if(f){var m,y,x;if(f.__r3f&&(f.__r3f.parent=null),(m=u.__r3f)!=null&&m.objects&&(u.__r3f.objects=u.__r3f.objects.filter(M=>M!==f)),(y=f.__r3f)!=null&&y.attach)MD(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var v;u.remove(f),(v=f.__r3f)!=null&&v.root&&sfe(E0(f),f)}const w=(x=f.__r3f)==null?void 0:x.primitive,S=!w&&(p===void 0?f.dispose!==null:p);if(!w){var g;s((g=f.__r3f)==null?void 0:g.objects,f,S),s(f.children,f,S)}if(delete f.__r3f,S&&f.dispose&&f.type!=="Scene"){const M=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?_D.unstable_scheduleCallback(_D.unstable_IdlePriority,M):M()}Sd(u)}}function a(u,f,p,m){var y;const x=(y=u.__r3f)==null?void 0:y.parent;if(!x)return;const v=n(f,p,u.__r3f.root);if(u.children){for(const g of u.children)g.__r3f&&r(v,g);u.children=u.children.filter(g=>!g.__r3f)}u.__r3f.objects.forEach(g=>r(v,g)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||o(x,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(x,v),v.raycast&&v.__r3f.eventCount&&E0(v).getState().internal.interaction.push(v),[m,m.alternate].forEach(g=>{g!==null&&(g.stateNode=v,g.ref&&(typeof g.ref=="function"?g.ref(v):g.ref.current=v))})}const l=()=>{};return{reconciler:Yde({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const p=u.getState().scene;p.__r3f&&(p.__r3f.root=u,r(p,f))},removeChildFromContainer:(u,f)=>{f&&o(u.getState().scene,f)},insertInContainerBefore:(u,f,p)=>{if(!f||!p)return;const m=u.getState().scene;m.__r3f&&i(m,f,p)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,p,m){var y;if(((y=u==null?void 0:u.__r3f)!=null?y:{}).primitive&&m.object&&m.object!==u)return[!0];{const{args:v=[],children:g,...w}=m,{args:S=[],children:M,...C}=p;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((I,O)=>I!==S[O]))return[!0];const P=pH(u,w,C,!0);return P.changes.length?[!1,P]:null}},commitUpdate(u,[f,p],m,y,x,v){f?a(u,m,x,v):ub(u,p)},commitMount(u,f,p,m){var y;const x=(y=u.__r3f)!=null?y:{};u.raycast&&x.handlers&&x.eventCount&&E0(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>wd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:p,parent:m}=(f=u.__r3f)!=null?f:{};p&&m&&MD(m,u,p),u.isObject3D&&(u.visible=!1),Sd(u)},unhideInstance(u,f){var p;const{attach:m,parent:y}=(p=u.__r3f)!=null?p:{};m&&y&&cb(y,u,m),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),Sd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():$d.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&bn.fun(performance.now)?performance.now:bn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:bn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:bn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:ub}}var wD,SD;const lb=t=>"colorSpace"in t||"outputColorSpace"in t,lH=()=>{var t;return(t=yR.ColorManagement)!=null?t:null},cH=t=>t&&t.isOrthographicCamera,Jde=t=>t&&t.hasOwnProperty("current"),vg=typeof window<"u"&&((wD=window.document)!=null&&wD.createElement||((SD=window.navigator)==null?void 0:SD.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function uH(t){const e=T.useRef(t);return vg(()=>void(e.current=t),[t]),e}function Qde({set:t}){return vg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class dH extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}dH.getDerivedStateFromError=()=>({error:!0});const fH="__default",bD=new Map,efe=t=>t&&!!t.memoized&&!!t.changes;function hH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const np=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function E0(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const bn={obj:t=>t===Object(t)&&!bn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(bn.str(t)||bn.num(t)||bn.boo(t))return t===e;const s=bn.obj(t);if(s&&r==="reference")return t===e;const o=bn.arr(t);if(o&&n==="reference")return t===e;if((o||s)&&t===e)return!0;let a;for(a in t)if(!(a in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(a in i?e:t)if(!bn.equ(t[a],e[a],{strict:i,objects:"reference"}))return!1}else for(a in i?e:t)if(t[a]!==e[a])return!1;if(bn.und(a)){if(o&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function tfe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function wd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function ZM(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,o)=>s[o],t),{target:n,key:i}}else return{target:n,key:e}}const ED=/-\d+$/;function cb(t,e,n){if(bn.str(n)){if(ED.test(n)){const s=n.replace(ED,""),{target:o,key:a}=ZM(t,s);Array.isArray(o[a])||(o[a]=[])}const{target:r,key:i}=ZM(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function MD(t,e,n){var r,i;if(bn.str(n)){const{target:s,key:o}=ZM(t,n),a=e.__r3f.previousAttach;a===void 0?delete s[o]:s[o]=a}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function pH(t,{children:e,key:n,ref:r,...i},{children:s,key:o,ref:a,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),p=[];if(c){const y=Object.keys(l);for(let x=0;x<y.length;x++)i.hasOwnProperty(y[x])||f.unshift([y[x],fH+"remove"])}f.forEach(([y,x])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&y==="object"||bn.equ(x,l[y]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(y))return p.push([y,x,!0,[]]);let g=[];y.includes("-")&&(g=y.split("-")),p.push([y,x,!1,g]);for(const w in i){const S=i[w];w.startsWith(`${y}-`)&&p.push([w,S,!1,w.split("-")])}});const m={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(m.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(m.attach=u.memoizedProps.attach),{memoized:m,changes:p}}const nfe=typeof process<"u"&&!1;function ub(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:a}=efe(e)?e:pH(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let p=0;p<a.length;p++){let[m,y,x,v]=a[p];if(lb(t)){const M="srgb",C="srgb-linear";m==="encoding"?(m="colorSpace",y=y===3001?M:C):m==="outputEncoding"&&(m="outputColorSpace",y=y===3001?M:C)}let g=t,w=g[m];if(v.length&&(w=v.reduce((S,M)=>S[M],t),!(w&&w.set))){const[S,...M]=v.reverse();g=M.reverse().reduce((C,P)=>C[P],t),m=S}if(y===fH+"remove")if(g.constructor){let S=bD.get(g.constructor);S||(S=new g.constructor,bD.set(g.constructor,S)),y=S[m]}else y=0;if(x&&r)y?r.handlers[m]=y:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Qc)){if(Array.isArray(y))w.fromArray?w.fromArray(y):w.set(...y);else if(w.copy&&y&&y.constructor&&(nfe?w.constructor.name===y.constructor.name:w.constructor===y.constructor))w.copy(y);else if(y!==void 0){var c;const S=(c=w)==null?void 0:c.isColor;!S&&w.setScalar?w.setScalar(y):w instanceof Qc&&y instanceof Qc?w.mask=y.mask:w.set(y),!lH()&&s&&!s.linear&&S&&w.convertSRGBToLinear()}}else{var u;if(g[m]=y,(u=g[m])!=null&&u.isTexture&&g[m].format===oi&&g[m].type===ko&&s){const S=g[m];lb(S)&&lb(s.gl)?S.colorSpace=s.gl.outputColorSpace:S.encoding=s.gl.outputEncoding}}Sd(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const p=E0(t).getState().internal,m=p.interaction.indexOf(t);m>-1&&p.interaction.splice(m,1),r.eventCount&&p.interaction.push(t)}return!(a.length===1&&a[0][0]==="onUpdate")&&a.length&&(n=t.__r3f)!=null&&n.parent&&JM(t),t}function Sd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function JM(t){t.onUpdate==null||t.onUpdate(t)}function rfe(t,e){t.manual||(cH(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Gv(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function ife(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return $d.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return $d.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return $d.ContinuousEventPriority;default:return $d.DefaultEventPriority}}function mH(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function sfe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{mH(n.capturedMap,e,r,i)})}function ofe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,p=[],m=c?c(u.internal.interaction):u.internal.interaction;for(let g=0;g<m.length;g++){const w=np(m[g]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function y(g){const w=np(g);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var S;w.events.compute==null||w.events.compute(l,w,(S=w.previousRoot)==null?void 0:S.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(g,!0):[]}let x=m.flatMap(y).sort((g,w)=>{const S=np(g.object),M=np(w.object);return!S||!M?g.distance-w.distance:M.events.priority-S.events.priority||g.distance-w.distance}).filter(g=>{const w=Gv(g);return f.has(w)?!1:(f.add(w),!0)});u.events.filter&&(x=u.events.filter(x,u));for(const g of x){let w=g.object;for(;w;){var v;(v=w.__r3f)!=null&&v.eventCount&&p.push({...g,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let g of u.internal.capturedMap.get(l.pointerId).values())f.has(Gv(g.intersection))||p.push(g.intersection);return p}function i(l,c,u,f){const p=t.getState();if(l.length){const m={stopped:!1};for(const y of l){const x=np(y.object)||p,{raycaster:v,pointer:g,camera:w,internal:S}=x,M=new G(g.x,g.y,0).unproject(w),C=k=>{var V,W;return(V=(W=S.capturedMap.get(k))==null?void 0:W.has(y.eventObject))!=null?V:!1},P=k=>{const V={intersection:y,target:c.target};S.capturedMap.has(k)?S.capturedMap.get(k).set(y.eventObject,V):S.capturedMap.set(k,new Map([[y.eventObject,V]])),c.target.setPointerCapture(k)},I=k=>{const V=S.capturedMap.get(k);V&&mH(S.capturedMap,y.eventObject,V,k)};let O={};for(let k in c){let V=c[k];typeof V!="function"&&(O[k]=V)}let N={...y,...O,pointer:g,intersections:l,stopped:m.stopped,delta:u,unprojectedPoint:M,ray:v.ray,camera:w,stopPropagation(){const k="pointerId"in c&&S.capturedMap.get(c.pointerId);if((!k||k.has(y.eventObject))&&(N.stopped=m.stopped=!0,S.hovered.size&&Array.from(S.hovered.values()).find(V=>V.eventObject===y.eventObject))){const V=l.slice(0,l.indexOf(y));s([...V,y])}},target:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:I},currentTarget:{hasPointerCapture:C,setPointerCapture:P,releasePointerCapture:I},nativeEvent:c};if(f(N),m.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const p=u.eventObject.__r3f,m=p==null?void 0:p.handlers;if(c.hovered.delete(Gv(u)),p!=null&&p.eventCount){const y={...u,intersections:l};m.onPointerOut==null||m.onPointerOut(y),m.onPointerLeave==null||m.onPointerLeave(y)}}}function o(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function a(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:p}=t.getState();p.lastEvent.current=u;const m=l==="onPointerMove",y=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,m?n:void 0),g=y?e(u):0;l==="onPointerDown"&&(p.initialClick=[u.offsetX,u.offsetY],p.initialHits=v.map(S=>S.eventObject)),y&&!v.length&&g<=2&&(o(u,p.interaction),f&&f(u)),m&&s(v);function w(S){const M=S.eventObject,C=M.__r3f,P=C==null?void 0:C.handlers;if(C!=null&&C.eventCount)if(m){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const I=Gv(S),O=p.hovered.get(I);O?O.stopped&&S.stopPropagation():(p.hovered.set(I,S),P.onPointerOver==null||P.onPointerOver(S),P.onPointerEnter==null||P.onPointerEnter(S))}P.onPointerMove==null||P.onPointerMove(S)}else{const I=P[l];I?(!y||p.initialHits.includes(M))&&(o(u,p.interaction.filter(O=>!p.initialHits.includes(O))),I(S)):y&&p.initialHits.includes(M)&&o(u,p.interaction.filter(O=>!p.initialHits.includes(O)))}}i(v,u,g,w)}}return{handlePointer:a}}const gH=t=>!!(t!=null&&t.render),yH=T.createContext(null),afe=(t,e)=>{const n=Wde((a,l)=>{const c=new G,u=new G,f=new G;function p(g=l().camera,w=u,S=l().size){const{width:M,height:C,top:P,left:I}=S,O=M/C;w.isVector3?f.copy(w):f.set(...w);const N=g.getWorldPosition(c).distanceTo(f);if(cH(g))return{width:M/g.zoom,height:C/g.zoom,top:P,left:I,factor:1,distance:N,aspect:O};{const k=g.fov*Math.PI/180,V=2*Math.tan(k/2)*N,W=V*(M/C);return{width:W,height:V,top:P,left:I,factor:M/W,distance:N,aspect:O}}}let m;const y=g=>a(w=>({performance:{...w.performance,current:g}})),x=new Te;return{set:a,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(g=1)=>t(l(),g),advance:(g,w)=>e(g,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new hR,pointer:x,mouse:x,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const g=l();m&&clearTimeout(m),g.performance.current!==g.performance.min&&y(g.performance.min),m=setTimeout(()=>y(l().performance.max),g.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:p},setEvents:g=>a(w=>({...w,events:{...w.events,...g}})),setSize:(g,w,S,M,C)=>{const P=l().camera,I={width:g,height:w,top:M||0,left:C||0,updateStyle:S};a(O=>({size:I,viewport:{...O.viewport,...p(P,u,I)}}))},setDpr:g=>a(w=>{const S=hH(g);return{viewport:{...w.viewport,dpr:S,initialDpr:w.viewport.initialDpr||S}}}),setFrameloop:(g="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,g!=="never"&&(w.start(),w.elapsedTime=0),a(()=>({frameloop:g}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:T.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(g,w,S)=>{const M=l().internal;return M.priority=M.priority+(w>0?1:0),M.subscribers.push({ref:g,priority:w,store:S}),M.subscribers=M.subscribers.sort((C,P)=>C.priority-P.priority),()=>{const C=l().internal;C!=null&&C.subscribers&&(C.priority=C.priority-(w>0?1:0),C.subscribers=C.subscribers.filter(P=>P.ref!==g))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:a,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var p;i=l,s=c.dpr,rfe(a,l),u.setPixelRatio(c.dpr);const m=(p=l.updateStyle)!=null?p:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,m)}a!==o&&(o=a,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(a)}})))}),n.subscribe(a=>t(a)),n};let $v,lfe=new Set,cfe=new Set,ufe=new Set;function db(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function rp(t,e){switch(t){case"before":return db(lfe,e);case"after":return db(cfe,e);case"tail":return db(ufe,e)}}let fb,hb;function pb(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),fb=e.internal.subscribers,$v=0;$v<fb.length;$v++)hb=fb[$v],hb.ref.current(hb.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function dfe(t){let e=!1,n=!1,r,i,s;function o(c){i=requestAnimationFrame(o),e=!0,r=0,rp("before",c),n=!0;for(const f of t.values()){var u;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=pb(c,s))}if(n=!1,rp("after",c),r===0)return rp("tail",c),e=!1,cancelAnimationFrame(i)}function a(c,u=1){var f;if(!c)return t.forEach(p=>a(p.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(c,u=!0,f,p){if(u&&rp("before",c),f)pb(c,f,p);else for(const m of t.values())pb(c,m.store.getState());u&&rp("after",c)}return{loop:o,invalidate:a,advance:l}}function ffe(){const t=T.useContext(yH);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function lh(t,e=0){const n=ffe(),r=n.getState().internal.subscribe,i=uH(t);return vg(()=>r(i,e,n),[e,r,n]),null}const Of=new Map,{invalidate:TD,advance:AD}=dfe(Of),{reconciler:Sx,applyProps:gd}=Zde(Of,ife),yd={objects:"shallow",strict:!1},hfe=(t,e)=>{const n=typeof t=="function"?t(e):t;return gH(n)?n:new qC({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function pfe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:o,updateStyle:a=n}=e;return{width:r,height:i,top:s,left:o,updateStyle:a}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function mfe(t){const e=Of.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||afe(TD,AD),o=n||Sx.createContainer(s,$d.ConcurrentRoot,null,!1,null,"",i,null);e||Of.set(t,{fiber:o,store:s});let a,l=!1,c;return{configure(u={}){let{gl:f,size:p,scene:m,events:y,onCreated:x,shadows:v=!1,linear:g=!1,flat:w=!1,legacy:S=!1,orthographic:M=!1,frameloop:C="always",dpr:P=[1,2],performance:I,raycaster:O,camera:N,onPointerMissed:k}=u,V=s.getState(),W=V.gl;V.gl||V.set({gl:W=hfe(f,t)});let Q=V.raycaster;Q||V.set({raycaster:Q=new tH});const{params:U,...Y}=O||{};if(bn.equ(Y,Q,yd)||gd(Q,{...Y}),bn.equ(U,Q.params,yd)||gd(Q,{params:{...Q.params,...U}}),!V.camera||V.camera===c&&!bn.equ(c,N,yd)){c=N;const j=N instanceof cg,K=j?N:M?new hg(0,0,0,0,.1,1e3):new Er(75,0,.1,1e3);j||(K.position.z=5,N&&(gd(K,N),("aspect"in N||"left"in N||"right"in N||"bottom"in N||"top"in N)&&(K.manual=!0,K.updateProjectionMatrix())),!V.camera&&!(N!=null&&N.rotation)&&K.lookAt(0,0,0)),V.set({camera:K}),Q.camera=K}if(!V.scene){let j;m!=null&&m.isScene?j=m:(j=new YC,m&&gd(j,m)),V.set({scene:wd(j)})}if(!V.xr){var q;const j=(J,ae)=>{const Se=s.getState();Se.frameloop!=="never"&&AD(J,!0,Se,ae)},K=()=>{const J=s.getState();J.gl.xr.enabled=J.gl.xr.isPresenting,J.gl.xr.setAnimationLoop(J.gl.xr.isPresenting?j:null),J.gl.xr.isPresenting||TD(J)},ee={connect(){const J=s.getState().gl;J.xr.addEventListener("sessionstart",K),J.xr.addEventListener("sessionend",K)},disconnect(){const J=s.getState().gl;J.xr.removeEventListener("sessionstart",K),J.xr.removeEventListener("sessionend",K)}};typeof((q=W.xr)==null?void 0:q.addEventListener)=="function"&&ee.connect(),V.set({xr:ee})}if(W.shadowMap){const j=W.shadowMap.enabled,K=W.shadowMap.type;if(W.shadowMap.enabled=!!v,bn.boo(v))W.shadowMap.type=Lp;else if(bn.str(v)){var te;const ee={basic:X5,percentage:E_,soft:Lp,variance:Us};W.shadowMap.type=(te=ee[v])!=null?te:Lp}else bn.obj(v)&&Object.assign(W.shadowMap,v);(j!==W.shadowMap.enabled||K!==W.shadowMap.type)&&(W.shadowMap.needsUpdate=!0)}const D=lH();D&&("enabled"in D?D.enabled=!S:"legacyMode"in D&&(D.legacyMode=S)),l||gd(W,{outputEncoding:g?3e3:3001,toneMapping:w?Lo:AC}),V.legacy!==S&&V.set(()=>({legacy:S})),V.linear!==g&&V.set(()=>({linear:g})),V.flat!==w&&V.set(()=>({flat:w})),f&&!bn.fun(f)&&!gH(f)&&!bn.equ(f,W,yd)&&gd(W,f),y&&!V.events.handlers&&V.set({events:y(s)});const F=pfe(t,p);return bn.equ(F,V.size,yd)||V.setSize(F.width,F.height,F.updateStyle,F.top,F.left),P&&V.viewport.dpr!==hH(P)&&V.setDpr(P),V.frameloop!==C&&V.setFrameloop(C),V.onPointerMissed||V.set({onPointerMissed:k}),I&&!bn.equ(I,V.performance,yd)&&V.set(j=>({performance:{...j.performance,...I}})),a=x,l=!0,this},render(u){return l||this.configure(),Sx.updateContainer(_.jsx(gfe,{store:s,children:u,onCreated:a,rootElement:t}),o,null,()=>{}),s},unmount(){vH(t)}}}function gfe({store:t,children:e,onCreated:n,rootElement:r}){return vg(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),_.jsx(yH.Provider,{value:t,children:e})}function vH(t,e){const n=Of.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Sx.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,o,a,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(o=s.renderLists)==null||o.dispose==null||o.dispose(),(a=i.gl)==null||a.forceContextLoss==null||a.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),tfe(i),Of.delete(t)}catch{}},500)})}}Sx.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:T.version});const mb={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function yfe(t){const{handlePointer:e}=ofe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(mb).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([o,a])=>{const[l,c]=mb[o];n.addEventListener(l,a,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,o])=>{if(r&&r.connected instanceof HTMLElement){const[a]=mb[s];r.connected.removeEventListener(a,o)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function CD(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function vfe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,o]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),a=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=T.useRef(!1);T.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,p,m]=T.useMemo(()=>{const g=()=>{if(!a.current.element)return;const{left:w,top:S,width:M,height:C,bottom:P,right:I,x:O,y:N}=a.current.element.getBoundingClientRect(),k={left:w,top:S,width:M,height:C,bottom:P,right:I,x:O,y:N};a.current.element instanceof HTMLElement&&r&&(k.height=a.current.element.offsetHeight,k.width=a.current.element.offsetWidth),Object.freeze(k),u.current&&!Sfe(a.current.lastBounds,k)&&o(a.current.lastBounds=k)};return[g,c?CD(g,c):g,l?CD(g,l):g]},[o,r,l,c]);function y(){a.current.scrollContainers&&(a.current.scrollContainers.forEach(g=>g.removeEventListener("scroll",m,!0)),a.current.scrollContainers=null),a.current.resizeObserver&&(a.current.resizeObserver.disconnect(),a.current.resizeObserver=null),a.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",a.current.orientationHandler))}function x(){a.current.element&&(a.current.resizeObserver=new i(m),a.current.resizeObserver.observe(a.current.element),e&&a.current.scrollContainers&&a.current.scrollContainers.forEach(g=>g.addEventListener("scroll",m,{capture:!0,passive:!0})),a.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",a.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",a.current.orientationHandler))}const v=g=>{!g||g===a.current.element||(y(),a.current.element=g,a.current.scrollContainers=xH(g),x())};return _fe(m,!!e),xfe(p),T.useEffect(()=>{y(),x()},[e,m,p]),T.useEffect(()=>y,[]),[v,s,f]}function xfe(t){T.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function _fe(t,e){T.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function xH(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...xH(t.parentElement)]}const wfe=["x","y","top","bottom","left","right","width","height"],Sfe=(t,e)=>wfe.every(n=>t[n]===e[n]);var bfe=Object.defineProperty,Efe=Object.defineProperties,Mfe=Object.getOwnPropertyDescriptors,RD=Object.getOwnPropertySymbols,Tfe=Object.prototype.hasOwnProperty,Afe=Object.prototype.propertyIsEnumerable,PD=(t,e,n)=>e in t?bfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ND=(t,e)=>{for(var n in e||(e={}))Tfe.call(e,n)&&PD(t,n,e[n]);if(RD)for(var n of RD(e))Afe.call(e,n)&&PD(t,n,e[n]);return t},Cfe=(t,e)=>Efe(t,Mfe(e)),ID,LD;typeof window<"u"&&((ID=window.document)!=null&&ID.createElement||((LD=window.navigator)==null?void 0:LD.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function _H(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=_H(r,e,n);if(i)return i;r=r.sibling}}function wH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const kD=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=kD;return}return kD.apply(this,arguments)};const vR=wH(T.createContext(null));class SH extends T.Component{render(){return T.createElement(vR.Provider,{value:this._reactInternals},this.props.children)}}function Rfe(){const t=T.useContext(vR);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=T.useId();return T.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=_H(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function Pfe(){const t=Rfe(),[e]=T.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==vR&&!e.has(i)&&e.set(i,T.useContext(wH(i)))}n=n.return}return e}function Nfe(){const t=Pfe();return T.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>T.createElement(e,null,T.createElement(n.Provider,Cfe(ND({},r),{value:t.get(n)}))),e=>T.createElement(SH,ND({},e))),[t])}const Ife=T.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:o=yfe,eventSource:a,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:v,raycaster:g,camera:w,scene:S,onPointerMissed:M,onCreated:C,...P},I){T.useMemo(()=>Kde(Vde),[]);const O=Nfe(),[N,k]=vfe({scroll:!0,debounce:{scroll:50,resize:0},...r}),V=T.useRef(null),W=T.useRef(null);T.useImperativeHandle(I,()=>V.current);const Q=uH(M),[U,Y]=T.useState(!1),[q,te]=T.useState(!1);if(U)throw U;if(q)throw q;const D=T.useRef(null);vg(()=>{const j=V.current;k.width>0&&k.height>0&&j&&(D.current||(D.current=mfe(j)),D.current.configure({gl:s,events:o,shadows:c,linear:u,flat:f,legacy:p,orthographic:m,frameloop:y,dpr:x,performance:v,raycaster:g,camera:w,scene:S,size:k,onPointerMissed:(...K)=>Q.current==null?void 0:Q.current(...K),onCreated:K=>{K.events.connect==null||K.events.connect(a?Jde(a)?a.current:a:W.current),l&&K.setEvents({compute:(ee,J)=>{const ae=ee[l+"X"],Se=ee[l+"Y"];J.pointer.set(ae/J.size.width*2-1,-(Se/J.size.height)*2+1),J.raycaster.setFromCamera(J.pointer,J.camera)}}),C==null||C(K)}}),D.current.render(_.jsx(O,{children:_.jsx(dH,{set:te,children:_.jsx(T.Suspense,{fallback:_.jsx(Qde,{set:Y}),children:e??null})})})))}),T.useEffect(()=>{const j=V.current;if(j)return()=>vH(j)},[]);const F=a?"none":"auto";return _.jsx("div",{ref:W,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:F,...i},...P,children:_.jsx("div",{ref:N,style:{width:"100%",height:"100%"},children:_.jsx("canvas",{ref:V,style:{display:"block"},children:n})})})}),Lfe=T.forwardRef(function(e,n){return _.jsx(SH,{children:_.jsx(Ife,{...e,ref:n})})});function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bx.apply(null,arguments)}const kfe=()=>parseInt(sg.replace(/\D+/g,"")),Dfe=kfe();var Ofe=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class Ffe extends oR{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${Ofe}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const Ufe=T.forwardRef(({speed:t=1,...e},n)=>{const[r]=T.useState(()=>new Ffe);return lh(i=>r&&(r.time=i.clock.elapsedTime*t)),T.createElement("primitive",bx({object:r,ref:n,attach:"material"},e))});function Bfe(t,e){const n=t+"Geometry";return T.forwardRef(({args:r,children:i,...s},o)=>{const a=T.useRef(null);return T.useImperativeHandle(o,()=>a.current),T.useLayoutEffect(()=>void(e==null?void 0:e(a.current))),T.createElement("mesh",bx({ref:a},s),T.createElement(n,{attach:"geometry",args:r}),i)})}const zfe=Bfe("sphere"),Vfe=T.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:o=!1,...a},l)=>{const c=T.useRef(null);T.useImperativeHandle(l,()=>c.current,[]);const u=T.useRef(Math.random()*1e4);return lh(f=>{var p,m;if(!e||n===0)return;o&&f.invalidate();const y=u.current+f.clock.elapsedTime;c.current.rotation.x=Math.cos(y/4*n)/8*r,c.current.rotation.y=Math.sin(y/4*n)/8*r,c.current.rotation.z=Math.sin(y/4*n)/20*r;let x=Math.sin(y/4*n)/10;x=$V.mapLinear(x,-.1,.1,(p=s==null?void 0:s[0])!==null&&p!==void 0?p:-.1,(m=s==null?void 0:s[1])!==null&&m!==void 0?m:.1),c.current.position.y=x*i,c.current.updateMatrix()}),T.createElement("group",a,T.createElement("group",{ref:c,matrixAutoUpdate:!1},t))});class jfe extends no{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Dfe>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Hfe=t=>new G().setFromSpherical(new nH(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Wfe=T.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:o=1},a)=>{const l=T.useRef(),[c,u,f]=T.useMemo(()=>{const m=[],y=[],x=Array.from({length:n},()=>(.5+.5*Math.random())*i),v=new Ye;let g=t+e;const w=e/n;for(let S=0;S<n;S++)g-=w*Math.random(),m.push(...Hfe(g).toArray()),v.setHSL(S/n,r,.9),y.push(v.r,v.g,v.b);return[new Float32Array(m),new Float32Array(y),new Float32Array(x)]},[n,e,i,t,r]);lh(m=>l.current&&(l.current.uniforms.time.value=m.clock.elapsedTime*o));const[p]=T.useState(()=>new jfe);return T.createElement("points",{ref:a},T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[u,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[f,1]})),T.createElement("primitive",{ref:l,object:p,attach:"material",blending:mx,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))});function gb({position:t,color:e,speed:n=1}){const r=T.useRef(null);return lh(i=>{r.current&&(r.current.rotation.x=i.clock.elapsedTime*.1*n,r.current.rotation.y=i.clock.elapsedTime*.15*n)}),_.jsx(Vfe,{speed:2,rotationIntensity:.5,floatIntensity:1,children:_.jsx(zfe,{ref:r,args:[1,32,32],position:t,children:_.jsx(Ufe,{color:e,attach:"material",distort:.4,speed:2,roughness:.2,metalness:.8})})})}function DD({position:t,rotation:e}){const n=T.useRef(null);return lh(r=>{n.current&&(n.current.rotation.z=r.clock.elapsedTime*.2)}),_.jsxs("mesh",{ref:n,position:t,rotation:e,children:[_.jsx("torusGeometry",{args:[2,.05,16,100]}),_.jsx("meshStandardMaterial",{color:"#f59e0b",emissive:"#f59e0b",emissiveIntensity:.5})]})}function Gfe(){const e=T.useMemo(()=>{const r=new Float32Array(300);for(let i=0;i<100;i++)r[i*3]=(Math.random()-.5)*20,r[i*3+1]=(Math.random()-.5)*20,r[i*3+2]=(Math.random()-.5)*20;return r},[]),n=T.useRef(null);return lh(r=>{n.current&&(n.current.rotation.y=r.clock.elapsedTime*.02)}),_.jsxs("points",{ref:n,children:[_.jsx("bufferGeometry",{children:_.jsx("bufferAttribute",{attach:"attributes-position",count:100,array:e,itemSize:3})}),_.jsx("pointsMaterial",{size:.05,color:"#f59e0b",transparent:!0,opacity:.6})]})}function $fe(){return _.jsxs(_.Fragment,{children:[_.jsx("ambientLight",{intensity:.3}),_.jsx("pointLight",{position:[10,10,10],intensity:1,color:"#f59e0b"}),_.jsx("pointLight",{position:[-10,-10,-10],intensity:.5,color:"#14b8a6"}),_.jsx(gb,{position:[-3,1,-2],color:"#f59e0b",speed:1.2}),_.jsx(gb,{position:[3,-1,-3],color:"#14b8a6",speed:.8}),_.jsx(gb,{position:[0,2,-4],color:"#f59e0b",speed:1}),_.jsx(DD,{position:[0,0,-5],rotation:[Math.PI/4,0,0]}),_.jsx(DD,{position:[2,-1,-6],rotation:[Math.PI/3,Math.PI/6,0]}),_.jsx(Gfe,{}),_.jsx(Wfe,{radius:50,depth:50,count:1e3,factor:4,saturation:0,fade:!0,speed:1})]})}function Xfe(){return _.jsx("div",{className:"absolute inset-0 -z-10",children:_.jsx(Lfe,{camera:{position:[0,0,8],fov:60},dpr:[1,2],gl:{antialias:!0,alpha:!0},children:_.jsx($fe,{})})})}function bH({article:t,index:e=0}){const{locale:n,t:r}=Tn(),i=()=>n==="ar"&&t.titleAr?t.titleAr:n==="fr"&&t.titleFr?t.titleFr:t.title,s=()=>n==="ar"&&t.excerptAr?t.excerptAr:n==="fr"&&t.excerptFr?t.excerptFr:t.excerpt;return _.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:e*.05},children:_.jsx(gn,{to:`/articles/${t.slug}`,children:_.jsxs(at.article,{className:"group grid grid-cols-1 md:grid-cols-12 bg-card rounded-2xl overflow-hidden border border-border/50 hover:border-primary/30 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/5 h-full",whileHover:{y:-2},children:[_.jsxs("div",{className:"md:col-span-4 relative aspect-video md:aspect-auto overflow-hidden bg-muted",children:[_.jsx("img",{src:t.coverImageUrl,alt:i(),className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),_.jsxs("div",{className:"md:col-span-8 p-6 md:p-8 flex flex-col",children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[_.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-md bg-primary/10 text-primary uppercase tracking-tight",children:t.category}),_.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),_.jsxs("div",{className:"flex items-center gap-1 text-[10px] font-bold text-muted-foreground uppercase tracking-widest",children:[_.jsx(UU,{className:"w-3 h-3"}),_.jsx("span",{children:r("articles.readingTime",{minutes:t.readingTime})})]})]}),_.jsx("h3",{className:"font-display text-2xl md:text-3xl font-bold text-foreground line-clamp-2 leading-tight mb-4 group-hover:text-primary transition-colors text-start",children:i()}),_.jsx("p",{className:"text-muted-foreground text-base leading-relaxed line-clamp-3 mb-6 text-start",children:s()}),_.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-border/30",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[t.author.id==="eras-team"?_.jsx("div",{className:"w-6 h-6 rounded-full bg-gradient-accent flex items-center justify-center border border-border",children:_.jsx("span",{className:"text-primary-foreground font-display font-bold text-[10px]",children:"E"})}):t.author.avatarUrl?_.jsx("img",{src:t.author.avatarUrl,alt:t.author.name,className:"w-6 h-6 rounded-full object-cover border border-border"}):null,_.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:t.author.name})]}),_.jsxs("div",{className:"flex items-center gap-1.5 text-primary text-sm font-bold group-hover:gap-2.5 transition-all rtl:flex-row-reverse",children:[r("articles.readMore"),_.jsx(_a,{className:"w-4 h-4 rtl:rotate-180"})]})]})]})]})})})}const Ex=T.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:qt("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ex.displayName="Input";function EH(t,e){return function(){return t.apply(e,arguments)}}const{toString:qfe}=Object.prototype,{getPrototypeOf:xR}=Object,{iterator:Z_,toStringTag:MH}=Symbol,J_=(t=>e=>{const n=qfe.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),so=t=>(t=t.toLowerCase(),e=>J_(e)===t),Q_=t=>e=>typeof e===t,{isArray:ch}=Array,Ff=Q_("undefined");function xg(t){return t!==null&&!Ff(t)&&t.constructor!==null&&!Ff(t.constructor)&&Ii(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const TH=so("ArrayBuffer");function Yfe(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&TH(t.buffer),e}const Kfe=Q_("string"),Ii=Q_("function"),AH=Q_("number"),_g=t=>t!==null&&typeof t=="object",Zfe=t=>t===!0||t===!1,M0=t=>{if(J_(t)!=="object")return!1;const e=xR(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(MH in t)&&!(Z_ in t)},Jfe=t=>{if(!_g(t)||xg(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Qfe=so("Date"),ehe=so("File"),the=so("Blob"),nhe=so("FileList"),rhe=t=>_g(t)&&Ii(t.pipe),ihe=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Ii(t.append)&&((e=J_(t))==="formdata"||e==="object"&&Ii(t.toString)&&t.toString()==="[object FormData]"))},she=so("URLSearchParams"),[ohe,ahe,lhe,che]=["ReadableStream","Request","Response","Headers"].map(so),uhe=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function wg(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),ch(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(xg(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function CH(t,e){if(xg(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Bc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,RH=t=>!Ff(t)&&t!==Bc;function QM(){const{caseless:t,skipUndefined:e}=RH(this)&&this||{},n={},r=(i,s)=>{const o=t&&CH(n,s)||s;M0(n[o])&&M0(i)?n[o]=QM(n[o],i):M0(i)?n[o]=QM({},i):ch(i)?n[o]=i.slice():(!e||!Ff(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&wg(arguments[i],r);return n}const dhe=(t,e,n,{allOwnKeys:r}={})=>(wg(e,(i,s)=>{n&&Ii(i)?Object.defineProperty(t,s,{value:EH(i,n),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,s,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),t),fhe=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hhe=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},phe=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&xR(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},mhe=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},ghe=t=>{if(!t)return null;if(ch(t))return t;let e=t.length;if(!AH(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},yhe=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&xR(Uint8Array)),vhe=(t,e)=>{const r=(t&&t[Z_]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},xhe=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},_he=so("HTMLFormElement"),whe=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),OD=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),She=so("RegExp"),PH=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};wg(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},bhe=t=>{PH(t,(e,n)=>{if(Ii(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Ii(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Ehe=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return ch(t)?r(t):r(String(t).split(e)),n},Mhe=()=>{},The=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ahe(t){return!!(t&&Ii(t.append)&&t[MH]==="FormData"&&t[Z_])}const Che=t=>{const e=new Array(10),n=(r,i)=>{if(_g(r)){if(e.indexOf(r)>=0)return;if(xg(r))return r;if(!("toJSON"in r)){e[i]=r;const s=ch(r)?[]:{};return wg(r,(o,a)=>{const l=n(o,i+1);!Ff(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Rhe=so("AsyncFunction"),Phe=t=>t&&(_g(t)||Ii(t))&&Ii(t.then)&&Ii(t.catch),NH=((t,e)=>t?setImmediate:e?((n,r)=>(Bc.addEventListener("message",({source:i,data:s})=>{i===Bc&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Bc.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ii(Bc.postMessage)),Nhe=typeof queueMicrotask<"u"?queueMicrotask.bind(Bc):typeof process<"u"&&process.nextTick||NH,Ihe=t=>t!=null&&Ii(t[Z_]),me={isArray:ch,isArrayBuffer:TH,isBuffer:xg,isFormData:ihe,isArrayBufferView:Yfe,isString:Kfe,isNumber:AH,isBoolean:Zfe,isObject:_g,isPlainObject:M0,isEmptyObject:Jfe,isReadableStream:ohe,isRequest:ahe,isResponse:lhe,isHeaders:che,isUndefined:Ff,isDate:Qfe,isFile:ehe,isBlob:the,isRegExp:She,isFunction:Ii,isStream:rhe,isURLSearchParams:she,isTypedArray:yhe,isFileList:nhe,forEach:wg,merge:QM,extend:dhe,trim:uhe,stripBOM:fhe,inherits:hhe,toFlatObject:phe,kindOf:J_,kindOfTest:so,endsWith:mhe,toArray:ghe,forEachEntry:vhe,matchAll:xhe,isHTMLForm:_he,hasOwnProperty:OD,hasOwnProp:OD,reduceDescriptors:PH,freezeMethods:bhe,toObjectSet:Ehe,toCamelCase:whe,noop:Mhe,toFiniteNumber:The,findKey:CH,global:Bc,isContextDefined:RH,isSpecCompliantForm:Ahe,toJSONObject:Che,isAsyncFn:Rhe,isThenable:Phe,setImmediate:NH,asap:Nhe,isIterable:Ihe};class xt extends Error{static from(e,n,r,i,s,o){const a=new xt(e.message,n||e.code,r,i,s);return a.cause=e,a.name=e.name,o&&Object.assign(a,o),a}constructor(e,n,r,i,s){super(e),this.name="AxiosError",this.isAxiosError=!0,n&&(this.code=n),r&&(this.config=r),i&&(this.request=i),s&&(this.response=s,this.status=s.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:me.toJSONObject(this.config),code:this.code,status:this.status}}}xt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";xt.ERR_BAD_OPTION="ERR_BAD_OPTION";xt.ECONNABORTED="ECONNABORTED";xt.ETIMEDOUT="ETIMEDOUT";xt.ERR_NETWORK="ERR_NETWORK";xt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";xt.ERR_DEPRECATED="ERR_DEPRECATED";xt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";xt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";xt.ERR_CANCELED="ERR_CANCELED";xt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";xt.ERR_INVALID_URL="ERR_INVALID_URL";const Lhe=null;function eT(t){return me.isPlainObject(t)||me.isArray(t)}function IH(t){return me.endsWith(t,"[]")?t.slice(0,-2):t}function FD(t,e,n){return t?t.concat(e).map(function(i,s){return i=IH(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function khe(t){return me.isArray(t)&&!t.some(eT)}const Dhe=me.toFlatObject(me,{},null,function(e){return/^is[A-Z]/.test(e)});function ew(t,e,n){if(!me.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=me.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,v){return!me.isUndefined(v[x])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&me.isSpecCompliantForm(e);if(!me.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(me.isDate(y))return y.toISOString();if(me.isBoolean(y))return y.toString();if(!l&&me.isBlob(y))throw new xt("Blob is not supported. Use a Buffer instead.");return me.isArrayBuffer(y)||me.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function u(y,x,v){let g=y;if(y&&!v&&typeof y=="object"){if(me.endsWith(x,"{}"))x=r?x:x.slice(0,-2),y=JSON.stringify(y);else if(me.isArray(y)&&khe(y)||(me.isFileList(y)||me.endsWith(x,"[]"))&&(g=me.toArray(y)))return x=IH(x),g.forEach(function(S,M){!(me.isUndefined(S)||S===null)&&e.append(o===!0?FD([x],M,s):o===null?x:x+"[]",c(S))}),!1}return eT(y)?!0:(e.append(FD(v,x,s),c(y)),!1)}const f=[],p=Object.assign(Dhe,{defaultVisitor:u,convertValue:c,isVisitable:eT});function m(y,x){if(!me.isUndefined(y)){if(f.indexOf(y)!==-1)throw Error("Circular reference detected in "+x.join("."));f.push(y),me.forEach(y,function(g,w){(!(me.isUndefined(g)||g===null)&&i.call(e,g,me.isString(w)?w.trim():w,x,p))===!0&&m(g,x?x.concat(w):[w])}),f.pop()}}if(!me.isObject(t))throw new TypeError("data must be an object");return m(t),e}function UD(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function _R(t,e){this._pairs=[],t&&ew(t,this,e)}const LH=_R.prototype;LH.append=function(e,n){this._pairs.push([e,n])};LH.toString=function(e){const n=e?function(r){return e.call(this,r,UD)}:UD;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function Ohe(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function kH(t,e,n){if(!e)return t;const r=n&&n.encode||Ohe,i=me.isFunction(n)?{serialize:n}:n,s=i&&i.serialize;let o;if(s?o=s(e,i):o=me.isURLSearchParams(e)?e.toString():new _R(e,i).toString(r),o){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class BD{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){me.forEach(this.handlers,function(r){r!==null&&e(r)})}}const DH={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Fhe=typeof URLSearchParams<"u"?URLSearchParams:_R,Uhe=typeof FormData<"u"?FormData:null,Bhe=typeof Blob<"u"?Blob:null,zhe={isBrowser:!0,classes:{URLSearchParams:Fhe,FormData:Uhe,Blob:Bhe},protocols:["http","https","file","blob","url","data"]},wR=typeof window<"u"&&typeof document<"u",tT=typeof navigator=="object"&&navigator||void 0,Vhe=wR&&(!tT||["ReactNative","NativeScript","NS"].indexOf(tT.product)<0),jhe=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hhe=wR&&window.location.href||"http://localhost",Whe=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wR,hasStandardBrowserEnv:Vhe,hasStandardBrowserWebWorkerEnv:jhe,navigator:tT,origin:Hhe},Symbol.toStringTag,{value:"Module"})),Xr={...Whe,...zhe};function Ghe(t,e){return ew(t,new Xr.classes.URLSearchParams,{visitor:function(n,r,i,s){return Xr.isNode&&me.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function $he(t){return me.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xhe(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function OH(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&me.isArray(i)?i.length:o,l?(me.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!me.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&me.isArray(i[o])&&(i[o]=Xhe(i[o])),!a)}if(me.isFormData(t)&&me.isFunction(t.entries)){const n={};return me.forEachEntry(t,(r,i)=>{e($he(r),i,n,0)}),n}return null}function qhe(t,e,n){if(me.isString(t))try{return(e||JSON.parse)(t),me.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(t)}const Sg={transitional:DH,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=me.isObject(e);if(s&&me.isHTMLForm(e)&&(e=new FormData(e)),me.isFormData(e))return i?JSON.stringify(OH(e)):e;if(me.isArrayBuffer(e)||me.isBuffer(e)||me.isStream(e)||me.isFile(e)||me.isBlob(e)||me.isReadableStream(e))return e;if(me.isArrayBufferView(e))return e.buffer;if(me.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Ghe(e,this.formSerializer).toString();if((a=me.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return ew(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),qhe(e)):e}],transformResponse:[function(e){const n=this.transitional||Sg.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(me.isResponse(e)||me.isReadableStream(e))return e;if(e&&me.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?xt.from(a,xt.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xr.classes.FormData,Blob:Xr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};me.forEach(["delete","get","head","post","put","patch"],t=>{Sg.headers[t]={}});const Yhe=me.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Khe=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&Yhe[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},zD=Symbol("internals");function ip(t){return t&&String(t).trim().toLowerCase()}function T0(t){return t===!1||t==null?t:me.isArray(t)?t.map(T0):String(t)}function Zhe(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Jhe=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function yb(t,e,n,r,i){if(me.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!me.isString(e)){if(me.isString(r))return e.indexOf(r)!==-1;if(me.isRegExp(r))return r.test(e)}}function Qhe(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function epe(t,e){const n=me.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}class Li{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const u=ip(l);if(!u)throw new Error("header name must be a non-empty string");const f=me.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=T0(a))}const o=(a,l)=>me.forEach(a,(c,u)=>s(c,u,l));if(me.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(me.isString(e)&&(e=e.trim())&&!Jhe(e))o(Khe(e),n);else if(me.isObject(e)&&me.isIterable(e)){let a={},l,c;for(const u of e){if(!me.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?me.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=ip(e),e){const r=me.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return Zhe(i);if(me.isFunction(n))return n.call(this,i,r);if(me.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ip(e),e){const r=me.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||yb(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=ip(o),o){const a=me.findKey(r,o);a&&(!n||yb(r,r[a],a,n))&&(delete r[a],i=!0)}}return me.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||yb(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return me.forEach(this,(i,s)=>{const o=me.findKey(r,s);if(o){n[o]=T0(i),delete n[s];return}const a=e?Qhe(s):String(s).trim();a!==s&&delete n[s],n[a]=T0(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return me.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&me.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[zD]=this[zD]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=ip(o);r[a]||(epe(i,o),r[a]=!0)}return me.isArray(e)?e.forEach(s):s(e),this}}Li.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);me.reduceDescriptors(Li.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});me.freezeMethods(Li);function vb(t,e){const n=this||Sg,r=e||n,i=Li.from(r.headers);let s=r.data;return me.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function FH(t){return!!(t&&t.__CANCEL__)}class bg extends xt{constructor(e,n,r){super(e??"canceled",xt.ERR_CANCELED,n,r),this.name="CanceledError",this.__CANCEL__=!0}}function UH(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new xt("Request failed with status code "+n.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function tpe(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function npe(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];o||(o=c),n[i]=l,r[i]=c;let f=s,p=0;for(;f!==i;)p+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const m=u&&c-u;return m?Math.round(p*1e3/m):void 0}}function rpe(t,e){let n=0,r=1e3/e,i,s;const o=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?o(c,u):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-f)))},()=>i&&o(i)]}const Mx=(t,e,n=3)=>{let r=0;const i=npe(50,250);return rpe(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),u=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(f)},n)},VD=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},jD=t=>(...e)=>me.asap(()=>t(...e)),ipe=Xr.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xr.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xr.origin),Xr.navigator&&/(msie|trident)/i.test(Xr.navigator.userAgent)):()=>!0,spe=Xr.hasStandardBrowserEnv?{write(t,e,n,r,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];me.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),me.isString(r)&&a.push(`path=${r}`),me.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),me.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ope(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ape(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function BH(t,e,n){let r=!ope(e);return t&&(r||n==!1)?ape(t,e):e}const HD=t=>t instanceof Li?{...t}:t;function fu(t,e){e=e||{};const n={};function r(c,u,f,p){return me.isPlainObject(c)&&me.isPlainObject(u)?me.merge.call({caseless:p},c,u):me.isPlainObject(u)?me.merge({},u):me.isArray(u)?u.slice():u}function i(c,u,f,p){if(me.isUndefined(u)){if(!me.isUndefined(c))return r(void 0,c,f,p)}else return r(c,u,f,p)}function s(c,u){if(!me.isUndefined(u))return r(void 0,u)}function o(c,u){if(me.isUndefined(u)){if(!me.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u,f)=>i(HD(c),HD(u),f,!0)};return me.forEach(Object.keys({...t,...e}),function(u){const f=l[u]||i,p=f(t[u],e[u],u);me.isUndefined(p)&&f!==a||(n[u]=p)}),n}const zH=t=>{const e=fu({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=Li.from(o),e.url=kH(BH(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),me.isFormData(n)){if(Xr.hasStandardBrowserEnv||Xr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(me.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([u,f])=>{c.includes(u.toLowerCase())&&o.set(u,f)})}}if(Xr.hasStandardBrowserEnv&&(r&&me.isFunction(r)&&(r=r(e)),r||r!==!1&&ipe(e.url))){const l=i&&s&&spe.read(s);l&&o.set(i,l)}return e},lpe=typeof XMLHttpRequest<"u",cpe=lpe&&function(t){return new Promise(function(n,r){const i=zH(t);let s=i.data;const o=Li.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,f,p,m,y;function x(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let v=new XMLHttpRequest;v.open(i.method.toUpperCase(),i.url,!0),v.timeout=i.timeout;function g(){if(!v)return;const S=Li.from("getAllResponseHeaders"in v&&v.getAllResponseHeaders()),C={data:!a||a==="text"||a==="json"?v.responseText:v.response,status:v.status,statusText:v.statusText,headers:S,config:t,request:v};UH(function(I){n(I),x()},function(I){r(I),x()},C),v=null}"onloadend"in v?v.onloadend=g:v.onreadystatechange=function(){!v||v.readyState!==4||v.status===0&&!(v.responseURL&&v.responseURL.indexOf("file:")===0)||setTimeout(g)},v.onabort=function(){v&&(r(new xt("Request aborted",xt.ECONNABORTED,t,v)),v=null)},v.onerror=function(M){const C=M&&M.message?M.message:"Network Error",P=new xt(C,xt.ERR_NETWORK,t,v);P.event=M||null,r(P),v=null},v.ontimeout=function(){let M=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const C=i.transitional||DH;i.timeoutErrorMessage&&(M=i.timeoutErrorMessage),r(new xt(M,C.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,t,v)),v=null},s===void 0&&o.setContentType(null),"setRequestHeader"in v&&me.forEach(o.toJSON(),function(M,C){v.setRequestHeader(C,M)}),me.isUndefined(i.withCredentials)||(v.withCredentials=!!i.withCredentials),a&&a!=="json"&&(v.responseType=i.responseType),c&&([p,y]=Mx(c,!0),v.addEventListener("progress",p)),l&&v.upload&&([f,m]=Mx(l),v.upload.addEventListener("progress",f),v.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(u=S=>{v&&(r(!S||S.type?new bg(null,t,v):S),v.abort(),v=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=tpe(i.url);if(w&&Xr.protocols.indexOf(w)===-1){r(new xt("Unsupported protocol "+w+":",xt.ERR_BAD_REQUEST,t));return}v.send(s||null)})},upe=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof xt?u:new bg(u instanceof Error?u.message:u))}};let o=e&&setTimeout(()=>{o=null,s(new xt(`timeout of ${e}ms exceeded`,xt.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>me.asap(a),l}},dpe=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},fpe=async function*(t,e){for await(const n of hpe(t))yield*dpe(n,e)},hpe=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},WD=(t,e,n,r)=>{const i=fpe(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let p=s+=f;n(p)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},GD=64*1024,{isFunction:Xv}=me,ppe=(({Request:t,Response:e})=>({Request:t,Response:e}))(me.global),{ReadableStream:$D,TextEncoder:XD}=me.global,qD=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mpe=t=>{t=me.merge.call({skipUndefined:!0},ppe,t);const{fetch:e,Request:n,Response:r}=t,i=e?Xv(e):typeof fetch=="function",s=Xv(n),o=Xv(r);if(!i)return!1;const a=i&&Xv($D),l=i&&(typeof XD=="function"?(y=>x=>y.encode(x))(new XD):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=s&&a&&qD(()=>{let y=!1;const x=new n(Xr.origin,{body:new $D,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!x}),u=o&&a&&qD(()=>me.isReadableStream(new r("").body)),f={stream:u&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!f[y]&&(f[y]=(x,v)=>{let g=x&&x[y];if(g)return g.call(x);throw new xt(`Response type '${y}' is not supported`,xt.ERR_NOT_SUPPORT,v)})});const p=async y=>{if(y==null)return 0;if(me.isBlob(y))return y.size;if(me.isSpecCompliantForm(y))return(await new n(Xr.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(me.isArrayBufferView(y)||me.isArrayBuffer(y))return y.byteLength;if(me.isURLSearchParams(y)&&(y=y+""),me.isString(y))return(await l(y)).byteLength},m=async(y,x)=>{const v=me.toFiniteNumber(y.getContentLength());return v??p(x)};return async y=>{let{url:x,method:v,data:g,signal:w,cancelToken:S,timeout:M,onDownloadProgress:C,onUploadProgress:P,responseType:I,headers:O,withCredentials:N="same-origin",fetchOptions:k}=zH(y),V=e||fetch;I=I?(I+"").toLowerCase():"text";let W=upe([w,S&&S.toAbortSignal()],M),Q=null;const U=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let Y;try{if(P&&c&&v!=="get"&&v!=="head"&&(Y=await m(O,g))!==0){let K=new n(x,{method:"POST",body:g,duplex:"half"}),ee;if(me.isFormData(g)&&(ee=K.headers.get("content-type"))&&O.setContentType(ee),K.body){const[J,ae]=VD(Y,Mx(jD(P)));g=WD(K.body,GD,J,ae)}}me.isString(N)||(N=N?"include":"omit");const q=s&&"credentials"in n.prototype,te={...k,signal:W,method:v.toUpperCase(),headers:O.normalize().toJSON(),body:g,duplex:"half",credentials:q?N:void 0};Q=s&&new n(x,te);let D=await(s?V(Q,k):V(x,te));const F=u&&(I==="stream"||I==="response");if(u&&(C||F&&U)){const K={};["status","statusText","headers"].forEach(Se=>{K[Se]=D[Se]});const ee=me.toFiniteNumber(D.headers.get("content-length")),[J,ae]=C&&VD(ee,Mx(jD(C),!0))||[];D=new r(WD(D.body,GD,J,()=>{ae&&ae(),U&&U()}),K)}I=I||"text";let j=await f[me.findKey(f,I)||"text"](D,y);return!F&&U&&U(),await new Promise((K,ee)=>{UH(K,ee,{data:j,headers:Li.from(D.headers),status:D.status,statusText:D.statusText,config:y,request:Q})})}catch(q){throw U&&U(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,y,Q),{cause:q.cause||q}):xt.from(q,q&&q.code,y,Q)}}},gpe=new Map,VH=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,a=o,l,c,u=gpe;for(;a--;)l=s[a],c=u.get(l),c===void 0&&u.set(l,c=a?new Map:mpe(e)),u=c;return c};VH();const SR={http:Lhe,xhr:cpe,fetch:{get:VH}};me.forEach(SR,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const YD=t=>`- ${t}`,ype=t=>me.isFunction(t)||t===null||t===!1;function vpe(t,e){t=me.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let a;if(i=r,!ype(r)&&(i=SR[(a=String(r)).toLowerCase()],i===void 0))throw new xt(`Unknown adapter '${a}'`);if(i&&(me.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(YD).join(`
`):" "+YD(o[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const jH={getAdapter:vpe,adapters:SR};function xb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new bg(null,t)}function KD(t){return xb(t),t.headers=Li.from(t.headers),t.data=vb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),jH.getAdapter(t.adapter||Sg.adapter,t)(t).then(function(r){return xb(t),r.data=vb.call(t,t.transformResponse,r),r.headers=Li.from(r.headers),r},function(r){return FH(r)||(xb(t),r&&r.response&&(r.response.data=vb.call(t,t.transformResponse,r.response),r.response.headers=Li.from(r.response.headers))),Promise.reject(r)})}const HH="1.13.4",tw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{tw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ZD={};tw.transitional=function(e,n,r){function i(s,o){return"[Axios v"+HH+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new xt(i(o," has been removed"+(n?" in "+n:"")),xt.ERR_DEPRECATED);return n&&!ZD[o]&&(ZD[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};tw.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function xpe(t,e,n){if(typeof t!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new xt("option "+s+" must be "+l,xt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new xt("Unknown option "+s,xt.ERR_BAD_OPTION)}}const A0={assertOptions:xpe,validators:tw},vo=A0.validators;class nu{constructor(e){this.defaults=e||{},this.interceptors={request:new BD,response:new BD}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=fu(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&A0.assertOptions(r,{silentJSONParsing:vo.transitional(vo.boolean),forcedJSONParsing:vo.transitional(vo.boolean),clarifyTimeoutError:vo.transitional(vo.boolean)},!1),i!=null&&(me.isFunction(i)?n.paramsSerializer={serialize:i}:A0.assertOptions(i,{encode:vo.function,serialize:vo.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),A0.assertOptions(n,{baseUrl:vo.spelling("baseURL"),withXsrfToken:vo.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&me.merge(s.common,s[n.method]);s&&me.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=Li.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(n)===!1||(l=l&&x.synchronous,a.unshift(x.fulfilled,x.rejected))});const c=[];this.interceptors.response.forEach(function(x){c.push(x.fulfilled,x.rejected)});let u,f=0,p;if(!l){const y=[KD.bind(this),void 0];for(y.unshift(...a),y.push(...c),p=y.length,u=Promise.resolve(n);f<p;)u=u.then(y[f++],y[f++]);return u}p=a.length;let m=n;for(;f<p;){const y=a[f++],x=a[f++];try{m=y(m)}catch(v){x.call(this,v);break}}try{u=KD.call(this,m)}catch(y){return Promise.reject(y)}for(f=0,p=c.length;f<p;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=fu(this.defaults,e);const n=BH(e.baseURL,e.url,e.allowAbsoluteUrls);return kH(n,e.params,e.paramsSerializer)}}me.forEach(["delete","get","head","options"],function(e){nu.prototype[e]=function(n,r){return this.request(fu(r||{},{method:e,url:n,data:(r||{}).data}))}});me.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(fu(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}nu.prototype[e]=n(),nu.prototype[e+"Form"]=n(!0)});class bR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new bg(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new bR(function(i){e=i}),cancel:e}}}function _pe(t){return function(n){return t.apply(null,n)}}function wpe(t){return me.isObject(t)&&t.isAxiosError===!0}const nT={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(nT).forEach(([t,e])=>{nT[e]=t});function WH(t){const e=new nu(t),n=EH(nu.prototype.request,e);return me.extend(n,nu.prototype,e,{allOwnKeys:!0}),me.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return WH(fu(t,i))},n}const ar=WH(Sg);ar.Axios=nu;ar.CanceledError=bg;ar.CancelToken=bR;ar.isCancel=FH;ar.VERSION=HH;ar.toFormData=ew;ar.AxiosError=xt;ar.Cancel=ar.CanceledError;ar.all=function(e){return Promise.all(e)};ar.spread=_pe;ar.isAxiosError=wpe;ar.mergeConfig=fu;ar.AxiosHeaders=Li;ar.formToJSON=t=>OH(me.isHTMLForm(t)?new FormData(t):t);ar.getAdapter=jH.getAdapter;ar.HttpStatusCode=nT;ar.default=ar;const Jl=ar.create({baseURL:"/api",timeout:15e3,withCredentials:!0,headers:{"Content-Type":"application/json"}});Jl.interceptors.response.use(t=>t,t=>{var e;return console.error("API Error:",((e=t.response)==null?void 0:e.data)||t.message),Promise.reject(t)});async function ER(t,e){return(await Jl.post("/search",t,e)).data}async function Spe(t){return(await Jl.get(`/event/${t}`)).data}async function GH(t,e){return(await Jl.get("/on-this-day",{params:{month:t,day:e}})).data}async function bpe(t=5){return(await Jl.get("/random",{params:{count:t}})).data}async function Epe(t=1,e=10){return(await Jl.get("/articles",{params:{page:t,limit:e}})).data}async function Mpe(){return(await Jl.get("/featured")).data}async function Tpe(t){return(await Jl.get(`/event/wiki/preview/${t}`)).data}const Ape=[{code:"EG",name:"Egypt",nameAr:"",nameFr:"gypte"},{code:"US",name:"United States",nameAr:" ",nameFr:"tats-Unis"},{code:"GB",name:"United Kingdom",nameAr:" ",nameFr:"Royaume-Uni"},{code:"FR",name:"France",nameAr:"",nameFr:"France"},{code:"DE",name:"Germany",nameAr:"",nameFr:"Allemagne"},{code:"RU",name:"Russia",nameAr:"",nameFr:"Russie"},{code:"CN",name:"China",nameAr:"",nameFr:"Chine"},{code:"JP",name:"Japan",nameAr:"",nameFr:"Japon"},{code:"IN",name:"India",nameAr:"",nameFr:"Inde"},{code:"BR",name:"Brazil",nameAr:"",nameFr:"Brsil"},{code:"SA",name:"Saudi Arabia",nameAr:"  ",nameFr:"Arabie Saoudite"},{code:"AE",name:"United Arab Emirates",nameAr:"  ",nameFr:"mirats Arabes Unis"},{code:"TR",name:"Turkey",nameAr:"",nameFr:"Turquie"},{code:"IT",name:"Italy",nameAr:"",nameFr:"Italie"},{code:"ES",name:"Spain",nameAr:"",nameFr:"Espagne"},{code:"GR",name:"Greece",nameAr:"",nameFr:"Grce"},{code:"IQ",name:"Iraq",nameAr:"",nameFr:"Irak"},{code:"CH",name:"Switzerland",nameAr:"",nameFr:"Suisse"},{code:"AU",name:"Australia",nameAr:"",nameFr:"Australie"},{code:"ZA",name:"South Africa",nameAr:" ",nameFr:"Afrique du Sud"}],$H=["science","politics","war","culture","discovery","invention","natural_disaster","medicine","space","religion","economics","sports","art","literature"];function Ul(t){return t?t.replace(/<[^>]*>?/gm,"").replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").trim():""}const XH=window.location.origin,Cpe="EraTracker |      ",Rpe="Eratracker               .",Ppe=`${XH}/og-image.png`,Bl=t=>t?`${t} | EraTracker`:Cpe,ma=t=>{if(!t)return Rpe;const e=Ul(t);return e.length>155?`${e.substring(0,155)}...`:e},uh=t=>`${XH}${t}`,rT=t=>t||Ppe;function Eg({event:t,index:e=0}){const{locale:n,t:r}=Tn(),i=()=>{let f=t.title;return n==="ar"&&t.titleAr?f=t.titleAr:n==="fr"&&t.titleFr&&(f=t.titleFr),Ul(f)},s=()=>{let f=t.description;return n==="ar"&&t.descriptionAr?f=t.descriptionAr:n==="fr"&&t.descriptionFr&&(f=t.descriptionFr),Ul(f)},o=f=>{const p={war:"https://images.unsplash.com/photo-1505373633519-c0ae2f1b490f",science:"https://images.unsplash.com/photo-1507413245164-6160d8298b31",culture:"https://images.unsplash.com/photo-1467307983825-619715426c70",politics:"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620",discovery:"https://images.unsplash.com/photo-1500076656116-558758c991c1",space:"https://images.unsplash.com/photo-1446776811953-b23d57bd21aa",natural_disaster:"https://images.unsplash.com/photo-1541185933-ef5d8ed016c2",medicine:"https://images.unsplash.com/photo-1576091160550-217359f488d5",religion:"https://images.unsplash.com/photo-1438232992991-995b7058bbb3",economics:"https://images.unsplash.com/photo-1611974717482-58a00f9397f0",sports:"https://images.unsplash.com/photo-1461896756913-7597af659228",art:"https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b",literature:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d",default:"https://images.unsplash.com/photo-1451187580459-43490279c0fa"};return`${p[f]||p.default}?q=80&w=1200&auto=format&fit=crop`},a={low:"text-slate-500 bg-slate-500/10",medium:"text-blue-500 bg-blue-500/10",high:"text-orange-500 bg-orange-500/10",critical:"text-red-500 bg-red-500/10"},l=t.imageUrl||o(t.category),c=String(t.id).startsWith("wiki-")||t.sources&&t.sources.some(f=>f.title.toLowerCase().includes("wikipedia")),u=({children:f})=>{const p=c?`/preview/${t.id}`:`/event/${t.id}`;return _.jsx(gn,{to:p,state:{event:t},className:"block h-full",children:f})};return _.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:e*.05},children:_.jsx(u,{children:_.jsxs(at.article,{className:"group grid grid-cols-1 md:grid-cols-12 bg-card rounded-2xl overflow-hidden border border-border/50 hover:border-primary/30 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/5 h-full",whileHover:{y:-2},children:[_.jsxs("div",{className:"md:col-span-4 relative aspect-video md:aspect-auto overflow-hidden bg-muted",children:[_.jsx("img",{src:l,alt:i(),className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),_.jsxs("div",{className:"md:col-span-8 p-6 md:p-8 flex flex-col",children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[_.jsxs("span",{className:"text-primary font-bold text-sm tracking-wider uppercase text-start",children:[t.date.year," ",t.date.era]}),_.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),_.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-md bg-muted text-muted-foreground uppercase tracking-tight",children:r(`category.${t.category}`)}),_.jsx("span",{className:qt("text-[10px] font-bold px-2 py-0.5 rounded-md uppercase tracking-widest",a[t.importance]),children:t.importance})]}),_.jsx("h3",{className:"font-display text-2xl md:text-3xl font-bold text-foreground line-clamp-2 leading-tight mb-4 group-hover:text-primary transition-colors text-start",children:i()}),_.jsx("p",{className:"text-muted-foreground text-base leading-relaxed text-start mb-6 line-clamp-3",children:s()}),_.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-border/30",children:[_.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:t.country&&_.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-muted/50 rounded-md",children:[_.jsx(s_,{className:"w-3.5 h-3.5 text-primary"}),_.jsx("span",{children:t.country})]})}),_.jsxs("div",{className:"flex items-center gap-1.5 text-primary text-sm font-bold group-hover:gap-2.5 transition-all rtl:flex-row-reverse",children:[r("articles.readMore"),_.jsx(_a,{className:"w-4 h-4 rtl:rotate-180"})]})]})]})]})})})}const Npe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};function Ipe(){const{t}=Tn(),[e,n]=T.useState([]),[r,i]=T.useState(!0),[s,o]=T.useState(null);return T.useEffect(()=>{let a=!0;const l=new AbortController;return(async()=>{try{i(!0),o(null);const u=await Mpe();a&&(u.success?n(u.data.events):o(u.error||"Failed to load featured events"))}catch(u){a&&(o("An unexpected error occurred"),console.error("FeaturedEvents Error:",u))}finally{a&&i(!1)}})(),()=>{a=!1,l.abort()}},[]),r?_.jsx("section",{className:"py-20",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsx("div",{className:"h-10 w-48 bg-muted animate-pulse rounded-md mb-8"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((a,l)=>_.jsx("div",{className:"bg-card rounded-2xl h-[400px] animate-pulse border border-border"},l))})]})}):s?_.jsx("section",{className:"py-20",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-destructive/5 rounded-3xl border border-destructive/20 text-center",children:[_.jsx(r_,{className:"w-12 h-12 text-destructive mb-4"}),_.jsx("h3",{className:"text-xl font-semibold mb-2",children:t("common.error")}),_.jsx("p",{className:"text-muted-foreground",children:s}),_.jsx(sn,{variant:"outline",className:"mt-6",onClick:()=>window.location.reload(),children:"Retry"})]})})}):e.length===0?null:_.jsx("section",{className:"py-20",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center justify-between mb-12",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-display text-3xl sm:text-4xl font-bold mb-2",children:t("nav.search")}),_.jsx("p",{className:"text-muted-foreground",children:t("hero.description")})]}),_.jsx(sn,{variant:"outline",asChild:!0,className:"hidden sm:flex gap-2 text-primary hover:text-primary",children:_.jsxs(gn,{to:"/search",children:[t("common.viewAll"),_.jsx(_a,{className:"w-4 h-4"})]})})]}),_.jsx(at.div,{variants:Npe,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((a,l)=>_.jsx(Eg,{event:a,index:l},a.id))}),_.jsx("div",{className:"mt-10 flex sm:hidden justify-center",children:_.jsx(sn,{variant:"outline",asChild:!0,className:"w-full gap-2",children:_.jsxs(gn,{to:"/search",children:[t("common.viewAll"),_.jsx(_a,{className:"w-4 h-4"})]})})})]})})}const Lpe={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};function kpe(){const{t}=Tn(),[e,n]=T.useState([]),[r,i]=T.useState(!0),[s,o]=T.useState(!1),[a,l]=T.useState(null),c=T.useCallback(async(u=!1)=>{try{u?o(!0):i(!0),l(null);const f=await bpe(3);f.success?n(f.data.events):l(f.error||"Failed to load random events")}catch(f){l("An unexpected error occurred"),console.error("RandomEvents Error:",f)}finally{i(!1),o(!1)}},[]);return T.useEffect(()=>{c()},[c]),r?_.jsx("section",{className:"py-20 bg-muted/20",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsx("div",{className:"h-10 w-48 bg-muted animate-pulse rounded-md mb-8"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(3)].map((u,f)=>_.jsx("div",{className:"bg-card rounded-2xl h-[400px] animate-pulse border border-border"},f))})]})}):a?_.jsx("section",{className:"py-20 bg-muted/20",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-card rounded-3xl border border-border text-center",children:[_.jsx(r_,{className:"w-12 h-12 text-destructive mb-4"}),_.jsx("h3",{className:"text-xl font-semibold mb-2",children:t("common.error")}),_.jsx("p",{className:"text-muted-foreground mb-6",children:a}),_.jsxs(sn,{variant:"outline",onClick:()=>c(),disabled:s,children:[_.jsx(ME,{className:`w-4 h-4 me-2 ${s?"animate-spin":""}`}),"Retry"]})]})})}):_.jsx("section",{className:"py-20 bg-muted/20",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center justify-between mb-12",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-display text-3xl sm:text-4xl font-bold mb-2",children:"Discover Something New"}),_.jsx("p",{className:"text-muted-foreground",children:"Randomly selected historic events just for you"})]}),_.jsxs(sn,{variant:"outline",onClick:()=>c(!0),disabled:s,className:"gap-2",children:[_.jsx(ME,{className:`w-4 h-4 ${s?"animate-spin":""}`}),_.jsx("span",{className:"hidden sm:inline",children:"Refresh Events"})]})]}),_.jsx(at.div,{variants:Lpe,initial:"hidden",whileInView:"visible",viewport:{once:!0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((u,f)=>_.jsx(Eg,{event:u,index:f},u.id))},e.map(u=>u.id).join(","))]})})}function Dpe(){const{t}=Tn(),[e,n]=T.useState([]),[r,i]=T.useState(!0),[s,o]=T.useState(null);return T.useEffect(()=>{let a=!0;const l=new Date,c=l.getMonth()+1,u=l.getDate();return(async()=>{try{i(!0),o(null);const p=await GH(c,u);a&&(p.success?n(p.data.events.slice(0,3)):o(p.error||"Failed to load events for today"))}catch(p){a&&(o("An unexpected error occurred"),console.error("OnThisDay Error:",p))}finally{a&&i(!1)}})(),()=>{a=!1}},[]),r?_.jsx("section",{className:"py-20 bg-muted/30",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsx("div",{className:"h-10 w-48 bg-muted animate-pulse rounded-md mb-8"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-7xl mx-auto",children:[...Array(2)].map((a,l)=>_.jsx("div",{className:"bg-card rounded-2xl h-[400px] animate-pulse border border-border"},l))})]})}):s?_.jsx("section",{className:"py-20 bg-muted/30",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"flex flex-col items-center justify-center p-12 bg-destructive/5 rounded-3xl border border-destructive/20 text-center",children:[_.jsx(r_,{className:"w-12 h-12 text-destructive mb-4"}),_.jsx("h3",{className:"text-xl font-semibold mb-2",children:t("common.error")}),_.jsx("p",{className:"text-muted-foreground",children:s})]})})}):e.length===0?null:_.jsx("section",{className:"py-20 bg-muted/30",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center justify-between mb-12",children:[_.jsxs("div",{children:[_.jsx("h2",{className:"font-display text-3xl sm:text-4xl font-bold mb-2",children:t("nav.onThisDay")}),_.jsx("p",{className:"text-muted-foreground",children:t("onThisDay.subtitle",{date:new Date().toLocaleDateString(void 0,{month:"long",day:"numeric"})})})]}),_.jsx(sn,{variant:"outline",asChild:!0,className:"hidden sm:flex gap-2",children:_.jsxs(gn,{to:"/on-this-day",children:[t("common.viewAll"),_.jsx(_a,{className:"w-4 h-4"})]})})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-7xl mx-auto",children:e.map((a,l)=>_.jsx(Eg,{event:a,index:l},a.id))}),_.jsx("div",{className:"mt-10 flex sm:hidden justify-center",children:_.jsx(sn,{variant:"outline",asChild:!0,className:"w-full gap-2",children:_.jsxs(gn,{to:"/on-this-day",children:[t("common.viewAll"),_.jsx(_a,{className:"w-4 h-4"})]})})})]})})}const JD={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}},vd={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.5}}};function Ope(){const{t}=Tn(),e=p_(),[n,r]=T.useState(""),[i,s]=T.useState([]),[o,a]=T.useState(!0);T.useEffect(()=>{(async()=>{try{const u=await Epe(1,3);u.success&&s(u.data.articles)}catch(u){console.error("Error loading articles:",u)}finally{a(!1)}})()},[]);const l=c=>{if(c.preventDefault(),n.trim()){const u=parseInt(n);isNaN(u)?e("/search"):e(`/results?year=${u}`)}};return _.jsxs(ui,{children:[_.jsxs(Xf,{children:[_.jsx("title",{children:Bl()}),_.jsx("meta",{name:"description",content:ma()}),_.jsx("link",{rel:"canonical",href:uh("/")}),_.jsx("meta",{property:"og:title",content:Bl()}),_.jsx("meta",{property:"og:description",content:ma()}),_.jsx("meta",{property:"og:image",content:rT()}),_.jsx("meta",{property:"og:type",content:"website"}),_.jsx("meta",{name:"twitter:card",content:"summary_large_image"})]}),_.jsxs("section",{className:"relative min-h-[90vh] flex items-center justify-center overflow-hidden hero-pattern",children:[_.jsx(Xfe,{}),_.jsx("div",{className:"container mx-auto px-4 relative z-10",children:_.jsxs(at.div,{className:"max-w-4xl mx-auto text-center",variants:JD,initial:"hidden",animate:"visible",children:[_.jsx(at.div,{variants:vd,className:"mb-6",children:_.jsxs("span",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary text-sm font-medium",children:[_.jsx(XU,{className:"w-4 h-4"}),t("hero.subtitle")]})}),_.jsx(at.h1,{variants:vd,className:"font-display text-5xl sm:text-6xl lg:text-7xl font-bold mb-6",children:_.jsx("span",{className:"text-gradient",children:t("hero.title")})}),_.jsx(at.p,{variants:vd,className:"text-lg sm:text-xl text-muted-foreground max-w-2xl mx-auto mb-10",children:t("hero.description")}),_.jsx(at.form,{variants:vd,onSubmit:l,className:"max-w-xl mx-auto mb-8",children:_.jsxs("div",{className:"relative",children:[_.jsx(Mf,{className:"absolute start-4 top-1/2 -translate-y-1/2 w-5 h-5 text-muted-foreground"}),_.jsx(Ex,{type:"text",placeholder:t("hero.searchPlaceholder"),value:n,onChange:c=>r(c.target.value),className:"search-input ps-12 pe-4 h-14 text-base"})]})}),_.jsxs(at.div,{variants:vd,className:"flex flex-wrap justify-center gap-4",children:[_.jsx(sn,{size:"lg",asChild:!0,className:"h-12 px-8 gap-2 text-base",children:_.jsxs(gn,{to:"/search",children:[_.jsx(Mf,{className:"w-5 h-5"}),t("hero.exploreButton")]})}),_.jsx(sn,{size:"lg",variant:"outline",asChild:!0,className:"h-12 px-8 gap-2 text-base",children:_.jsxs(gn,{to:"/on-this-day",children:[_.jsx(Km,{className:"w-5 h-5"}),t("hero.onThisDayButton")]})})]})]})}),_.jsx(at.div,{className:"absolute bottom-8 left-1/2 -translate-x-1/2",animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2},children:_.jsx("div",{className:"w-6 h-10 rounded-full border-2 border-muted-foreground/30 flex items-start justify-center pt-2",children:_.jsx("div",{className:"w-1.5 h-2.5 rounded-full bg-primary"})})})]}),_.jsx("section",{className:"py-20 bg-muted/30",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsx(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:_.jsx("h2",{className:"font-display text-3xl sm:text-4xl font-bold mb-4",children:t("search.category")})}),_.jsx(at.div,{className:"flex flex-wrap justify-center gap-3",initial:"hidden",whileInView:"visible",viewport:{once:!0},variants:JD,children:$H.slice(0,8).map(c=>_.jsx(at.div,{variants:vd,children:_.jsx(gn,{to:`/results?category=${c}`,className:"inline-flex items-center px-5 py-2.5 rounded-full bg-card border border-border hover:border-primary hover:bg-primary/5 transition-all duration-200 text-sm font-medium",children:t(`category.${c}`)})},c))})]})}),_.jsx(Ipe,{}),_.jsx(kpe,{}),_.jsx(Dpe,{}),_.jsx("section",{className:"py-20",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"flex items-center justify-between mb-12",children:[_.jsx("div",{children:_.jsx("h2",{className:"font-display text-3xl sm:text-4xl font-bold mb-2",children:t("nav.articles")})}),_.jsx(sn,{variant:"outline",asChild:!0,className:"hidden sm:flex gap-2",children:_.jsxs(gn,{to:"/articles",children:[t("common.viewAll"),_.jsx(_a,{className:"w-4 h-4"})]})})]}),o?_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[...Array(3)].map((c,u)=>_.jsx("div",{className:"h-64 bg-muted animate-pulse rounded-2xl"},u))}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map((c,u)=>_.jsx(bH,{article:c,index:u},c.id))})]})})]})}var Mg=t=>t.type==="checkbox",zc=t=>t instanceof Date,ii=t=>t==null;const qH=t=>typeof t=="object";var er=t=>!ii(t)&&!Array.isArray(t)&&qH(t)&&!zc(t),YH=t=>er(t)&&t.target?Mg(t.target)?t.target.checked:t.target.value:t,Fpe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,KH=(t,e)=>t.has(Fpe(e)),Upe=t=>{const e=t.constructor&&t.constructor.prototype;return er(e)&&e.hasOwnProperty("isPrototypeOf")},MR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cr(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(MR&&(t instanceof Blob||r))&&(n||er(t)))if(e=n?[]:{},!n&&!Upe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=cr(t[i]));else return t;return e}var nw=t=>/^\w*$/.test(t),qn=t=>t===void 0,TR=t=>Array.isArray(t)?t.filter(Boolean):[],AR=t=>TR(t.replace(/["|']|\]/g,"").split(/\.|\[/)),We=(t,e,n)=>{if(!e||!er(t))return n;const r=(nw(e)?[e]:AR(e)).reduce((i,s)=>ii(i)?i:i[s],t);return qn(r)||r===t?qn(t[e])?n:t[e]:r},Gi=t=>typeof t=="boolean",cn=(t,e,n)=>{let r=-1;const i=nw(e)?[e]:AR(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const c=t[a];l=er(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Tx={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gs={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ta={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},CR=_e.createContext(null);CR.displayName="HookFormContext";const rw=()=>_e.useContext(CR),Bpe=t=>{const{children:e,...n}=t;return _e.createElement(CR.Provider,{value:n},e)};var ZH=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Gs.all&&(e._proxyFormState[o]=!r||Gs.all),n&&(n[o]=!0),t[o]}});return i};const RR=typeof window<"u"?_e.useLayoutEffect:_e.useEffect;function zpe(t){const e=rw(),{control:n=e.control,disabled:r,name:i,exact:s}=t||{},[o,a]=_e.useState(n._formState),l=_e.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return RR(()=>n._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!r&&a({...n._formState,...c})}}),[i,r,s]),_e.useEffect(()=>{l.current.isValid&&n._setValid(!0)},[n]),_e.useMemo(()=>ZH(o,n,l.current,!1),[o,n])}var Ao=t=>typeof t=="string",JH=(t,e,n,r,i)=>Ao(t)?(r&&e.watch.add(t),We(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),We(n,s))):(r&&(e.watchAll=!0),n),iT=t=>ii(t)||!qH(t);function aa(t,e,n=new WeakSet){if(iT(t)||iT(e))return t===e;if(zc(t)&&zc(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(zc(o)&&zc(a)||er(o)&&er(a)||Array.isArray(o)&&Array.isArray(a)?!aa(o,a,n):o!==a)return!1}}return!0}function Vpe(t){const e=rw(),{control:n=e.control,name:r,defaultValue:i,disabled:s,exact:o,compute:a}=t||{},l=_e.useRef(i),c=_e.useRef(a),u=_e.useRef(void 0);c.current=a;const f=_e.useMemo(()=>n._getWatch(r,l.current),[n,r]),[p,m]=_e.useState(c.current?c.current(f):f);return RR(()=>n._subscribe({name:r,formState:{values:!0},exact:o,callback:y=>{if(!s){const x=JH(r,n._names,y.values||n._formValues,!1,l.current);if(c.current){const v=c.current(x);aa(v,u.current)||(m(v),u.current=v)}else m(x)}}}),[n,s,r,o]),_e.useEffect(()=>n._removeUnmounted()),p}function jpe(t){const e=rw(),{name:n,disabled:r,control:i=e.control,shouldUnregister:s,defaultValue:o}=t,a=KH(i._names.array,n),l=_e.useMemo(()=>We(i._formValues,n,We(i._defaultValues,n,o)),[i,n,o]),c=Vpe({control:i,name:n,defaultValue:l,exact:!0}),u=zpe({control:i,name:n,exact:!0}),f=_e.useRef(t),p=_e.useRef(i.register(n,{...t.rules,value:c,...Gi(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const m=_e.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!We(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!We(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!We(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!We(u.validatingFields,n)},error:{enumerable:!0,get:()=>We(u.errors,n)}}),[u,n]),y=_e.useCallback(w=>p.current.onChange({target:{value:YH(w),name:n},type:Tx.CHANGE}),[n]),x=_e.useCallback(()=>p.current.onBlur({target:{value:We(i._formValues,n),name:n},type:Tx.BLUR}),[n,i._formValues]),v=_e.useCallback(w=>{const S=We(i._fields,n);S&&w&&(S._f.ref={focus:()=>w.focus&&w.focus(),select:()=>w.select&&w.select(),setCustomValidity:M=>w.setCustomValidity(M),reportValidity:()=>w.reportValidity()})},[i._fields,n]),g=_e.useMemo(()=>({name:n,value:c,...Gi(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:y,onBlur:x,ref:v}),[n,r,u.disabled,y,x,v,c]);return _e.useEffect(()=>{const w=i._options.shouldUnregister||s;i.register(n,{...f.current.rules,...Gi(f.current.disabled)?{disabled:f.current.disabled}:{}});const S=(M,C)=>{const P=We(i._fields,M);P&&P._f&&(P._f.mount=C)};if(S(n,!0),w){const M=cr(We(i._options.defaultValues,n));cn(i._defaultValues,n,M),qn(We(i._formValues,n))&&cn(i._formValues,n,M)}return!a&&i.register(n),()=>{(a?w&&!i._state.action:w)?i.unregister(n):S(n,!1)}},[n,i,a,s]),_e.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),_e.useMemo(()=>({field:g,formState:u,fieldState:m}),[g,u,m])}const Hpe=t=>t.render(jpe(t));var QH=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Bp=t=>Array.isArray(t)?t:[t],QD=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Si=t=>er(t)&&!Object.keys(t).length,PR=t=>t.type==="file",$s=t=>typeof t=="function",Ax=t=>{if(!MR)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},e6=t=>t.type==="select-multiple",NR=t=>t.type==="radio",Wpe=t=>NR(t)||Mg(t),_b=t=>Ax(t)&&t.isConnected;function Gpe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=qn(t)?r++:t[e[r++]];return t}function $pe(t){for(const e in t)if(t.hasOwnProperty(e)&&!qn(t[e]))return!1;return!0}function ir(t,e){const n=Array.isArray(e)?e:nw(e)?[e]:AR(e),r=n.length===1?t:Gpe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(er(r)&&Si(r)||Array.isArray(r)&&$pe(r))&&ir(t,n.slice(0,-1)),t}var t6=t=>{for(const e in t)if($s(t[e]))return!0;return!1};function Cx(t,e={}){const n=Array.isArray(t);if(er(t)||n)for(const r in t)Array.isArray(t[r])||er(t[r])&&!t6(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Cx(t[r],e[r])):ii(t[r])||(e[r]=!0);return e}function n6(t,e,n){const r=Array.isArray(t);if(er(t)||r)for(const i in t)Array.isArray(t[i])||er(t[i])&&!t6(t[i])?qn(e)||iT(n[i])?n[i]=Array.isArray(t[i])?Cx(t[i],[]):{...Cx(t[i])}:n6(t[i],ii(e)?{}:e[i],n[i]):n[i]=!aa(t[i],e[i]);return n}var sp=(t,e)=>n6(t,e,Cx(e));const e3={value:!1,isValid:!1},t3={value:!0,isValid:!0};var r6=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!qn(t[0].attributes.value)?qn(t[0].value)||t[0].value===""?t3:{value:t[0].value,isValid:!0}:t3:e3}return e3},i6=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>qn(t)?t:e?t===""?NaN:t&&+t:n&&Ao(t)?new Date(t):r?r(t):t;const n3={isValid:!1,value:null};var s6=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,n3):n3;function r3(t){const e=t.ref;return PR(e)?e.files:NR(e)?s6(t.refs).value:e6(e)?[...e.selectedOptions].map(({value:n})=>n):Mg(e)?r6(t.refs).value:i6(qn(e.value)?t.ref.value:e.value,t)}var Xpe=(t,e,n,r)=>{const i={};for(const s of t){const o=We(e,s);o&&cn(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},Rx=t=>t instanceof RegExp,op=t=>qn(t)?t:Rx(t)?t.source:er(t)?Rx(t.value)?t.value.source:t.value:t,i3=t=>({isOnSubmit:!t||t===Gs.onSubmit,isOnBlur:t===Gs.onBlur,isOnChange:t===Gs.onChange,isOnAll:t===Gs.all,isOnTouch:t===Gs.onTouched});const s3="AsyncFunction";var qpe=t=>!!t&&!!t.validate&&!!($s(t.validate)&&t.validate.constructor.name===s3||er(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===s3)),Ype=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),o3=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const zp=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=We(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)return!0;if(o.ref&&e(o.ref,o.name)&&!r)return!0;if(zp(a,e))break}else if(er(a)&&zp(a,e))break}}};function a3(t,e,n){const r=We(t,n);if(r||nw(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=We(e,s),a=We(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:n}}var Kpe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Si(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!r||Gs.all))},Zpe=(t,e,n)=>!t||!e||t===e||Bp(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),Jpe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,Qpe=(t,e)=>!TR(We(t,e)).length&&ir(t,e),eme=(t,e,n)=>{const r=Bp(We(t,n));return cn(r,"root",e[n]),cn(t,n,r),t},C0=t=>Ao(t);function l3(t,e,n="validate"){if(C0(t)||Array.isArray(t)&&t.every(C0)||Gi(t)&&!t)return{type:n,message:C0(t)?t:"",ref:e}}var xd=t=>er(t)&&!Rx(t)?t:{value:t,message:""},c3=async(t,e,n,r,i,s)=>{const{ref:o,refs:a,required:l,maxLength:c,minLength:u,min:f,max:p,pattern:m,validate:y,name:x,valueAsNumber:v,mount:g}=t._f,w=We(n,x);if(!g||e.has(x))return{};const S=a?a[0]:o,M=W=>{i&&S.reportValidity&&(S.setCustomValidity(Gi(W)?"":W||""),S.reportValidity())},C={},P=NR(o),I=Mg(o),O=P||I,N=(v||PR(o))&&qn(o.value)&&qn(w)||Ax(o)&&o.value===""||w===""||Array.isArray(w)&&!w.length,k=QH.bind(null,x,r,C),V=(W,Q,U,Y=ta.maxLength,q=ta.minLength)=>{const te=W?Q:U;C[x]={type:W?Y:q,message:te,ref:o,...k(W?Y:q,te)}};if(s?!Array.isArray(w)||!w.length:l&&(!O&&(N||ii(w))||Gi(w)&&!w||I&&!r6(a).isValid||P&&!s6(a).isValid)){const{value:W,message:Q}=C0(l)?{value:!!l,message:l}:xd(l);if(W&&(C[x]={type:ta.required,message:Q,ref:S,...k(ta.required,Q)},!r))return M(Q),C}if(!N&&(!ii(f)||!ii(p))){let W,Q;const U=xd(p),Y=xd(f);if(!ii(w)&&!isNaN(w)){const q=o.valueAsNumber||w&&+w;ii(U.value)||(W=q>U.value),ii(Y.value)||(Q=q<Y.value)}else{const q=o.valueAsDate||new Date(w),te=j=>new Date(new Date().toDateString()+" "+j),D=o.type=="time",F=o.type=="week";Ao(U.value)&&w&&(W=D?te(w)>te(U.value):F?w>U.value:q>new Date(U.value)),Ao(Y.value)&&w&&(Q=D?te(w)<te(Y.value):F?w<Y.value:q<new Date(Y.value))}if((W||Q)&&(V(!!W,U.message,Y.message,ta.max,ta.min),!r))return M(C[x].message),C}if((c||u)&&!N&&(Ao(w)||s&&Array.isArray(w))){const W=xd(c),Q=xd(u),U=!ii(W.value)&&w.length>+W.value,Y=!ii(Q.value)&&w.length<+Q.value;if((U||Y)&&(V(U,W.message,Q.message),!r))return M(C[x].message),C}if(m&&!N&&Ao(w)){const{value:W,message:Q}=xd(m);if(Rx(W)&&!w.match(W)&&(C[x]={type:ta.pattern,message:Q,ref:o,...k(ta.pattern,Q)},!r))return M(Q),C}if(y){if($s(y)){const W=await y(w,n),Q=l3(W,S);if(Q&&(C[x]={...Q,...k(ta.validate,Q.message)},!r))return M(Q.message),C}else if(er(y)){let W={};for(const Q in y){if(!Si(W)&&!r)break;const U=l3(await y[Q](w,n),S,Q);U&&(W={...U,...k(Q,U.message)},M(U.message),r&&(C[x]=W))}if(!Si(W)&&(C[x]={ref:S,...W},!r))return C}}return M(!0),C};const tme={mode:Gs.onSubmit,reValidateMode:Gs.onChange,shouldFocusError:!0};function nme(t={}){let e={...tme,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:$s(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=er(e.defaultValues)||er(e.values)?cr(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:cr(i),o={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...u};const p={array:QD(),state:QD()},m=e.criteriaMode===Gs.all,y=R=>B=>{clearTimeout(c),c=setTimeout(R,B)},x=async R=>{if(!e.disabled&&(u.isValid||f.isValid||R)){const B=e.resolver?Si((await I()).errors):await N(r,!0);B!==n.isValid&&p.state.next({isValid:B})}},v=(R,B)=>{!e.disabled&&(u.isValidating||u.validatingFields||f.isValidating||f.validatingFields)&&((R||Array.from(a.mount)).forEach(Z=>{Z&&(B?cn(n.validatingFields,Z,B):ir(n.validatingFields,Z))}),p.state.next({validatingFields:n.validatingFields,isValidating:!Si(n.validatingFields)}))},g=(R,B=[],Z,oe,ie=!0,de=!0)=>{if(oe&&Z&&!e.disabled){if(o.action=!0,de&&Array.isArray(We(r,R))){const fe=Z(We(r,R),oe.argA,oe.argB);ie&&cn(r,R,fe)}if(de&&Array.isArray(We(n.errors,R))){const fe=Z(We(n.errors,R),oe.argA,oe.argB);ie&&cn(n.errors,R,fe),Qpe(n.errors,R)}if((u.touchedFields||f.touchedFields)&&de&&Array.isArray(We(n.touchedFields,R))){const fe=Z(We(n.touchedFields,R),oe.argA,oe.argB);ie&&cn(n.touchedFields,R,fe)}(u.dirtyFields||f.dirtyFields)&&(n.dirtyFields=sp(i,s)),p.state.next({name:R,isDirty:V(R,B),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else cn(s,R,B)},w=(R,B)=>{cn(n.errors,R,B),p.state.next({errors:n.errors})},S=R=>{n.errors=R,p.state.next({errors:n.errors,isValid:!1})},M=(R,B,Z,oe)=>{const ie=We(r,R);if(ie){const de=We(s,R,qn(Z)?We(i,R):Z);qn(de)||oe&&oe.defaultChecked||B?cn(s,R,B?de:r3(ie._f)):U(R,de),o.mount&&x()}},C=(R,B,Z,oe,ie)=>{let de=!1,fe=!1;const Ce={name:R};if(!e.disabled){if(!Z||oe){(u.isDirty||f.isDirty)&&(fe=n.isDirty,n.isDirty=Ce.isDirty=V(),de=fe!==Ce.isDirty);const ze=aa(We(i,R),B);fe=!!We(n.dirtyFields,R),ze?ir(n.dirtyFields,R):cn(n.dirtyFields,R,!0),Ce.dirtyFields=n.dirtyFields,de=de||(u.dirtyFields||f.dirtyFields)&&fe!==!ze}if(Z){const ze=We(n.touchedFields,R);ze||(cn(n.touchedFields,R,Z),Ce.touchedFields=n.touchedFields,de=de||(u.touchedFields||f.touchedFields)&&ze!==Z)}de&&ie&&p.state.next(Ce)}return de?Ce:{}},P=(R,B,Z,oe)=>{const ie=We(n.errors,R),de=(u.isValid||f.isValid)&&Gi(B)&&n.isValid!==B;if(e.delayError&&Z?(l=y(()=>w(R,Z)),l(e.delayError)):(clearTimeout(c),l=null,Z?cn(n.errors,R,Z):ir(n.errors,R)),(Z?!aa(ie,Z):ie)||!Si(oe)||de){const fe={...oe,...de&&Gi(B)?{isValid:B}:{},errors:n.errors,name:R};n={...n,...fe},p.state.next(fe)}},I=async R=>{v(R,!0);const B=await e.resolver(s,e.context,Xpe(R||a.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(R),B},O=async R=>{const{errors:B}=await I(R);if(R)for(const Z of R){const oe=We(B,Z);oe?cn(n.errors,Z,oe):ir(n.errors,Z)}else n.errors=B;return B},N=async(R,B,Z={valid:!0})=>{for(const oe in R){const ie=R[oe];if(ie){const{_f:de,...fe}=ie;if(de){const Ce=a.array.has(de.name),ze=ie._f&&qpe(ie._f);ze&&u.validatingFields&&v([oe],!0);const lt=await c3(ie,a.disabled,s,m,e.shouldUseNativeValidation&&!B,Ce);if(ze&&u.validatingFields&&v([oe]),lt[de.name]&&(Z.valid=!1,B))break;!B&&(We(lt,de.name)?Ce?eme(n.errors,lt,de.name):cn(n.errors,de.name,lt[de.name]):ir(n.errors,de.name))}!Si(fe)&&await N(fe,B,Z)}}return Z.valid},k=()=>{for(const R of a.unMount){const B=We(r,R);B&&(B._f.refs?B._f.refs.every(Z=>!_b(Z)):!_b(B._f.ref))&&ce(R)}a.unMount=new Set},V=(R,B)=>!e.disabled&&(R&&B&&cn(s,R,B),!aa(j(),i)),W=(R,B,Z)=>JH(R,a,{...o.mount?s:qn(B)?i:Ao(R)?{[R]:B}:B},Z,B),Q=R=>TR(We(o.mount?s:i,R,e.shouldUnregister?We(i,R,[]):[])),U=(R,B,Z={})=>{const oe=We(r,R);let ie=B;if(oe){const de=oe._f;de&&(!de.disabled&&cn(s,R,i6(B,de)),ie=Ax(de.ref)&&ii(B)?"":B,e6(de.ref)?[...de.ref.options].forEach(fe=>fe.selected=ie.includes(fe.value)):de.refs?Mg(de.ref)?de.refs.forEach(fe=>{(!fe.defaultChecked||!fe.disabled)&&(Array.isArray(ie)?fe.checked=!!ie.find(Ce=>Ce===fe.value):fe.checked=ie===fe.value||!!ie)}):de.refs.forEach(fe=>fe.checked=fe.value===ie):PR(de.ref)?de.ref.value="":(de.ref.value=ie,de.ref.type||p.state.next({name:R,values:cr(s)})))}(Z.shouldDirty||Z.shouldTouch)&&C(R,ie,Z.shouldTouch,Z.shouldDirty,!0),Z.shouldValidate&&F(R)},Y=(R,B,Z)=>{for(const oe in B){if(!B.hasOwnProperty(oe))return;const ie=B[oe],de=R+"."+oe,fe=We(r,de);(a.array.has(R)||er(ie)||fe&&!fe._f)&&!zc(ie)?Y(de,ie,Z):U(de,ie,Z)}},q=(R,B,Z={})=>{const oe=We(r,R),ie=a.array.has(R),de=cr(B);cn(s,R,de),ie?(p.array.next({name:R,values:cr(s)}),(u.isDirty||u.dirtyFields||f.isDirty||f.dirtyFields)&&Z.shouldDirty&&p.state.next({name:R,dirtyFields:sp(i,s),isDirty:V(R,de)})):oe&&!oe._f&&!ii(de)?Y(R,de,Z):U(R,de,Z),o3(R,a)&&p.state.next({...n,name:R}),p.state.next({name:o.mount?R:void 0,values:cr(s)})},te=async R=>{o.mount=!0;const B=R.target;let Z=B.name,oe=!0;const ie=We(r,Z),de=ze=>{oe=Number.isNaN(ze)||zc(ze)&&isNaN(ze.getTime())||aa(ze,We(s,Z,ze))},fe=i3(e.mode),Ce=i3(e.reValidateMode);if(ie){let ze,lt;const Me=B.type?r3(ie._f):YH(R),At=R.type===Tx.BLUR||R.type===Tx.FOCUS_OUT,Ct=!Ype(ie._f)&&!e.resolver&&!We(n.errors,Z)&&!ie._f.deps||Jpe(At,We(n.touchedFields,Z),n.isSubmitted,Ce,fe),pt=o3(Z,a,At);cn(s,Z,Me),At?(ie._f.onBlur&&ie._f.onBlur(R),l&&l(0)):ie._f.onChange&&ie._f.onChange(R);const nt=C(Z,Me,At),Ke=!Si(nt)||pt;if(!At&&p.state.next({name:Z,type:R.type,values:cr(s)}),Ct)return(u.isValid||f.isValid)&&(e.mode==="onBlur"?At&&x():At||x()),Ke&&p.state.next({name:Z,...pt?{}:nt});if(!At&&pt&&p.state.next({...n}),e.resolver){const{errors:mt}=await I([Z]);if(de(Me),oe){const Xt=a3(n.errors,r,Z),ln=a3(mt,r,Xt.name||Z);ze=ln.error,Z=ln.name,lt=Si(mt)}}else v([Z],!0),ze=(await c3(ie,a.disabled,s,m,e.shouldUseNativeValidation))[Z],v([Z]),de(Me),oe&&(ze?lt=!1:(u.isValid||f.isValid)&&(lt=await N(r,!0)));oe&&(ie._f.deps&&F(ie._f.deps),P(Z,lt,ze,nt))}},D=(R,B)=>{if(We(n.errors,B)&&R.focus)return R.focus(),1},F=async(R,B={})=>{let Z,oe;const ie=Bp(R);if(e.resolver){const de=await O(qn(R)?R:ie);Z=Si(de),oe=R?!ie.some(fe=>We(de,fe)):Z}else R?(oe=(await Promise.all(ie.map(async de=>{const fe=We(r,de);return await N(fe&&fe._f?{[de]:fe}:fe)}))).every(Boolean),!(!oe&&!n.isValid)&&x()):oe=Z=await N(r);return p.state.next({...!Ao(R)||(u.isValid||f.isValid)&&Z!==n.isValid?{}:{name:R},...e.resolver||!R?{isValid:Z}:{},errors:n.errors}),B.shouldFocus&&!oe&&zp(r,D,R?ie:a.mount),oe},j=R=>{const B={...o.mount?s:i};return qn(R)?B:Ao(R)?We(B,R):R.map(Z=>We(B,Z))},K=(R,B)=>({invalid:!!We((B||n).errors,R),isDirty:!!We((B||n).dirtyFields,R),error:We((B||n).errors,R),isValidating:!!We(n.validatingFields,R),isTouched:!!We((B||n).touchedFields,R)}),ee=R=>{R&&Bp(R).forEach(B=>ir(n.errors,B)),p.state.next({errors:R?n.errors:{}})},J=(R,B,Z)=>{const oe=(We(r,R,{_f:{}})._f||{}).ref,ie=We(n.errors,R)||{},{ref:de,message:fe,type:Ce,...ze}=ie;cn(n.errors,R,{...ze,...B,ref:oe}),p.state.next({name:R,errors:n.errors,isValid:!1}),Z&&Z.shouldFocus&&oe&&oe.focus&&oe.focus()},ae=(R,B)=>$s(R)?p.state.subscribe({next:Z=>"values"in Z&&R(W(void 0,B),Z)}):W(R,B,!0),Se=R=>p.state.subscribe({next:B=>{Zpe(R.name,B.name,R.exact)&&Kpe(B,R.formState||u,Je,R.reRenderRoot)&&R.callback({values:{...s},...n,...B,defaultValues:i})}}).unsubscribe,Ae=R=>(o.mount=!0,f={...f,...R.formState},Se({...R,formState:f})),ce=(R,B={})=>{for(const Z of R?Bp(R):a.mount)a.mount.delete(Z),a.array.delete(Z),B.keepValue||(ir(r,Z),ir(s,Z)),!B.keepError&&ir(n.errors,Z),!B.keepDirty&&ir(n.dirtyFields,Z),!B.keepTouched&&ir(n.touchedFields,Z),!B.keepIsValidating&&ir(n.validatingFields,Z),!e.shouldUnregister&&!B.keepDefaultValue&&ir(i,Z);p.state.next({values:cr(s)}),p.state.next({...n,...B.keepDirty?{isDirty:V()}:{}}),!B.keepIsValid&&x()},Oe=({disabled:R,name:B})=>{(Gi(R)&&o.mount||R||a.disabled.has(B))&&(R?a.disabled.add(B):a.disabled.delete(B))},Be=(R,B={})=>{let Z=We(r,R);const oe=Gi(B.disabled)||Gi(e.disabled);return cn(r,R,{...Z||{},_f:{...Z&&Z._f?Z._f:{ref:{name:R}},name:R,mount:!0,...B}}),a.mount.add(R),Z?Oe({disabled:Gi(B.disabled)?B.disabled:e.disabled,name:R}):M(R,!0,B.value),{...oe?{disabled:B.disabled||e.disabled}:{},...e.progressive?{required:!!B.required,min:op(B.min),max:op(B.max),minLength:op(B.minLength),maxLength:op(B.maxLength),pattern:op(B.pattern)}:{},name:R,onChange:te,onBlur:te,ref:ie=>{if(ie){Be(R,B),Z=We(r,R);const de=qn(ie.value)&&ie.querySelectorAll&&ie.querySelectorAll("input,select,textarea")[0]||ie,fe=Wpe(de),Ce=Z._f.refs||[];if(fe?Ce.find(ze=>ze===de):de===Z._f.ref)return;cn(r,R,{_f:{...Z._f,...fe?{refs:[...Ce.filter(_b),de,...Array.isArray(We(i,R))?[{}]:[]],ref:{type:de.type,name:R}}:{ref:de}}}),M(R,!1,void 0,de)}else Z=We(r,R,{}),Z._f&&(Z._f.mount=!1),(e.shouldUnregister||B.shouldUnregister)&&!(KH(a.array,R)&&o.action)&&a.unMount.add(R)}}},Re=()=>e.shouldFocusError&&zp(r,D,a.mount),Le=R=>{Gi(R)&&(p.state.next({disabled:R}),zp(r,(B,Z)=>{const oe=We(r,Z);oe&&(B.disabled=oe._f.disabled||R,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ie=>{ie.disabled=oe._f.disabled||R}))},0,!1))},X=(R,B)=>async Z=>{let oe;Z&&(Z.preventDefault&&Z.preventDefault(),Z.persist&&Z.persist());let ie=cr(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:de,values:fe}=await I();n.errors=de,ie=cr(fe)}else await N(r);if(a.disabled.size)for(const de of a.disabled)ir(ie,de);if(ir(n.errors,"root"),Si(n.errors)){p.state.next({errors:{}});try{await R(ie,Z)}catch(de){oe=de}}else B&&await B({...n.errors},Z),Re(),setTimeout(Re);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Si(n.errors)&&!oe,submitCount:n.submitCount+1,errors:n.errors}),oe)throw oe},Ee=(R,B={})=>{We(r,R)&&(qn(B.defaultValue)?q(R,cr(We(i,R))):(q(R,B.defaultValue),cn(i,R,cr(B.defaultValue))),B.keepTouched||ir(n.touchedFields,R),B.keepDirty||(ir(n.dirtyFields,R),n.isDirty=B.defaultValue?V(R,cr(We(i,R))):V()),B.keepError||(ir(n.errors,R),u.isValid&&x()),p.state.next({...n}))},ve=(R,B={})=>{const Z=R?cr(R):i,oe=cr(Z),ie=Si(R),de=ie?i:oe;if(B.keepDefaultValues||(i=Z),!B.keepValues){if(B.keepDirtyValues){const fe=new Set([...a.mount,...Object.keys(sp(i,s))]);for(const Ce of Array.from(fe))We(n.dirtyFields,Ce)?cn(de,Ce,We(s,Ce)):q(Ce,We(de,Ce))}else{if(MR&&qn(R))for(const fe of a.mount){const Ce=We(r,fe);if(Ce&&Ce._f){const ze=Array.isArray(Ce._f.refs)?Ce._f.refs[0]:Ce._f.ref;if(Ax(ze)){const lt=ze.closest("form");if(lt){lt.reset();break}}}}if(B.keepFieldsRef)for(const fe of a.mount)q(fe,We(de,fe));else r={}}s=e.shouldUnregister?B.keepDefaultValues?cr(i):{}:cr(de),p.array.next({values:{...de}}),p.state.next({values:{...de}})}a={mount:B.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!u.isValid||!!B.keepIsValid||!!B.keepDirtyValues,o.watch=!!e.shouldUnregister,p.state.next({submitCount:B.keepSubmitCount?n.submitCount:0,isDirty:ie?!1:B.keepDirty?n.isDirty:!!(B.keepDefaultValues&&!aa(R,i)),isSubmitted:B.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ie?{}:B.keepDirtyValues?B.keepDefaultValues&&s?sp(i,s):n.dirtyFields:B.keepDefaultValues&&R?sp(i,R):B.keepDirty?n.dirtyFields:{},touchedFields:B.keepTouched?n.touchedFields:{},errors:B.keepErrors?n.errors:{},isSubmitSuccessful:B.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Pe=(R,B)=>ve($s(R)?R(s):R,B),we=(R,B={})=>{const Z=We(r,R),oe=Z&&Z._f;if(oe){const ie=oe.refs?oe.refs[0]:oe.ref;ie.focus&&(ie.focus(),B.shouldSelect&&$s(ie.select)&&ie.select())}},Je=R=>{n={...n,...R}},z={control:{register:Be,unregister:ce,getFieldState:K,handleSubmit:X,setError:J,_subscribe:Se,_runSchema:I,_focusError:Re,_getWatch:W,_getDirty:V,_setValid:x,_setFieldArray:g,_setDisabledField:Oe,_setErrors:S,_getFieldArray:Q,_reset:ve,_resetDefaultValues:()=>$s(e.defaultValues)&&e.defaultValues().then(R=>{Pe(R,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:k,_disableForm:Le,_subjects:p,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return o},set _state(R){o=R},get _defaultValues(){return i},get _names(){return a},set _names(R){a=R},get _formState(){return n},get _options(){return e},set _options(R){e={...e,...R}}},subscribe:Ae,trigger:F,register:Be,handleSubmit:X,watch:ae,setValue:q,getValues:j,reset:Pe,resetField:Ee,clearErrors:ee,unregister:ce,setError:J,setFocus:we,getFieldState:K};return{...z,formControl:z}}function rme(t={}){const e=_e.useRef(void 0),n=_e.useRef(void 0),[r,i]=_e.useState({isDirty:!1,isValidating:!1,isLoading:$s(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:$s(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!$s(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=nme(t);e.current={...a,formState:r}}const s=e.current.control;return s._options=t,RR(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),_e.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),_e.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),_e.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),_e.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),_e.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),_e.useEffect(()=>{t.values&&!aa(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),_e.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=ZH(r,s),e.current}const u3=(t,e,n)=>{if(t&&"reportValidity"in t){const r=We(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},o6=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?u3(r.ref,n,t):r.refs&&r.refs.forEach(i=>u3(i,n,t))}},ime=(t,e)=>{e.shouldUseNativeValidation&&o6(t,e);const n={};for(const r in t){const i=We(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(sme(e.names||Object.keys(t),r)){const o=Object.assign({},We(n,r));cn(o,"root",s),cn(n,r,o)}else cn(n,r,s)}return n},sme=(t,e)=>t.some(n=>n.startsWith(e+"."));var ome=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,o=r.path.join(".");if(!n[o])if("unionErrors"in r){var a=r.unionErrors[0].errors[0];n[o]={message:a.message,type:a.code}}else n[o]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(f){return t.push(f)})}),e){var l=n[o].types,c=l&&l[r.code];n[o]=QH(o,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},ame=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(o,a){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&o6({},s),{errors:{},values:n.raw?r:c}})}catch(c){return a(c)}return l&&l.then?l.then(void 0,a):l}(0,function(o){if(function(a){return Array.isArray(a==null?void 0:a.errors)}(o))return{values:{},errors:ime(ome(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},rn;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(rn||(rn={}));var d3;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(d3||(d3={}));const it=rn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rl=t=>{switch(typeof t){case"undefined":return it.undefined;case"string":return it.string;case"number":return Number.isNaN(t)?it.nan:it.number;case"boolean":return it.boolean;case"function":return it.function;case"bigint":return it.bigint;case"symbol":return it.symbol;case"object":return Array.isArray(t)?it.array:t===null?it.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?it.promise:typeof Map<"u"&&t instanceof Map?it.map:typeof Set<"u"&&t instanceof Set?it.set:typeof Date<"u"&&t instanceof Date?it.date:it.object;default:return it.unknown}},De=rn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Aa extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof Aa))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,rn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Aa.create=t=>new Aa(t);const sT=(t,e)=>{let n;switch(t.code){case De.invalid_type:t.received===it.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case De.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,rn.jsonStringifyReplacer)}`;break;case De.unrecognized_keys:n=`Unrecognized key(s) in object: ${rn.joinValues(t.keys,", ")}`;break;case De.invalid_union:n="Invalid input";break;case De.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${rn.joinValues(t.options)}`;break;case De.invalid_enum_value:n=`Invalid enum value. Expected ${rn.joinValues(t.options)}, received '${t.received}'`;break;case De.invalid_arguments:n="Invalid function arguments";break;case De.invalid_return_type:n="Invalid function return type";break;case De.invalid_date:n="Invalid date";break;case De.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:rn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case De.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case De.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case De.custom:n="Invalid input";break;case De.invalid_intersection_types:n="Intersection results could not be merged";break;case De.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case De.not_finite:n="Number must be finite";break;default:n=e.defaultError,rn.assertNever(t)}return{message:n}};let lme=sT;function cme(){return lme}const ume=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(o,{data:e,defaultError:a}).message;return{...i,path:s,message:a}};function Xe(t,e){const n=cme(),r=ume({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===sT?void 0:sT].filter(i=>!!i)});t.common.issues.push(r)}class Qi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Rt;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,o=await i.value;r.push({key:s,value:o})}return Qi.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Rt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Rt=Object.freeze({status:"aborted"}),mp=t=>({status:"dirty",value:t}),Ms=t=>({status:"valid",value:t}),f3=t=>t.status==="aborted",h3=t=>t.status==="dirty",Uf=t=>t.status==="valid",Px=t=>typeof Promise<"u"&&t instanceof Promise;var ot;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(ot||(ot={}));class zl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const p3=(t,e)=>{if(Uf(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Aa(t.common.issues);return this._error=n,this._error}}};function Ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>{const{message:l}=t;return o.code==="invalid_enum_value"?{message:l??a.defaultError}:typeof a.data>"u"?{message:l??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:l??n??a.defaultError}},description:i}}class Jt{get description(){return this._def.description}_getType(e){return rl(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:rl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Qi,ctx:{common:e.parent.common,data:e.data,parsedType:rl(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Px(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rl(e)},i=this._parseSync({data:e,path:r.path,parent:r});return p3(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rl(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return Uf(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>Uf(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:rl(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(Px(i)?i:Promise.resolve(i));return p3(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:De.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(l=>l?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new Vf({schema:this,typeName:Pt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Cl.create(this,this._def)}nullable(){return jf.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Oo.create(this)}promise(){return kx.create(this,this._def)}or(e){return Ix.create([this,e],this._def)}and(e){return Lx.create(this,e,this._def)}transform(e){return new Vf({...Ht(this._def),schema:this,typeName:Pt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new lT({...Ht(this._def),innerType:this,defaultValue:n,typeName:Pt.ZodDefault})}brand(){return new Lme({typeName:Pt.ZodBranded,type:this,...Ht(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new cT({...Ht(this._def),innerType:this,catchValue:n,typeName:Pt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return IR.create(this,e)}readonly(){return uT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const dme=/^c[^\s-]{8,}$/i,fme=/^[0-9a-z]+$/,hme=/^[0-9A-HJKMNP-TV-Z]{26}$/i,pme=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,mme=/^[a-z0-9_-]{21}$/i,gme=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,yme=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,vme=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xme="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let wb;const _me=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wme=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Sme=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,bme=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Eme=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Mme=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,a6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Tme=new RegExp(`^${a6}$`);function l6(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function Ame(t){return new RegExp(`^${l6(t)}$`)}function Cme(t){let e=`${a6}T${l6(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function Rme(t,e){return!!((e==="v4"||!e)&&_me.test(t)||(e==="v6"||!e)&&Sme.test(t))}function Pme(t,e){if(!gme.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function Nme(t,e){return!!((e==="v4"||!e)&&wme.test(t)||(e==="v6"||!e)&&bme.test(t))}class fa extends Jt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==it.string){const s=this._getOrReturnCtx(e);return Xe(s,{code:De.invalid_type,expected:it.string,received:s.parsedType}),Rt}const r=new Qi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?Xe(i,{code:De.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&Xe(i,{code:De.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")vme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"email",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")wb||(wb=new RegExp(xme,"u")),wb.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"emoji",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")pme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"uuid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")mme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"nanoid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")dme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"cuid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")fme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"cuid2",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")hme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"ulid",code:De.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Xe(i,{validation:"url",code:De.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"regex",code:De.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Cme(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?Tme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?Ame(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?yme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"duration",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?Rme(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"ip",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?Pme(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"jwt",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?Nme(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"cidr",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?Eme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"base64",code:De.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?Mme.test(e.data)||(i=this._getOrReturnCtx(e,i),Xe(i,{validation:"base64url",code:De.invalid_string,message:s.message}),r.dirty()):rn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:De.invalid_string,...ot.errToObj(r)})}_addCheck(e){return new fa({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...ot.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...ot.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...ot.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...ot.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...ot.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...ot.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...ot.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...ot.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...ot.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...ot.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...ot.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...ot.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...ot.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...ot.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...ot.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...ot.errToObj(n)})}nonempty(e){return this.min(1,ot.errToObj(e))}trim(){return new fa({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new fa({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}fa.create=t=>new fa({checks:[],typeName:Pt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Ht(t)});function Ime(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class hu extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==it.number){const s=this._getOrReturnCtx(e);return Xe(s,{code:De.invalid_type,expected:it.number,received:s.parsedType}),Rt}let r;const i=new Qi;for(const s of this._def.checks)s.kind==="int"?rn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ime(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.not_finite,message:s.message}),i.dirty()):rn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,ot.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ot.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ot.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ot.toString(n))}setLimit(e,n,r,i){return new hu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ot.toString(i)}]})}_addCheck(e){return new hu({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ot.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ot.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&rn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}hu.create=t=>new hu({checks:[],typeName:Pt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ht(t)});class pu extends Jt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==it.bigint)return this._getInvalidInput(e);let r;const i=new Qi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Xe(r,{code:De.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):rn.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Xe(n,{code:De.invalid_type,expected:it.bigint,received:n.parsedType}),Rt}gte(e,n){return this.setLimit("min",e,!0,ot.toString(n))}gt(e,n){return this.setLimit("min",e,!1,ot.toString(n))}lte(e,n){return this.setLimit("max",e,!0,ot.toString(n))}lt(e,n){return this.setLimit("max",e,!1,ot.toString(n))}setLimit(e,n,r,i){return new pu({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:ot.toString(i)}]})}_addCheck(e){return new pu({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ot.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:ot.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}pu.create=t=>new pu({checks:[],typeName:Pt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Ht(t)});class Nx extends Jt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==it.boolean){const r=this._getOrReturnCtx(e);return Xe(r,{code:De.invalid_type,expected:it.boolean,received:r.parsedType}),Rt}return Ms(e.data)}}Nx.create=t=>new Nx({typeName:Pt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ht(t)});class Bf extends Jt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==it.date){const s=this._getOrReturnCtx(e);return Xe(s,{code:De.invalid_type,expected:it.date,received:s.parsedType}),Rt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Xe(s,{code:De.invalid_date}),Rt}const r=new Qi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Xe(i,{code:De.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):rn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Bf({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:ot.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:ot.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Bf.create=t=>new Bf({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:Pt.ZodDate,...Ht(t)});class m3 extends Jt{_parse(e){if(this._getType(e)!==it.symbol){const r=this._getOrReturnCtx(e);return Xe(r,{code:De.invalid_type,expected:it.symbol,received:r.parsedType}),Rt}return Ms(e.data)}}m3.create=t=>new m3({typeName:Pt.ZodSymbol,...Ht(t)});class g3 extends Jt{_parse(e){if(this._getType(e)!==it.undefined){const r=this._getOrReturnCtx(e);return Xe(r,{code:De.invalid_type,expected:it.undefined,received:r.parsedType}),Rt}return Ms(e.data)}}g3.create=t=>new g3({typeName:Pt.ZodUndefined,...Ht(t)});class y3 extends Jt{_parse(e){if(this._getType(e)!==it.null){const r=this._getOrReturnCtx(e);return Xe(r,{code:De.invalid_type,expected:it.null,received:r.parsedType}),Rt}return Ms(e.data)}}y3.create=t=>new y3({typeName:Pt.ZodNull,...Ht(t)});class v3 extends Jt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ms(e.data)}}v3.create=t=>new v3({typeName:Pt.ZodAny,...Ht(t)});class x3 extends Jt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ms(e.data)}}x3.create=t=>new x3({typeName:Pt.ZodUnknown,...Ht(t)});class Vl extends Jt{_parse(e){const n=this._getOrReturnCtx(e);return Xe(n,{code:De.invalid_type,expected:it.never,received:n.parsedType}),Rt}}Vl.create=t=>new Vl({typeName:Pt.ZodNever,...Ht(t)});class _3 extends Jt{_parse(e){if(this._getType(e)!==it.undefined){const r=this._getOrReturnCtx(e);return Xe(r,{code:De.invalid_type,expected:it.void,received:r.parsedType}),Rt}return Ms(e.data)}}_3.create=t=>new _3({typeName:Pt.ZodVoid,...Ht(t)});class Oo extends Jt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==it.array)return Xe(n,{code:De.invalid_type,expected:it.array,received:n.parsedType}),Rt;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(Xe(n,{code:o?De.too_big:De.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Xe(n,{code:De.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Xe(n,{code:De.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new zl(n,o,n.path,a)))).then(o=>Qi.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new zl(n,o,n.path,a)));return Qi.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Oo({...this._def,minLength:{value:e,message:ot.toString(n)}})}max(e,n){return new Oo({...this._def,maxLength:{value:e,message:ot.toString(n)}})}length(e,n){return new Oo({...this._def,exactLength:{value:e,message:ot.toString(n)}})}nonempty(e){return this.min(1,e)}}Oo.create=(t,e)=>new Oo({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Pt.ZodArray,...Ht(e)});function bd(t){if(t instanceof jn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=Cl.create(bd(r))}return new jn({...t._def,shape:()=>e})}else return t instanceof Oo?new Oo({...t._def,type:bd(t.element)}):t instanceof Cl?Cl.create(bd(t.unwrap())):t instanceof jf?jf.create(bd(t.unwrap())):t instanceof mu?mu.create(t.items.map(e=>bd(e))):t}class jn extends Jt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=rn.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==it.object){const c=this._getOrReturnCtx(e);return Xe(c,{code:De.invalid_type,expected:it.object,received:c.parsedType}),Rt}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Vl&&this._def.unknownKeys==="strip"))for(const c in i.data)o.includes(c)||a.push(c);const l=[];for(const c of o){const u=s[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new zl(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Vl){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(Xe(i,{code:De.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new zl(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,p=await u.value;c.push({key:f,value:p,alwaysSet:u.alwaysSet})}return c}).then(c=>Qi.mergeObjectSync(r,c)):Qi.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return ot.errToObj,new jn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,o;const i=((o=(s=this._def).errorMap)==null?void 0:o.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ot.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new jn({...this._def,unknownKeys:"strip"})}passthrough(){return new jn({...this._def,unknownKeys:"passthrough"})}extend(e){return new jn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Pt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new jn({...this._def,catchall:e})}pick(e){const n={};for(const r of rn.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new jn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of rn.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new jn({...this._def,shape:()=>n})}deepPartial(){return bd(this)}partial(e){const n={};for(const r of rn.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new jn({...this._def,shape:()=>n})}required(e){const n={};for(const r of rn.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof Cl;)s=s._def.innerType;n[r]=s}return new jn({...this._def,shape:()=>n})}keyof(){return c6(rn.objectKeys(this.shape))}}jn.create=(t,e)=>new jn({shape:()=>t,unknownKeys:"strip",catchall:Vl.create(),typeName:Pt.ZodObject,...Ht(e)});jn.strictCreate=(t,e)=>new jn({shape:()=>t,unknownKeys:"strict",catchall:Vl.create(),typeName:Pt.ZodObject,...Ht(e)});jn.lazycreate=(t,e)=>new jn({shape:t,unknownKeys:"strip",catchall:Vl.create(),typeName:Pt.ZodObject,...Ht(e)});class Ix extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Aa(a.ctx.common.issues));return Xe(n,{code:De.invalid_union,unionErrors:o}),Rt}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&o.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(l=>new Aa(l));return Xe(n,{code:De.invalid_union,unionErrors:a}),Rt}}get options(){return this._def.options}}Ix.create=(t,e)=>new Ix({options:t,typeName:Pt.ZodUnion,...Ht(e)});function oT(t,e){const n=rl(t),r=rl(e);if(t===e)return{valid:!0,data:t};if(n===it.object&&r===it.object){const i=rn.objectKeys(e),s=rn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const l=oT(t[a],e[a]);if(!l.valid)return{valid:!1};o[a]=l.data}return{valid:!0,data:o}}else if(n===it.array&&r===it.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],l=oT(o,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===it.date&&r===it.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Lx extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(f3(s)||f3(o))return Rt;const a=oT(s.value,o.value);return a.valid?((h3(s)||h3(o))&&n.dirty(),{status:n.value,value:a.data}):(Xe(r,{code:De.invalid_intersection_types}),Rt)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Lx.create=(t,e,n)=>new Lx({left:t,right:e,typeName:Pt.ZodIntersection,...Ht(n)});class mu extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==it.array)return Xe(r,{code:De.invalid_type,expected:it.array,received:r.parsedType}),Rt;if(r.data.length<this._def.items.length)return Xe(r,{code:De.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Rt;!this._def.rest&&r.data.length>this._def.items.length&&(Xe(r,{code:De.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new zl(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>Qi.mergeArray(n,o)):Qi.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new mu({...this._def,rest:e})}}mu.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new mu({items:t,typeName:Pt.ZodTuple,rest:null,...Ht(e)})};class w3 extends Jt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==it.map)return Xe(r,{code:De.invalid_type,expected:it.map,received:r.parsedType}),Rt;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new zl(r,a,r.path,[c,"key"])),value:s._parse(new zl(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of o){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Rt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of o){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Rt;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}w3.create=(t,e,n)=>new w3({valueType:e,keyType:t,typeName:Pt.ZodMap,...Ht(n)});class Bm extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==it.set)return Xe(r,{code:De.invalid_type,expected:it.set,received:r.parsedType}),Rt;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Xe(r,{code:De.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Xe(r,{code:De.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Rt;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>s._parse(new zl(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>o(l)):o(a)}min(e,n){return new Bm({...this._def,minSize:{value:e,message:ot.toString(n)}})}max(e,n){return new Bm({...this._def,maxSize:{value:e,message:ot.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Bm.create=(t,e)=>new Bm({valueType:t,minSize:null,maxSize:null,typeName:Pt.ZodSet,...Ht(e)});class S3 extends Jt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}S3.create=(t,e)=>new S3({getter:t,typeName:Pt.ZodLazy,...Ht(e)});class aT extends Jt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Xe(n,{received:n.data,code:De.invalid_literal,expected:this._def.value}),Rt}return{status:"valid",value:e.data}}get value(){return this._def.value}}aT.create=(t,e)=>new aT({value:t,typeName:Pt.ZodLiteral,...Ht(e)});function c6(t,e){return new zf({values:t,typeName:Pt.ZodEnum,...Ht(e)})}class zf extends Jt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Xe(n,{expected:rn.joinValues(r),received:n.parsedType,code:De.invalid_type}),Rt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Xe(n,{received:n.data,code:De.invalid_enum_value,options:r}),Rt}return Ms(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return zf.create(e,{...this._def,...n})}exclude(e,n=this._def){return zf.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}zf.create=c6;class b3 extends Jt{_parse(e){const n=rn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==it.string&&r.parsedType!==it.number){const i=rn.objectValues(n);return Xe(r,{expected:rn.joinValues(i),received:r.parsedType,code:De.invalid_type}),Rt}if(this._cache||(this._cache=new Set(rn.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=rn.objectValues(n);return Xe(r,{received:r.data,code:De.invalid_enum_value,options:i}),Rt}return Ms(e.data)}get enum(){return this._def.values}}b3.create=(t,e)=>new b3({values:t,typeName:Pt.ZodNativeEnum,...Ht(e)});class kx extends Jt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==it.promise&&n.common.async===!1)return Xe(n,{code:De.invalid_type,expected:it.promise,received:n.parsedType}),Rt;const r=n.parsedType===it.promise?n.data:Promise.resolve(n.data);return Ms(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}kx.create=(t,e)=>new kx({type:t,typeName:Pt.ZodPromise,...Ht(e)});class Vf extends Jt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Pt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{Xe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Rt;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Rt:l.status==="dirty"||n.value==="dirty"?mp(l.value):l});{if(n.value==="aborted")return Rt;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Rt:a.status==="dirty"||n.value==="dirty"?mp(a.value):a}}if(i.type==="refinement"){const o=a=>{const l=i.refinement(a,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Rt:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Rt:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Uf(o))return Rt;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Uf(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):Rt);rn.assertNever(i)}}Vf.create=(t,e,n)=>new Vf({schema:t,typeName:Pt.ZodEffects,effect:e,...Ht(n)});Vf.createWithPreprocess=(t,e,n)=>new Vf({schema:e,effect:{type:"preprocess",transform:t},typeName:Pt.ZodEffects,...Ht(n)});class Cl extends Jt{_parse(e){return this._getType(e)===it.undefined?Ms(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Cl.create=(t,e)=>new Cl({innerType:t,typeName:Pt.ZodOptional,...Ht(e)});class jf extends Jt{_parse(e){return this._getType(e)===it.null?Ms(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}jf.create=(t,e)=>new jf({innerType:t,typeName:Pt.ZodNullable,...Ht(e)});class lT extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===it.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}lT.create=(t,e)=>new lT({innerType:t,typeName:Pt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ht(e)});class cT extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Px(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Aa(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Aa(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}cT.create=(t,e)=>new cT({innerType:t,typeName:Pt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ht(e)});class E3 extends Jt{_parse(e){if(this._getType(e)!==it.nan){const r=this._getOrReturnCtx(e);return Xe(r,{code:De.invalid_type,expected:it.nan,received:r.parsedType}),Rt}return{status:"valid",value:e.data}}}E3.create=t=>new E3({typeName:Pt.ZodNaN,...Ht(t)});class Lme extends Jt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class IR extends Jt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Rt:s.status==="dirty"?(n.dirty(),mp(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Rt:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new IR({in:e,out:n,typeName:Pt.ZodPipeline})}}class uT extends Jt{_parse(e){const n=this._def.innerType._parse(e),r=i=>(Uf(i)&&(i.value=Object.freeze(i.value)),i);return Px(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}uT.create=(t,e)=>new uT({innerType:t,typeName:Pt.ZodReadonly,...Ht(e)});jn.lazycreate;var Pt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Pt||(Pt={}));const Sb=fa.create;hu.create;pu.create;Nx.create;Bf.create;Vl.create;Oo.create;const kme=jn.create;jn.strictCreate;Ix.create;Lx.create;mu.create;const Dme=aT.create,M3=zf.create;kx.create;Cl.create;jf.create;const Ome={string:t=>fa.create({...t,coerce:!0}),number:t=>hu.create({...t,coerce:!0}),boolean:t=>Nx.create({...t,coerce:!0}),bigint:t=>pu.create({...t,coerce:!0}),date:t=>Bf.create({...t,coerce:!0})};function T3(t,[e,n]){return Math.min(n,Math.max(e,t))}function Fme(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Ume=[" ","Enter","ArrowUp","ArrowDown"],Bme=[" ","Enter"],gu="Select",[iw,sw,zme]=Qx(gu),[dh,cye]=Gl(gu,[zme,Zf]),ow=Zf(),[Vme,Ql]=dh(gu),[jme,Hme]=dh(gu),u6=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:u,autoComplete:f,disabled:p,required:m,form:y}=t,x=ow(e),[v,g]=T.useState(null),[w,S]=T.useState(null),[M,C]=T.useState(!1),P=yC(c),[I,O]=im({prop:r,defaultProp:i??!1,onChange:s,caller:gu}),[N,k]=im({prop:o,defaultProp:a,onChange:l,caller:gu}),V=T.useRef(null),W=v?y||!!v.closest("form"):!0,[Q,U]=T.useState(new Set),Y=Array.from(Q).map(q=>q.props.value).join(";");return _.jsx(S4,{...x,children:_.jsxs(Vme,{required:m,scope:e,trigger:v,onTriggerChange:g,valueNode:w,onValueNodeChange:S,valueNodeHasChildren:M,onValueNodeHasChildrenChange:C,contentId:Tf(),value:N,onValueChange:k,open:I,onOpenChange:O,dir:P,triggerPointerDownPosRef:V,disabled:p,children:[_.jsx(iw.Provider,{scope:e,children:_.jsx(jme,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(q=>{U(te=>new Set(te).add(q))},[]),onNativeOptionRemove:T.useCallback(q=>{U(te=>{const D=new Set(te);return D.delete(q),D})},[]),children:n})}),W?_.jsxs(k6,{"aria-hidden":!0,required:m,tabIndex:-1,name:u,autoComplete:f,value:N,onChange:q=>k(q.target.value),disabled:p,form:y,children:[N===void 0?_.jsx("option",{value:""}):null,Array.from(Q)]},Y):null]})})};u6.displayName=gu;var d6="SelectTrigger",f6=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=ow(n),o=Ql(d6,n),a=o.disabled||r,l=pn(e,o.onTriggerChange),c=sw(n),u=T.useRef("touch"),[f,p,m]=O6(x=>{const v=c().filter(S=>!S.disabled),g=v.find(S=>S.value===o.value),w=F6(v,x,g);w!==void 0&&o.onValueChange(w.value)}),y=x=>{a||(o.onOpenChange(!0),m()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return _.jsx(CA,{asChild:!0,...s,children:_.jsx($t.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":D6(o.value)?"":void 0,...i,ref:l,onClick:Ze(i.onClick,x=>{x.currentTarget.focus(),u.current!=="mouse"&&y(x)}),onPointerDown:Ze(i.onPointerDown,x=>{u.current=x.pointerType;const v=x.target;v.hasPointerCapture(x.pointerId)&&v.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ze(i.onKeyDown,x=>{const v=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&p(x.key),!(v&&x.key===" ")&&Ume.includes(x.key)&&(y(),x.preventDefault())})})})});f6.displayName=d6;var h6="SelectValue",p6=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=Ql(h6,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,f=pn(e,l.onValueNodeChange);return Lr(()=>{c(u)},[c,u]),_.jsx($t.span,{...a,ref:f,style:{pointerEvents:"none"},children:D6(l.value)?_.jsx(_.Fragment,{children:o}):s})});p6.displayName=h6;var Wme="SelectIcon",m6=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return _.jsx($t.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});m6.displayName=Wme;var Gme="SelectPortal",g6=t=>_.jsx(e_,{asChild:!0,...t});g6.displayName=Gme;var yu="SelectContent",y6=T.forwardRef((t,e)=>{const n=Ql(yu,t.__scopeSelect),[r,i]=T.useState();if(Lr(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?_u.createPortal(_.jsx(v6,{scope:t.__scopeSelect,children:_.jsx(iw.Slot,{scope:t.__scopeSelect,children:_.jsx("div",{children:t.children})})}),s):null}return _.jsx(x6,{...t,ref:e})});y6.displayName=yu;var Ds=10,[v6,ec]=dh(yu),$me="SelectContentImpl",Xme=Ef("SelectContent.RemoveScroll"),x6=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:v,...g}=t,w=Ql(yu,n),[S,M]=T.useState(null),[C,P]=T.useState(null),I=pn(e,ce=>M(ce)),[O,N]=T.useState(null),[k,V]=T.useState(null),W=sw(n),[Q,U]=T.useState(!1),Y=T.useRef(!1);T.useEffect(()=>{if(S)return jz(S)},[S]),Lz();const q=T.useCallback(ce=>{const[Oe,...Be]=W().map(X=>X.ref.current),[Re]=Be.slice(-1),Le=document.activeElement;for(const X of ce)if(X===Le||(X==null||X.scrollIntoView({block:"nearest"}),X===Oe&&C&&(C.scrollTop=0),X===Re&&C&&(C.scrollTop=C.scrollHeight),X==null||X.focus(),document.activeElement!==Le))return},[W,C]),te=T.useCallback(()=>q([O,S]),[q,O,S]);T.useEffect(()=>{Q&&te()},[Q,te]);const{onOpenChange:D,triggerPointerDownPosRef:F}=w;T.useEffect(()=>{if(S){let ce={x:0,y:0};const Oe=Re=>{var Le,X;ce={x:Math.abs(Math.round(Re.pageX)-(((Le=F.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Re.pageY)-(((X=F.current)==null?void 0:X.y)??0))}},Be=Re=>{ce.x<=10&&ce.y<=10?Re.preventDefault():S.contains(Re.target)||D(!1),document.removeEventListener("pointermove",Oe),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Oe),document.addEventListener("pointerup",Be,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Oe),document.removeEventListener("pointerup",Be,{capture:!0})}}},[S,D,F]),T.useEffect(()=>{const ce=()=>D(!1);return window.addEventListener("blur",ce),window.addEventListener("resize",ce),()=>{window.removeEventListener("blur",ce),window.removeEventListener("resize",ce)}},[D]);const[j,K]=O6(ce=>{const Oe=W().filter(Le=>!Le.disabled),Be=Oe.find(Le=>Le.ref.current===document.activeElement),Re=F6(Oe,ce,Be);Re&&setTimeout(()=>Re.ref.current.focus())}),ee=T.useCallback((ce,Oe,Be)=>{const Re=!Y.current&&!Be;(w.value!==void 0&&w.value===Oe||Re)&&(N(ce),Re&&(Y.current=!0))},[w.value]),J=T.useCallback(()=>S==null?void 0:S.focus(),[S]),ae=T.useCallback((ce,Oe,Be)=>{const Re=!Y.current&&!Be;(w.value!==void 0&&w.value===Oe||Re)&&V(ce)},[w.value]),Se=r==="popper"?dT:_6,Ae=Se===dT?{side:a,sideOffset:l,align:c,alignOffset:u,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:y,hideWhenDetached:x,avoidCollisions:v}:{};return _.jsx(v6,{scope:n,content:S,viewport:C,onViewportChange:P,itemRefCallback:ee,selectedItem:O,onItemLeave:J,itemTextRefCallback:ae,focusSelectedItem:te,selectedItemText:k,position:r,isPositioned:Q,searchRef:j,children:_.jsx(xC,{as:Xme,allowPinchZoom:!0,children:_.jsx(vC,{asChild:!0,trapped:w.open,onMountAutoFocus:ce=>{ce.preventDefault()},onUnmountAutoFocus:Ze(i,ce=>{var Oe;(Oe=w.trigger)==null||Oe.focus({preventScroll:!0}),ce.preventDefault()}),children:_.jsx(Xm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ce=>ce.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:_.jsx(Se,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ce=>ce.preventDefault(),...g,...Ae,onPlaced:()=>U(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:Ze(g.onKeyDown,ce=>{const Oe=ce.ctrlKey||ce.altKey||ce.metaKey;if(ce.key==="Tab"&&ce.preventDefault(),!Oe&&ce.key.length===1&&K(ce.key),["ArrowUp","ArrowDown","Home","End"].includes(ce.key)){let Re=W().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(ce.key)&&(Re=Re.slice().reverse()),["ArrowUp","ArrowDown"].includes(ce.key)){const Le=ce.target,X=Re.indexOf(Le);Re=Re.slice(X+1)}setTimeout(()=>q(Re)),ce.preventDefault()}})})})})})})});x6.displayName=$me;var qme="SelectItemAlignedPosition",_6=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ql(yu,n),o=ec(yu,n),[a,l]=T.useState(null),[c,u]=T.useState(null),f=pn(e,I=>u(I)),p=sw(n),m=T.useRef(!1),y=T.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:g,focusSelectedItem:w}=o,S=T.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&x&&v&&g){const I=s.trigger.getBoundingClientRect(),O=c.getBoundingClientRect(),N=s.valueNode.getBoundingClientRect(),k=g.getBoundingClientRect();if(s.dir!=="rtl"){const Le=k.left-O.left,X=N.left-Le,Ee=I.left-X,ve=I.width+Ee,Pe=Math.max(ve,O.width),we=window.innerWidth-Ds,Je=T3(X,[Ds,Math.max(Ds,we-Pe)]);a.style.minWidth=ve+"px",a.style.left=Je+"px"}else{const Le=O.right-k.right,X=window.innerWidth-N.right-Le,Ee=window.innerWidth-I.right-X,ve=I.width+Ee,Pe=Math.max(ve,O.width),we=window.innerWidth-Ds,Je=T3(X,[Ds,Math.max(Ds,we-Pe)]);a.style.minWidth=ve+"px",a.style.right=Je+"px"}const V=p(),W=window.innerHeight-Ds*2,Q=x.scrollHeight,U=window.getComputedStyle(c),Y=parseInt(U.borderTopWidth,10),q=parseInt(U.paddingTop,10),te=parseInt(U.borderBottomWidth,10),D=parseInt(U.paddingBottom,10),F=Y+q+Q+D+te,j=Math.min(v.offsetHeight*5,F),K=window.getComputedStyle(x),ee=parseInt(K.paddingTop,10),J=parseInt(K.paddingBottom,10),ae=I.top+I.height/2-Ds,Se=W-ae,Ae=v.offsetHeight/2,ce=v.offsetTop+Ae,Oe=Y+q+ce,Be=F-Oe;if(Oe<=ae){const Le=V.length>0&&v===V[V.length-1].ref.current;a.style.bottom="0px";const X=c.clientHeight-x.offsetTop-x.offsetHeight,Ee=Math.max(Se,Ae+(Le?J:0)+X+te),ve=Oe+Ee;a.style.height=ve+"px"}else{const Le=V.length>0&&v===V[0].ref.current;a.style.top="0px";const Ee=Math.max(ae,Y+x.offsetTop+(Le?ee:0)+Ae)+Be;a.style.height=Ee+"px",x.scrollTop=Oe-ae+x.offsetTop}a.style.margin=`${Ds}px 0`,a.style.minHeight=j+"px",a.style.maxHeight=W+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,s.trigger,s.valueNode,a,c,x,v,g,s.dir,r]);Lr(()=>S(),[S]);const[M,C]=T.useState();Lr(()=>{c&&C(window.getComputedStyle(c).zIndex)},[c]);const P=T.useCallback(I=>{I&&y.current===!0&&(S(),w==null||w(),y.current=!1)},[S,w]);return _.jsx(Kme,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:P,children:_.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:_.jsx($t.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});_6.displayName=qme;var Yme="SelectPopperPosition",dT=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Ds,...s}=t,o=ow(n);return _.jsx(RA,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});dT.displayName=Yme;var[Kme,LR]=dh(yu,{}),fT="SelectViewport",w6=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=ec(fT,n),o=LR(fT,n),a=pn(e,s.onViewportChange),l=T.useRef(0);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),_.jsx(iw.Slot,{scope:n,children:_.jsx($t.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ze(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(l.current-u.scrollTop);if(m>0){const y=window.innerHeight-Ds*2,x=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),g=Math.max(x,v);if(g<y){const w=g+m,S=Math.min(y,w),M=w-S;f.style.height=S+"px",f.style.bottom==="0px"&&(u.scrollTop=M>0?M:0,f.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});w6.displayName=fT;var S6="SelectGroup",[Zme,Jme]=dh(S6),Qme=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Tf();return _.jsx(Zme,{scope:n,id:i,children:_.jsx($t.div,{role:"group","aria-labelledby":i,...r,ref:e})})});Qme.displayName=S6;var b6="SelectLabel",E6=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Jme(b6,n);return _.jsx($t.div,{id:i.id,...r,ref:e})});E6.displayName=b6;var Dx="SelectItem",[ege,M6]=dh(Dx),T6=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=Ql(Dx,n),l=ec(Dx,n),c=a.value===r,[u,f]=T.useState(s??""),[p,m]=T.useState(!1),y=pn(e,w=>{var S;return(S=l.itemRefCallback)==null?void 0:S.call(l,w,r,i)}),x=Tf(),v=T.useRef("touch"),g=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return _.jsx(ege,{scope:n,value:r,disabled:i,textId:x,isSelected:c,onItemTextChange:T.useCallback(w=>{f(S=>S||((w==null?void 0:w.textContent)??"").trim())},[]),children:_.jsx(iw.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:_.jsx($t.div,{role:"option","aria-labelledby":x,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Ze(o.onFocus,()=>m(!0)),onBlur:Ze(o.onBlur,()=>m(!1)),onClick:Ze(o.onClick,()=>{v.current!=="mouse"&&g()}),onPointerUp:Ze(o.onPointerUp,()=>{v.current==="mouse"&&g()}),onPointerDown:Ze(o.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:Ze(o.onPointerMove,w=>{var S;v.current=w.pointerType,i?(S=l.onItemLeave)==null||S.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ze(o.onPointerLeave,w=>{var S;w.currentTarget===document.activeElement&&((S=l.onItemLeave)==null||S.call(l))}),onKeyDown:Ze(o.onKeyDown,w=>{var M;((M=l.searchRef)==null?void 0:M.current)!==""&&w.key===" "||(Bme.includes(w.key)&&g(),w.key===" "&&w.preventDefault())})})})})});T6.displayName=Dx;var gp="SelectItemText",A6=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=Ql(gp,n),a=ec(gp,n),l=M6(gp,n),c=Hme(gp,n),[u,f]=T.useState(null),p=pn(e,g=>f(g),l.onItemTextChange,g=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,g,l.value,l.disabled)}),m=u==null?void 0:u.textContent,y=T.useMemo(()=>_.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=c;return Lr(()=>(x(y),()=>v(y)),[x,v,y]),_.jsxs(_.Fragment,{children:[_.jsx($t.span,{id:l.textId,...s,ref:p}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?_u.createPortal(s.children,o.valueNode):null]})});A6.displayName=gp;var C6="SelectItemIndicator",R6=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return M6(C6,n).isSelected?_.jsx($t.span,{"aria-hidden":!0,...r,ref:e}):null});R6.displayName=C6;var hT="SelectScrollUpButton",P6=T.forwardRef((t,e)=>{const n=ec(hT,t.__scopeSelect),r=LR(hT,t.__scopeSelect),[i,s]=T.useState(!1),o=pn(e,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?_.jsx(I6,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});P6.displayName=hT;var pT="SelectScrollDownButton",N6=T.forwardRef((t,e)=>{const n=ec(pT,t.__scopeSelect),r=LR(pT,t.__scopeSelect),[i,s]=T.useState(!1),o=pn(e,r.onScrollButtonChange);return Lr(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?_.jsx(I6,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});N6.displayName=pT;var I6=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=ec("SelectScrollButton",n),o=T.useRef(null),a=sw(n),l=T.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),Lr(()=>{var u;const c=a().find(f=>f.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[a]),_.jsx($t.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ze(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Ze(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Ze(i.onPointerLeave,()=>{l()})})}),tge="SelectSeparator",L6=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return _.jsx($t.div,{"aria-hidden":!0,...r,ref:e})});L6.displayName=tge;var mT="SelectArrow",nge=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=ow(n),s=Ql(mT,n),o=ec(mT,n);return s.open&&o.position==="popper"?_.jsx(PA,{...i,...r,ref:e}):null});nge.displayName=mT;var rge="SelectBubbleInput",k6=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),s=pn(r,i),o=Fme(e);return T.useEffect(()=>{const a=i.current;if(!a)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&u){const f=new Event("change",{bubbles:!0});u.call(a,e),a.dispatchEvent(f)}},[o,e]),_.jsx($t.select,{...n,style:{...pU,...n.style},ref:s,defaultValue:e})});k6.displayName=rge;function D6(t){return t===""||t===void 0}function O6(t){const e=ki(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function F6(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=ige(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function ige(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var sge=u6,U6=f6,oge=p6,age=m6,lge=g6,B6=y6,cge=w6,z6=E6,V6=T6,uge=A6,dge=R6,j6=P6,H6=N6,W6=L6;const yp=sge,vp=oge,Xd=T.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(U6,{ref:r,className:qt("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,_.jsx(age,{asChild:!0,children:_.jsx(OU,{className:"h-4 w-4 opacity-50"})})]}));Xd.displayName=U6.displayName;const G6=T.forwardRef(({className:t,...e},n)=>_.jsx(j6,{ref:n,className:qt("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(A$,{className:"h-4 w-4"})}));G6.displayName=j6.displayName;const $6=T.forwardRef(({className:t,...e},n)=>_.jsx(H6,{ref:n,className:qt("flex cursor-default items-center justify-center py-1",t),...e,children:_.jsx(OU,{className:"h-4 w-4"})}));$6.displayName=H6.displayName;const qd=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>_.jsx(lge,{children:_.jsxs(B6,{ref:i,className:qt("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[_.jsx(G6,{}),_.jsx(cge,{className:qt("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),_.jsx($6,{})]})}));qd.displayName=B6.displayName;const fge=T.forwardRef(({className:t,...e},n)=>_.jsx(z6,{ref:n,className:qt("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));fge.displayName=z6.displayName;const Bs=T.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(V6,{ref:r,className:qt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[_.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:_.jsx(dge,{children:_.jsx(DU,{className:"h-4 w-4"})})}),_.jsx(uge,{children:e})]}));Bs.displayName=V6.displayName;const hge=T.forwardRef(({className:t,...e},n)=>_.jsx(W6,{ref:n,className:qt("-mx-1 my-1 h-px bg-muted",t),...e}));hge.displayName=W6.displayName;var pge="Label",X6=T.forwardRef((t,e)=>_.jsx($t.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));X6.displayName=pge;var q6=X6;const mge=hA("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Y6=T.forwardRef(({className:t,...e},n)=>_.jsx(q6,{ref:n,className:qt(mge(),t),...e}));Y6.displayName=q6.displayName;const gge=Bpe,K6=T.createContext({}),_d=({...t})=>_.jsx(K6.Provider,{value:{name:t.name},children:_.jsx(Hpe,{...t})}),aw=()=>{const t=T.useContext(K6),e=T.useContext(Z6),{getFieldState:n,formState:r}=rw(),i=n(t.name,r);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},Z6=T.createContext({}),Tc=T.forwardRef(({className:t,...e},n)=>{const r=T.useId();return _.jsx(Z6.Provider,{value:{id:r},children:_.jsx("div",{ref:n,className:qt("space-y-2",t),...e})})});Tc.displayName="FormItem";const Ac=T.forwardRef(({className:t,...e},n)=>{const{error:r,formItemId:i}=aw();return _.jsx(Y6,{ref:n,className:qt(r&&"text-destructive",t),htmlFor:i,...e})});Ac.displayName="FormLabel";const Cc=T.forwardRef(({...t},e)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=aw();return _.jsx(nU,{ref:e,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...t})});Cc.displayName="FormControl";const yge=T.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:r}=aw();return _.jsx("p",{ref:n,id:r,className:qt("text-sm text-muted-foreground",t),...e})});yge.displayName="FormDescription";const gT=T.forwardRef(({className:t,children:e,...n},r)=>{const{error:i,formMessageId:s}=aw(),o=i?String(i==null?void 0:i.message):e;return o?_.jsx("p",{ref:r,id:s,className:qt("text-sm font-medium text-destructive",t),...n,children:o}):null});gT.displayName="FormMessage";const vge=new Date().getFullYear(),xge=kme({query:Sb().optional(),year:Ome.number().min(-1e4,"Year must be after 10000 BCE").max(vge,"Year cannot be in the future").optional().or(Dme("")),category:Sb().optional(),country:Sb().optional(),sortBy:M3(["date","importance"]).default("date"),sortOrder:M3(["asc","desc"]).default("desc")});function _ge({onSearch:t,initialValues:e,isLoading:n}){const{t:r,locale:i}=Tn(),s=rme({resolver:ame(xge),defaultValues:{query:(e==null?void 0:e.query)||"",year:e==null?void 0:e.year,category:(e==null?void 0:e.category)||"all",country:(e==null?void 0:e.country)||"all",sortBy:(e==null?void 0:e.sortBy)||"date",sortOrder:(e==null?void 0:e.sortOrder)||"desc"}}),o=l=>i==="ar"?l.nameAr:i==="fr"?l.nameFr:l.name,a=l=>{const c={...l,category:l.category==="all"?void 0:l.category,country:l.country==="all"?void 0:l.country,limit:12,page:1};t(c)};return _.jsx(gge,{...s,children:_.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-6",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[_.jsx(_d,{control:s.control,name:"query",render:({field:l})=>_.jsxs(Tc,{className:"lg:col-span-2",children:[_.jsxs(Ac,{className:"flex items-center gap-2",children:[_.jsx(Mf,{className:"w-4 h-4 text-primary"}),r("search.title")]}),_.jsx(Cc,{children:_.jsx(Ex,{placeholder:"Search by keywords (e.g. Apollo, Revolution...)",...l,className:"h-12 bg-muted/50 focus:bg-background transition-colors"})}),_.jsx(gT,{})]})}),_.jsx(_d,{control:s.control,name:"year",render:({field:l})=>_.jsxs(Tc,{children:[_.jsxs(Ac,{className:"flex items-center gap-2",children:[_.jsx(Km,{className:"w-4 h-4 text-primary"}),r("search.year")," *"]}),_.jsx(Cc,{children:_.jsx(Ex,{type:"number",placeholder:r("search.yearPlaceholder"),...l,className:"h-12 bg-muted/50 focus:bg-background transition-colors"})}),_.jsx(gT,{})]})}),_.jsx(_d,{control:s.control,name:"category",render:({field:l})=>_.jsxs(Tc,{children:[_.jsxs(Ac,{className:"flex items-center gap-2",children:[_.jsx(qU,{className:"w-4 h-4 text-primary"}),r("search.category")]}),_.jsxs(yp,{onValueChange:l.onChange,defaultValue:l.value,children:[_.jsx(Cc,{children:_.jsx(Xd,{className:"h-12 bg-muted/50 focus:bg-background transition-colors",children:_.jsx(vp,{placeholder:r("search.categoryPlaceholder")})})}),_.jsxs(qd,{className:"bg-popover",children:[_.jsx(Bs,{value:"all",children:"All Categories"}),$H.map(c=>_.jsx(Bs,{value:c,children:r(`category.${c}`)},c))]})]})]})}),_.jsx(_d,{control:s.control,name:"country",render:({field:l})=>_.jsxs(Tc,{children:[_.jsxs(Ac,{className:"flex items-center gap-2",children:[_.jsx(i_,{className:"w-4 h-4 text-primary"}),r("search.country")]}),_.jsxs(yp,{onValueChange:l.onChange,defaultValue:l.value,children:[_.jsx(Cc,{children:_.jsx(Xd,{className:"h-12 bg-muted/50 focus:bg-background transition-colors",children:_.jsx(vp,{placeholder:r("search.countryPlaceholder")})})}),_.jsxs(qd,{className:"bg-popover",children:[_.jsx(Bs,{value:"all",children:"All Countries"}),Ape.map(c=>_.jsx(Bs,{value:c.code,children:o(c)},c.code))]})]})]})})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 pt-2 border-t border-border/50",children:[_.jsxs("div",{className:"flex-1 grid grid-cols-2 gap-4",children:[_.jsx(_d,{control:s.control,name:"sortBy",render:({field:l})=>_.jsxs(Tc,{children:[_.jsxs(Ac,{className:"flex items-center gap-2",children:[_.jsx($U,{className:"w-4 h-4 text-primary"}),r("results.sortBy")]}),_.jsxs(yp,{onValueChange:l.onChange,defaultValue:l.value,children:[_.jsx(Cc,{children:_.jsx(Xd,{className:"h-10",children:_.jsx(vp,{})})}),_.jsxs(qd,{children:[_.jsx(Bs,{value:"date",children:r("results.sortByDate")}),_.jsx(Bs,{value:"importance",children:r("results.sortByImportance")})]})]})]})}),_.jsx(_d,{control:s.control,name:"sortOrder",render:({field:l})=>_.jsxs(Tc,{children:[_.jsxs(Ac,{className:"flex items-center gap-2",children:[_.jsx(E$,{className:"w-4 h-4 text-primary"}),"Order"]}),_.jsxs(yp,{onValueChange:l.onChange,defaultValue:l.value,children:[_.jsx(Cc,{children:_.jsx(Xd,{className:"h-10",children:_.jsx(vp,{})})}),_.jsxs(qd,{children:[_.jsx(Bs,{value:"asc",children:"Ascending"}),_.jsx(Bs,{value:"desc",children:"Descending"})]})]})]})})]}),_.jsx("div",{className:"flex items-end",children:_.jsxs(sn,{type:"submit",size:"lg",className:"w-full sm:w-auto h-12 px-8 gap-2",disabled:n||!s.formState.isValid,children:[_.jsx(Mf,{className:"w-5 h-5"}),r("search.submit")]})})]})]})})}function wge({event:t,index:e}){const{t:n,locale:r}=Tn(),i=r==="ar"?t.titleAr||t.title:r==="fr"&&t.titleFr||t.title,s=r==="ar"?t.descriptionAr||t.description:r==="fr"&&t.descriptionFr||t.description,o=Ul(i),a=Ul(s),l=m=>{const y={war:"https://images.unsplash.com/photo-1505373633519-c0ae2f1b490f",science:"https://images.unsplash.com/photo-1507413245164-6160d8298b31",culture:"https://images.unsplash.com/photo-1467307983825-619715426c70",politics:"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620",discovery:"https://images.unsplash.com/photo-1500076656116-558758c991c1",space:"https://images.unsplash.com/photo-1446776811953-b23d57bd21aa",natural_disaster:"https://images.unsplash.com/photo-1541185933-ef5d8ed016c2",medicine:"https://images.unsplash.com/photo-1576091160550-217359f488d5",religion:"https://images.unsplash.com/photo-1438232992991-995b7058bbb3",economics:"https://images.unsplash.com/photo-1611974717482-58a00f9397f0",sports:"https://images.unsplash.com/photo-1461896756913-7597af659228",art:"https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b",literature:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d",default:"https://images.unsplash.com/photo-1451187580459-43490279c0fa"};return`${y[m]||y.default}?q=80&w=1200&auto=format&fit=crop`},c={critical:"text-red-500 bg-red-500/10",high:"text-orange-500 bg-orange-500/10",medium:"text-blue-500 bg-blue-500/10",low:"text-slate-500 bg-slate-500/10"};t.sources&&t.sources.length>0&&t.sources[0].url;const u=t.imageUrl||l(t.category),f=String(t.id).startsWith("wiki-")||t.sources&&t.sources.some(m=>m.title.toLowerCase().includes("wikipedia")),p=({children:m})=>{const y=f?`/preview/${t.id}`:`/event/${t.id}`;return _.jsx(gn,{to:y,state:{event:t},className:"block h-full",children:m})};return _.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:e*.05},children:_.jsx(p,{children:_.jsxs("div",{className:"group grid grid-cols-1 md:grid-cols-12 bg-card rounded-2xl overflow-hidden border border-border/50 hover:border-primary/30 transition-all duration-300 hover:shadow-2xl hover:shadow-primary/5 h-full",children:[_.jsxs("div",{className:"md:col-span-4 relative aspect-video md:aspect-auto overflow-hidden bg-muted",children:[_.jsx("img",{src:u,alt:o,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"})]}),_.jsxs("div",{className:"md:col-span-8 p-6 md:p-8 flex flex-col",children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[_.jsxs("span",{className:"text-primary font-bold text-sm tracking-wider uppercase text-start",children:[t.date.year," ",t.date.era]}),_.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),_.jsx("span",{className:"text-xs font-semibold px-2 py-0.5 rounded-md bg-muted text-muted-foreground uppercase tracking-tight",children:n(`category.${t.category}`)}),_.jsx("span",{className:qt("text-[10px] font-bold px-2 py-0.5 rounded-md uppercase tracking-widest",c[t.importance]),children:t.importance})]}),_.jsx("h3",{className:"font-display text-2xl md:text-3xl font-bold text-foreground line-clamp-2 leading-tight mb-4 group-hover:text-primary transition-colors text-start",children:o}),_.jsx("p",{className:"text-muted-foreground text-base leading-relaxed text-start mb-6 line-clamp-3",children:a}),_.jsxs("div",{className:"mt-auto flex items-center justify-between pt-4 border-t border-border/30",children:[_.jsx("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:t.country&&_.jsxs("div",{className:"flex items-center gap-1.5 px-2 py-1 bg-muted/50 rounded-md",children:[_.jsx(s_,{className:"w-3.5 h-3.5 text-primary"}),_.jsx("span",{children:t.country})]})}),_.jsxs("div",{className:"flex items-center gap-1.5 text-primary text-sm font-bold group-hover:gap-2.5 transition-all rtl:flex-row-reverse",children:[n("articles.readMore"),_.jsx(_a,{className:"w-4 h-4 rtl:rotate-180"})]})]})]})]})})})}function Sge({events:t,loading:e,error:n,total:r,onRetry:i}){const{t:s}=Tn();return _.jsxs("div",{className:"space-y-6 relative",children:[_.jsx(pC,{children:n&&_.jsxs(at.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-destructive/10 border border-destructive/20 rounded-2xl flex items-center justify-between gap-4 sticky top-4 z-20 backdrop-blur-md shadow-lg",children:[_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsx(r_,{className:"w-5 h-5 text-destructive"}),_.jsx("p",{className:"text-sm font-medium text-destructive-foreground",children:n})]}),_.jsxs(sn,{onClick:i,variant:"ghost",size:"sm",className:"h-8 gap-2 hover:bg-destructive/10",children:[_.jsx(ME,{className:"w-3 h-3 text-destructive"}),_.jsx("span",{className:"text-destructive font-bold",children:s("common.retry")})]})]})}),e&&t.length===0?_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[...Array(6)].map((o,a)=>_.jsx("div",{className:"bg-card rounded-2xl h-64 animate-pulse border border-border"},a))}):!e&&t.length===0?_.jsxs(at.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-20 px-4 bg-muted/30 rounded-3xl border border-dashed border-border",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:_.jsx(Mf,{className:"w-8 h-8 text-muted-foreground"})}),_.jsx("h2",{className:"text-2xl font-bold mb-2",children:s("results.noResults")}),_.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:s("results.noResultsSuggestion")})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"flex items-center justify-between mb-2",children:_.jsx("h2",{className:"text-lg font-semibold text-muted-foreground",children:s("results.found",{count:r})})}),_.jsx("div",{className:`grid grid-cols-1 lg:grid-cols-2 gap-8 ${e?"opacity-50 pointer-events-none":""}`,children:t.map((o,a)=>_.jsx(wge,{event:o,index:a},o.id))})]})]})}function bge({currentPage:t,totalPages:e,onPageChange:n,isLoading:r}){if(e<=1)return null;const i=()=>{const s=[];let a=Math.max(1,t-Math.floor(2.5)),l=Math.min(e,a+5-1);l-a+1<5&&(a=Math.max(1,l-5+1));for(let c=a;c<=l;c++)s.push(c);return s};return _.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 mt-12 pb-8",children:[_.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[_.jsx(sn,{variant:"outline",size:"icon",onClick:()=>n(1),disabled:t===1||r,className:"h-9 w-9",children:_.jsx(C$,{className:"h-4 w-4"})}),_.jsx(sn,{variant:"outline",size:"icon",onClick:()=>n(t-1),disabled:t===1||r,className:"h-9 w-9",children:_.jsx(T$,{className:"h-4 w-4"})})]}),_.jsx("div",{className:"flex items-center gap-1",children:i().map(s=>_.jsx(sn,{variant:t===s?"default":"outline",onClick:()=>n(s),disabled:r,className:`h-9 w-9 text-xs font-semibold transition-all duration-200 ${t===s?"shadow-md shadow-primary/20":""}`,children:s},s))}),_.jsxs("div",{className:"flex items-center gap-1 sm:gap-2",children:[_.jsx(sn,{variant:"outline",size:"icon",onClick:()=>n(t+1),disabled:t===e||r,className:"h-9 w-9",children:_.jsx(FU,{className:"h-4 w-4"})}),_.jsx(sn,{variant:"outline",size:"icon",onClick:()=>n(e),disabled:t===e||r,className:"h-9 w-9",children:_.jsx(R$,{className:"h-4 w-4"})})]})]})}function Ege(){const{t}=Tn(),[e,n]=q4(),[r,i]=T.useState([]),[s,o]=T.useState(!1),[a,l]=T.useState(null),[c,u]=T.useState(0),[f,p]=T.useState(1),m=T.useRef(null),y=T.useCallback(()=>({query:e.get("query")||void 0,year:e.get("year")?parseInt(e.get("year")):void 0,category:e.get("category")||void 0,country:e.get("country")||void 0,sortBy:e.get("sortBy")||"date",sortOrder:e.get("sortOrder")||"desc",page:e.get("page")?parseInt(e.get("page")):1,limit:12}),[e]),x=T.useCallback(async M=>{var I,O;const C=new URLSearchParams;Object.entries(M).forEach(([N,k])=>{k!==void 0&&C.set(N,String(k))}),n(C),(I=m.current)==null||I.abort();const P=new AbortController;m.current=P,o(!0);try{const N=await ER(M,{signal:P.signal});if(N.success){if(!N.data||!Array.isArray(N.data.events))throw new Error("Invalid backend response");i(N.data.events),u(N.data.total),p(N.data.totalPages),l(null)}else(O=N.error)!=null&&O.includes("400")?(i([]),u(0),p(1),l(null)):l(N.error||t("common.error"))}catch(N){if(N.name==="AbortError"||N.message==="canceled")return;l(t("common.error")),console.error("Search error:",N)}finally{o(!1)}},[n,t]),v=y(),g=JSON.stringify(v);T.useEffect(()=>((v.year||v.query)&&x(v),()=>{var M;return(M=m.current)==null?void 0:M.abort()}),[g,x]);const w=M=>{x({...v,page:M})},S=v.year||v.query?`${t("search.title")} - ${v.year||""} ${v.query||""}`.trim():t("search.title");return _.jsxs(ui,{children:[_.jsxs(Xf,{children:[_.jsx("title",{children:Bl(S)}),_.jsx("meta",{name:"description",content:ma(`     . ${S}`)}),_.jsx("link",{rel:"canonical",href:uh("/search")}),!v.year&&!v.query&&_.jsx("meta",{name:"robots",content:"noindex"})]}),_.jsxs("section",{className:"py-12 sm:py-20 relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-full pointer-events-none -z-10 opacity-30",children:[_.jsx("div",{className:"absolute top-[-10%] left-[10%] w-[30%] h-[40%] bg-primary/10 rounded-full blur-[120px]"}),_.jsx("div",{className:"absolute bottom-[10%] right-[10%] w-[35%] h-[45%] bg-accent/10 rounded-full blur-[120px]"})]}),_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-6xl mx-auto",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx(at.h1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"font-display text-4xl sm:text-5xl lg:text-6xl font-bold mb-6 tracking-tight",children:_.jsx("span",{className:"text-gradient",children:t("search.title")})}),_.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto leading-relaxed",children:"Discover history, science, and the events that shaped our world."})]}),_.jsx(at.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card/70 backdrop-blur-sm rounded-3xl border border-border/50 p-6 sm:p-10 shadow-2xl shadow-primary/5 mb-16",children:_.jsx(_ge,{onSearch:x,initialValues:v,isLoading:s})}),_.jsx(pC,{mode:"wait",children:v.year||v.query?_.jsxs(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"space-y-12",children:[_.jsx(Sge,{events:r,loading:s,error:a,total:c,onRetry:()=>x(v)}),_.jsx(bge,{currentPage:v.page||1,totalPages:f,onPageChange:w,isLoading:s})]},"results"):_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center py-20 bg-muted/20 rounded-3xl border border-dashed border-border",children:_.jsxs("div",{className:"max-w-md mx-auto",children:[_.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center mx-auto mb-6",children:_.jsx(Km,{className:"w-8 h-8 text-primary"})}),_.jsx("h3",{className:"text-xl font-bold mb-3",children:"Begin Your Journey"}),_.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Enter a year above to explore historical events, scientific breakthroughs, and world-changing discoveries from that era."})]})},"initial")})]})})]})]})}function Mge(){const{t}=Tn(),[e]=q4(),[n,r]=T.useState([]),[i,s]=T.useState(!0),[o,a]=T.useState(0),[l,c]=T.useState(1),[u,f]=T.useState(1),[p,m]=T.useState("date"),[y,x]=T.useState("desc"),v={year:e.get("year")?parseInt(e.get("year")):new Date().getFullYear(),month:e.get("month")?parseInt(e.get("month")):void 0,day:e.get("day")?parseInt(e.get("day")):void 0,category:e.get("category"),country:e.get("country")||void 0,sortBy:p,sortOrder:y,page:l,limit:12};T.useEffect(()=>{(async()=>{s(!0);try{const S=await ER(v);S.success&&(r(S.data.events),a(S.data.total),f(S.data.totalPages))}catch(S){console.error("Error fetching events:",S)}finally{s(!1)}})()},[e,p,y,l]);const g=()=>{const w=[];return v.year&&w.push(`Year: ${v.year}`),v.month&&w.push(`Month: ${t(`month.${v.month}`)}`),v.day&&w.push(`Day: ${v.day}`),v.category&&w.push(`Category: ${t(`category.${v.category}`)}`),v.country&&w.push(`Country: ${v.country}`),w.join("  ")||"All events"};return _.jsx(ui,{children:_.jsx("section",{className:"py-12",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[_.jsxs(gn,{to:"/search",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground mb-4 transition-colors",children:[_.jsx(Ym,{className:"w-4 h-4"}),t("event.backToResults")]}),_.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[_.jsxs("div",{children:[_.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-2",children:t("results.title")}),_.jsx("p",{className:"text-muted-foreground",children:g()}),_.jsx("p",{className:"text-sm text-primary font-medium mt-1",children:t("results.found",{count:o})})]}),_.jsxs("div",{className:"flex items-center gap-3",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx($U,{className:"w-4 h-4 text-muted-foreground"}),_.jsxs("span",{className:"text-sm text-muted-foreground",children:[t("results.sortBy"),":"]})]}),_.jsxs(yp,{value:p,onValueChange:w=>m(w),children:[_.jsx(Xd,{className:"w-[140px]",children:_.jsx(vp,{})}),_.jsxs(qd,{className:"bg-popover",children:[_.jsx(Bs,{value:"date",children:t("results.sortByDate")}),_.jsx(Bs,{value:"importance",children:t("results.sortByImportance")})]})]})]})]})]}),i?_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[...Array(4)].map((w,S)=>_.jsx("div",{className:"bg-card rounded-2xl h-80 animate-pulse border border-border"},S))}):n.length>0?_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:n.map((w,S)=>_.jsx(Eg,{event:w,index:S},w.id))}),u>1&&_.jsxs("div",{className:"flex justify-center gap-2 mt-12",children:[_.jsx(sn,{variant:"outline",disabled:l===1,onClick:()=>c(l-1),children:"Previous"}),_.jsxs("span",{className:"flex items-center px-4 text-sm text-muted-foreground",children:[l," / ",u]}),_.jsx(sn,{variant:"outline",disabled:l===u,onClick:()=>c(l+1),children:"Next"})]})]}):_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-20",children:[_.jsx("div",{className:"w-20 h-20 rounded-full bg-muted flex items-center justify-center mx-auto mb-6",children:_.jsx(Mf,{className:"w-8 h-8 text-muted-foreground"})}),_.jsx("h2",{className:"font-display text-2xl font-semibold mb-2",children:t("results.noResults")}),_.jsx("p",{className:"text-muted-foreground mb-6 max-w-md mx-auto",children:t("results.noResultsSuggestion")}),_.jsx(sn,{asChild:!0,children:_.jsx(gn,{to:"/search",children:t("search.title")})})]})]})})})}function Tge({title:t,imageUrl:e,category:n}){const i=e||(s=>({war:"https://images.unsplash.com/photo-1505373633519-c0ae2f1b490f",science:"https://images.unsplash.com/photo-1507413245164-6160d8298b31",culture:"https://images.unsplash.com/photo-1467307983825-619715426c70",politics:"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620",discovery:"https://images.unsplash.com/photo-1500076656116-558758c991c1",space:"https://images.unsplash.com/photo-1446776811953-b23d57bd21aa",natural_disaster:"https://images.unsplash.com/photo-1541185933-ef5d8ed016c2",medicine:"https://images.unsplash.com/photo-1576091160550-217359f488d5",religion:"https://images.unsplash.com/photo-1438232992991-995b7058bbb3",economics:"https://images.unsplash.com/photo-1611974717482-58a00f9397f0",sports:"https://images.unsplash.com/photo-1461896756913-7597af659228",art:"https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b",literature:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d"}[s]||"https://images.unsplash.com/photo-1451187580459-43490279c0fa")+"?q=80&w=2000&auto=format&fit=crop")(n);return _.jsxs("div",{className:"relative w-full aspect-[21/9] md:aspect-[21/7] overflow-hidden",children:[_.jsx(at.img,{initial:{scale:1.1},animate:{scale:1},transition:{duration:1.5,ease:"easeOut"},src:i,alt:t,className:"w-full h-full object-cover"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/20 to-transparent"}),_.jsx("div",{className:"absolute inset-0 flex flex-col justify-end pb-12 sm:pb-20",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsx(at.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},className:"font-display text-4xl md:text-6xl lg:text-8xl font-bold text-foreground max-w-5xl leading-[1.1] tracking-tight text-start drop-shadow-2xl",children:t})})})]})}function Age({year:t,era:e,category:n,importance:r,country:i}){const{t:s}=Tn(),o={critical:"bg-red-500/10 text-red-500 border-red-500/20",high:"bg-orange-500/10 text-orange-500 border-orange-500/20",medium:"bg-blue-500/10 text-blue-500 border-blue-500/20",low:"bg-slate-500/10 text-slate-500 border-slate-500/20"};return _.jsxs("div",{className:"flex flex-wrap items-center gap-6 py-8 border-b border-border/50 text-muted-foreground",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(Km,{className:"w-5 h-5 text-primary"}),_.jsxs("span",{className:"font-bold text-lg text-foreground",children:[Math.abs(t)," ",e]})]}),_.jsx("div",{className:"h-4 w-px bg-border/50 hidden sm:block"}),_.jsx("div",{className:"flex items-center gap-2",children:_.jsx("span",{className:"text-sm font-bold px-3 py-1 rounded-full bg-primary/10 text-primary uppercase tracking-widest",children:s(`category.${n}`)})}),_.jsx("div",{className:"h-4 w-px bg-border/50 hidden sm:block"}),_.jsxs("div",{className:qt("flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-bold uppercase tracking-tighter",o[r]||o.medium),children:[_.jsx(H$,{className:"w-3 h-3"}),r]}),i&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"h-4 w-px bg-border/50 hidden sm:block"}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(s_,{className:"w-5 h-5 text-primary"}),_.jsx("span",{className:"text-foreground font-medium",children:i})]})]})]})}function Cge({content:t}){return _.jsx("div",{className:"max-w-3xl mx-auto py-16",children:_.jsx("div",{className:"prose prose-xl dark:prose-invert max-w-none text-start text-foreground/90 leading-[1.8] font-serif",children:_.jsx("p",{className:"first-letter:text-7xl first-letter:font-bold first-letter:text-primary first-letter:float-start first-letter:me-4 first-letter:mt-2 first-letter:leading-none whitespace-pre-line",children:t})})})}function Rge({sources:t}){const{t:e}=Tn();return!t||t.length===0?null:_.jsxs("div",{className:"max-w-3xl mx-auto py-12 border-t border-border/50",children:[_.jsxs("h3",{className:"font-display text-2xl font-bold mb-6 flex items-center gap-2",children:[_.jsx(k$,{className:"w-6 h-6 text-primary"}),e("event.sources")]}),_.jsx("ul",{className:"space-y-4",children:t.map((n,r)=>_.jsxs("li",{className:"flex items-start gap-3 group",children:[_.jsx(BU,{className:"w-4 h-4 mt-1.5 text-muted-foreground group-hover:text-primary transition-colors"}),_.jsx("div",{className:"text-start",children:n.url?_.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",className:"text-lg font-medium text-foreground hover:text-primary transition-colors hover:underline",children:n.title}):_.jsx("span",{className:"text-lg font-medium text-foreground",children:n.title})})]},r))}),_.jsx("p",{className:"text-xs text-muted-foreground mt-8 italic text-start",children:e("locale")==="ar"?"   ":"Sources are for documentation purposes only."})]})}function Pge({tags:t}){return!t||t.length===0?null:_.jsx("div",{className:"max-w-3xl mx-auto py-12",children:_.jsxs("div",{className:"flex flex-wrap gap-2",children:[_.jsxs("div",{className:"w-full mb-4 flex items-center gap-2 text-muted-foreground uppercase tracking-widest text-xs font-bold",children:[_.jsx(qU,{className:"w-3 h-3"}),"Tags"]}),t.map(e=>_.jsxs("span",{className:"px-4 py-2 rounded-xl bg-muted/50 border border-border/50 text-sm font-medium text-muted-foreground hover:text-foreground hover:border-border transition-all cursor-default",children:["#",e]},e))]})})}function Nge({event:t}){const{t:e,locale:n}=Tn(),r=o=>({war:"https://images.unsplash.com/photo-1505373633519-c0ae2f1b490f",science:"https://images.unsplash.com/photo-1507413245164-6160d8298b31",culture:"https://images.unsplash.com/photo-1467307983825-619715426c70",politics:"https://images.unsplash.com/photo-1529107386315-e1a2ed48a620",discovery:"https://images.unsplash.com/photo-1500076656116-558758c991c1",space:"https://images.unsplash.com/photo-1446776811953-b23d57bd21aa",natural_disaster:"https://images.unsplash.com/photo-1541185933-ef5d8ed016c2",medicine:"https://images.unsplash.com/photo-1576091160550-217359f488d5",religion:"https://images.unsplash.com/photo-1438232992991-995b7058bbb3",economics:"https://images.unsplash.com/photo-1611974717482-58a00f9397f0",sports:"https://images.unsplash.com/photo-1461896756913-7597af659228",art:"https://images.unsplash.com/photo-1460661419201-fd4cecdf8a8b",literature:"https://images.unsplash.com/photo-1495446815901-a7297e633e8d"}[o]||"https://images.unsplash.com/photo-1451187580459-43490279c0fa")+"?q=80&w=800&auto=format&fit=crop",i=n==="ar"?t.titleAr||t.title:n==="fr"&&t.titleFr||t.title,s=t.imageUrl||r(t.category);return _.jsx(at.div,{whileHover:{y:-4},className:"group",children:_.jsx(gn,{to:`/event/${t.id}`,state:{event:t},className:"block h-full",children:_.jsxs("div",{className:"bg-card rounded-2xl overflow-hidden border border-border/50 hover:border-primary/30 transition-all duration-300 hover:shadow-xl h-full flex flex-col",children:[_.jsx("div",{className:"aspect-[16/10] overflow-hidden bg-muted",children:_.jsx("img",{src:s,alt:Ul(i),className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"})}),_.jsxs("div",{className:"p-4 flex flex-col flex-grow",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsxs("span",{className:"text-primary font-bold text-xs",children:[t.date.year," ",t.date.era]}),_.jsx("span",{className:"w-1 h-1 rounded-full bg-border"}),_.jsx("span",{className:"text-[10px] uppercase tracking-wider font-semibold text-muted-foreground",children:e(`category.${t.category}`)})]}),_.jsx("h4",{className:"font-display font-bold text-lg leading-tight line-clamp-2 text-start group-hover:text-primary transition-colors",children:Ul(i)})]})]})})})}function Ige({currentEvent:t}){const{t:e}=Tn(),[n,r]=T.useState([]),[i,s]=T.useState(!0);return T.useEffect(()=>{(async()=>{s(!0);try{const a=await ER({category:t.category,limit:15});if(a.success){let l=a.data.events;l=l.filter(f=>f.id!==t.id&&!String(f.id).startsWith("wiki-"));const u=l.map(f=>{let p=0;f.category===t.category&&(p+=10),f.date.era===t.date.era&&(p+=5);const m=f.tags.filter(x=>t.tags.includes(x));return p+=m.length*3,Math.abs(f.date.year-t.date.year)<=50&&(p+=2),{event:f,score:p}}).sort((f,p)=>p.score-f.score).map(f=>f.event);r(u.slice(0,6))}}catch(a){console.error("Failed to fetch related events:",a)}finally{s(!1)}})()},[t.id]),i?_.jsxs("div",{className:"max-w-4xl mx-auto py-20 border-t border-border/30",children:[_.jsx("h3",{className:"font-display text-3xl font-bold mb-10 text-start",children:e("locale")==="ar"?"  ":"Related Events"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:[1,2,3].map(o=>_.jsx("div",{className:"aspect-[16/10] bg-muted animate-pulse rounded-2xl"},o))})]}):n.length===0?null:_.jsxs("div",{className:"max-w-4xl mx-auto py-20 border-t border-border/30",children:[_.jsx("h3",{className:"font-display text-3xl font-bold mb-10 text-start",children:e("locale")==="ar"?"  ":"Related Events"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6",children:n.map(o=>_.jsx(Nge,{event:o},o.id))})]})}function Lge(){const{id:t}=UA(),{t:e,locale:n}=Tn(),[r,i]=T.useState(null),[s,o]=T.useState(!0),[a,l]=T.useState(null);if(T.useEffect(()=>{(async()=>{if(t&&!t.startsWith("wiki-")){o(!0),l(null);try{const m=await Spe(t);m.success?i(m.data):l(m.error||"Event not found")}catch(m){console.error("Error fetching event:",m),l("An unexpected error occurred.")}finally{o(!1)}}})()},[t]),t!=null&&t.startsWith("wiki-"))return _.jsx(X4,{to:`/preview/${t}`,replace:!0});if(s)return _.jsx(ui,{children:_.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[_.jsx(jU,{className:"w-12 h-12 text-primary animate-spin"}),_.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:e("common.loading")})]})});if(a||!r)return _.jsx(ui,{children:_.jsxs("div",{className:"container mx-auto px-4 py-20 text-center max-w-lg",children:[_.jsx(VU,{className:"w-16 h-16 text-destructive mx-auto mb-6"}),_.jsx("h1",{className:"text-3xl font-bold mb-4",children:a||"Event not found"}),_.jsx("p",{className:"text-muted-foreground mb-8",children:"The event you are looking for might have been removed or the ID is incorrect."}),_.jsx(sn,{asChild:!0,size:"lg",className:"rounded-xl",children:_.jsx(gn,{to:"/search",children:e("event.backToResults")})})]})});const c=n==="ar"?r.titleAr||r.title:n==="fr"&&r.titleFr||r.title,u=n==="ar"?r.descriptionAr||r.description:n==="fr"&&r.descriptionFr||r.description,f={"@context":"https://schema.org","@type":["Event","Article"],name:c,description:ma(u),image:rT(r.imageUrl),datePublished:r.createdAt,dateModified:r.updatedAt,headline:c,articleBody:u,location:{"@type":"Place",name:r.country||"Global"},startDate:`${r.date.year}-01-01`};return _.jsxs(ui,{children:[_.jsxs(Xf,{children:[_.jsx("title",{children:Bl(`${c} (${r.date.year} ${r.date.era})`)}),_.jsx("meta",{name:"description",content:ma(u)}),_.jsx("link",{rel:"canonical",href:uh(`/event/${t}`)}),_.jsx("meta",{property:"og:title",content:Bl(c)}),_.jsx("meta",{property:"og:description",content:ma(u)}),_.jsx("meta",{property:"og:image",content:rT(r.imageUrl)}),_.jsx("meta",{property:"og:type",content:"article"}),_.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),_.jsx("script",{type:"application/ld+json",children:JSON.stringify(f)})]}),_.jsxs("div",{className:"min-h-screen bg-background",children:[_.jsx("div",{className:"absolute top-24 left-4 z-50 md:fixed",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs(gn,{to:"#",onClick:p=>{p.preventDefault(),window.history.back()},className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-background/80 backdrop-blur-md border border-border/50 text-muted-foreground hover:text-primary hover:border-primary/30 transition-all shadow-lg",children:[_.jsx(Ym,{className:"w-4 h-4 rtl:rotate-180"}),_.jsx("span",{className:"font-medium text-sm",children:e("event.backToResults")})]})})}),_.jsxs("article",{className:"pb-24",children:[_.jsx(Tge,{title:c,imageUrl:r.imageUrl,category:r.category}),_.jsxs("div",{className:"container mx-auto px-4 max-w-4xl",children:[_.jsx(Age,{year:r.date.year,era:r.date.era,category:r.category,importance:r.importance,country:r.country}),_.jsx(Cge,{content:u}),_.jsx(Pge,{tags:r.tags}),_.jsx(Rge,{sources:r.sources}),_.jsx(Ige,{currentEvent:r})]})]})]})]})}function kge(){const{t}=Tn(),[e,n]=T.useState([]),[r,i]=T.useState(!0),[s,o]=T.useState(new Date),a=s.getMonth()+1,l=s.getDate();return T.useEffect(()=>{(async()=>{i(!0);try{const u=await GH(a,l);u.success&&n(u.data.events)}catch(u){console.error("Error fetching events:",u)}finally{i(!1)}})()},[a,l]),_.jsx(ui,{children:_.jsx("section",{className:"py-12",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[_.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-primary/10 text-primary mb-6",children:[_.jsx(Km,{className:"w-5 h-5"}),s.toLocaleDateString()]}),_.jsx("h1",{className:"font-display text-4xl sm:text-5xl font-bold mb-4",children:t("onThisDay.title")}),_.jsx("p",{className:"text-muted-foreground text-lg",children:t("onThisDay.subtitle",{date:s.toLocaleDateString()})})]}),r?_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[...Array(4)].map((c,u)=>_.jsx("div",{className:"bg-card rounded-2xl h-80 animate-pulse border border-border"},u))}):e.length>0?_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((c,u)=>_.jsx(Eg,{event:c,index:u},c.id))}):_.jsx("div",{className:"text-center py-20",children:_.jsx("p",{className:"text-muted-foreground",children:t("results.noResults")})})]})})})}const J6=[{id:"art-01",slug:"top-10-scientific-discoveries-21st-century",title:"Top 10 Scientific Discoveries of the 21st Century: Achievements That Changed Humanity",excerpt:"The 21st century, so far, has marked a historic leap in the trajectory of scientific progress. With astonishing speed, discoveries in just two decades have surpassed what was achieved in previous centuries...",content:`Top 10 Scientific Discoveries of the 21st Century: Achievements That Changed Humanity
Introduction: The Age of Accelerating Knowledge
The 21st century, so far, has marked a historic leap in the trajectory of scientific progress. With astonishing speed, discoveries in just two decades have surpassed what was achieved in previous centuries, driven by advanced computing technologies and unprecedented global scientific collaboration. This article highlights ten of the most important discoveries and achievements that have reshaped our understanding of the universe and life, and will undoubtedly serve as the foundation for centuries to come.
1. Complete Human Genome Sequencing
Fulfilling a lifelong dream: The blueprint of life
Achievement: The Human Genome Project was officially completed in 2003, followed by the first fully gapless genome sequence in 2022 by the "Telomere-to-Telomere" consortium.
Details:
Decoding life: Identified the complete sequence of 3.2 billion DNA base pairs that make up humans.
Evolution of a revolution: Transitioned from a multi-billion-dollar mega-project to being able to sequence an individual genome in hours at minimal cost.
Applications: Opened doors to precision medicine, understanding genetic bases of diseases (like cancer and Alzheimers), developing targeted treatments, and tracing human migration and evolution with unprecedented accuracy.
2. Discovery of Gravitational Waves (Spacetime Ripples)
Listening to the echoes of the Big Bang
Achievement: Gravitational waves were first detected in September 2015 by the LIGO observatory, emitted by colliding black holes.
Details:
Einstein confirmed: Validated a 100-year-old prediction from the theory of general relativity.
A new tool for astronomy: Opened a new window to the universe beyond light and radiation, allowing the study of violent phenomena like neutron star mergers and black holes.
Future discoveries: Paves the way for understanding dark matter, dark energy, and the earliest moments after the Big Bang.
3. CRISPR-Cas9 Gene Editing
Gene scissors: Rewriting the code of life
Achievement: Developed a precise, efficient, and low-cost tool for editing DNA in any living organism.
Details:
How it works: Uses a bacterial immune system to cut DNA at a specific site with extreme accuracy.
Therapeutic revolution: Offers hope for treating genetic diseases (like sickle cell anemia and muscular dystrophy), combating infectious diseases, and developing new cancer therapies.
Ethical challenges: Sparked a global debate on human (especially embryonic) gene editing and the limits of human intervention in evolution.
4. Generative AI and Deep Learning
Machines that learn and create
Achievement: Development of deep learning algorithms that outperform humans in complex tasks (e.g., AlphaFold in protein structure prediction), and the emergence of generative AI (like ChatGPT and DALL-E).
Details:
Qualitative leap: Shifted from rule-based programming to machine learning from massive datasets.
World-changing applications: More accurate medical diagnostics, self-driving cars, drug discovery, real-time translation, and creative tools.
Societal impact: Redefines work and creativity, raising fundamental questions about privacy, algorithmic bias, and the future of employment.
5. mRNA Vaccines
Victory over a pandemic and the dawn of a new medical era
Achievement: Rapid development and approval of Pfizer-BioNTech and Moderna vaccines against COVID-19, the first of their kind.
Details:
Revolutionary mechanism: Teaches the bodys cells to produce a harmless viral protein, triggering a strong immune response without using the actual virus.
Unprecedented speed: Development time shortened from years to months.
Future prospects: Opens the door to vaccines for other diseases (like HIV, malaria, Zika) and personalized cancer therapies.
6. Exploration and Discovery of Mars
The search for life beyond Earth becomes reality
Achievement: A series of successful missions, including NASAs Perseverance rover and Ingenuity helicopter, and Chinas Tianwen-1 rover.
Details:
Evidence of water: Confirmed the presence of liquid water in the past, and possibly subsurface pockets today.
Oxygen production: MOXIE experiment successfully converts Mars CO atmosphere into oxygen.
Sample collection: Ambitious efforts to collect Martian rock samples for return to Earth are underway.
7. Advances in Quantum Physics and Quantum Computing
Approaching the edge of the next technological revolution
Achievement: Quantum supremacy achieved (as announced by Google in 2019), with increasingly powerful quantum computers.
Details:
Leap in computational power: Promises solutions to problems impossible for classical computers (like designing new materials and simulating molecules for drugs).
Ultra-secure networks: Development of theoretically unhackable quantum-encrypted communications.
High-precision sensing: Quantum sensors capable of measuring brain magnetic fields or detecting gravity with extreme accuracy.
8. New Two-Dimensional Materials (e.g., Graphene)
Materials science enters a new dimension
Achievement: Isolation and characterization of graphene (a single layer of carbon) in 2004, awarded the 2010 Nobel Prize in Physics.
Details:
Superb properties: 200 times stronger than steel, more conductive than copper, highly flexible, and transparent.
Expected applications: Ultra-fast charging batteries, flexible displays, water purification filters, highly sensitive biomedical sensors.
Expanding the field: Opened the door to a whole family of 2D materials (like boron nitride), each with unique properties.
9. Neuroscience and Brain Mapping
Charting the human mind
Achievement: Huge advances in imaging techniques (like high-resolution fMRI), and large-scale projects such as the Human Brain Project in the EU.
Details:
Understanding functions: Linking specific brain areas to functions like memory, emotion, and decision-making.
Brain-computer interfaces: Devices enabling paralyzed individuals to control prosthetics or type using thought alone.
Hope for treating disorders: Deeper understanding of neurological and psychiatric diseases (e.g., depression, schizophrenia, Parkinsons) and development of better treatments.
10. Renewable Energy and Storage
Transitioning to a sustainable future
Achievement: Dramatic drop in solar and wind energy costs (over 80% for solar), and advancements in lithium-ion battery technology.
Details:
Economic viability: Renewable energy has become the cheapest source of new power in most regions.
Storage innovations: Solve intermittency issues, paving the way for grids relying mainly on clean sources.
Global impact: Key tool to combat climate change, reduce fossil fuel dependency, and provide energy access to remote communities.
Conclusion: Toward Unlimited Horizons
The 21st century is the century of scientific convergence, where biology meets computing, and physics meets engineering. These ten discoveries are not isolatedthey intersect and reinforce one another, creating a compounding impact that accelerates over time. The accompanying ethical and societal challenges are significant and require serious global dialogue. Nevertheless, these achievements provide us with unprecedented tools to tackle humanitys greatest problems: disease, hunger, climate change, and the final frontiers of space exploration. The journey has just begun, and the most astonishing discoveries may still be hidden in todays laboratories, waiting for their moment to change the world of tomorrow.

This article is original content published on the Eratracker platform.`,coverImageUrl:"/ar1.jfif",publishedAt:new Date().toISOString(),author:{id:"eras-team",name:"Eratracker Team",avatarUrl:"/placeholder-avatar.png"},readingTime:10,tags:["Science","Technology","Innovation"]},{id:"art-02",slug:"3-key-factors-shaped-internet",title:"3 Key Factors That Shaped the Internet as We Know It",excerpt:"Have you ever wondered why the Internet looks the way it does today? Why has it evolved to this level and not more or less? The truth is, the global Internet didnt develop by chance...",content:`3 Key Factors That Shaped the Internet as We Know It

Introduction

Have you ever wondered why the Internet looks the way it does today? Why has it evolved to this level and not more or less? The truth is, the global Internet didnt develop by chanceit was shaped by decisive factors that determined its path. In this article, we will explore the three most influential factors that made the Internet what it is today.

Factor 1: Rapid Technological Development
From basic protocols to complex infrastructures

Without successive technological advancements, the Internet would still be confined to a narrow scope. Here are the key technological milestones:

TCP/IP Protocol (1970s1980s):

Laid the foundation for communication between different networks

Enabled the Internet to expand without centralized control

Still serves as the backbone of the Internet today

Invention of the Web (World Wide Web) in 1989:

Developed by Tim Berners-Lee at CERN

Transformed the Internet from an academic tool into a visual medium accessible to everyone

Made information easily accessible through browsers

Expansion of Infrastructure:

Undersea fiber-optic cables

Spread of Wi-Fi and 4G/5G technologies

Large-scale data centers (the cloud)

Why hasnt it evolved further technologically?

Despite tremendous achievements, technical development faced obstacles such as:

High costs of global infrastructure

Physical limits on data transmission speeds

Compatibility challenges between old and new systems

Factor 2: Economic Forces and Investment
From a government project to a trillion-dollar market

The Internet transformed from a government-funded research project into a driver of the global economy. This transformation was shaped by:

Massive investments in the 1990s:

The dot-com boom attracted huge investments

Creation of new business models (advertising, e-commerce)

Funding global infrastructure

Globalization of major tech companies:

Google, Amazon, Facebook, Apple (GAFAM)

Dominance over core services

Investments in innovation and acquisitions

Attention economy and the advertising model:

Free services in exchange for personal data

Turning users into products via their data

Funding continuous service development

Economic obstacles that limited growth:

Dot-com bubble burst in 2000 slowed investments

Market monopolies reduced competition

Difficulty monetizing certain services (like wikis)

Factor 3: Social and Political Factors
How society interacts with technology

Technological development alone was not enoughhumans and their motivations played a decisive role:

Rapid social adoption:

Internet shifted from academic luxury to household necessity

Social media made it part of daily life

Mobile phones made it constantly accessible

Governance and regulation:

Conflict between open models and government control

Laws like Europes GDPR influenced design

Censorship in some countries shaped a fragmented Internet

Security and privacy:

Rising cyberattacks prioritized security development

Balancing security with ease of use remains a challenge

Privacy scandals (e.g., Cambridge Analytica) changed policies

Why hasnt it evolved further socially?

Resistance to change from older generations

The digital divide between countries and communities

Security concerns limited full openness

Conclusion: Todays InternetA Complex Balance

Todays Internet is the result of a delicate balance between:

Available technical capabilities

Driving economic interests

Social and political pressures

If any of these factors had been different, the Internet could have been more or less developedperhaps more technologically advanced but less widespread, or more open but less secure.

The intriguing question now is: What are the three factors that will shape the Internets future in the next decade? Will it be artificial intelligence, the metaverse, new regulations, or something we havent discovered yet?

Share your thoughts in the comments: What do you think could have changed the Internets shape if it had been presentor absent?

This article is original content published on the Eratracker platform.`,coverImageUrl:"/ar2.jfif",publishedAt:new Date().toISOString(),author:{id:"eras-team",name:"Eratracker Team",avatarUrl:"/placeholder-avatar.png"},readingTime:8,tags:["Internet","History","Technology"]},{id:"art-03",slug:"dot-com-bubble-lessons",title:"The Dot-Com Bubble: Lessons from a Digital Collapse",excerpt:"ter than rapid, unplanned growth. Focus on the customer, not just on attracting investment. True innovation takes time and patience...",content:`ter than rapid, unplanned growth

Focus on the customer, not just on attracting investment

True innovation takes time and patience

For the Economy:

No economic miracle: Market fundamentals remain

Economic cycles are inevitable

Regulation is important, but must be balanced

The Positive Remnants: Not All Was Lost

Despite huge losses, the dot-com bubble left some lasting benefits:

Internet infrastructure: Advanced networks and undersea cables still in use today

Technological innovations: Some tech developed during this period paved the way for later services

Surviving companies: Some became giants:

Amazon: Stock fell from $106 to $7, then became an empire

eBay: Survived and continued growing

Google: Founded in 1998, focused on organic and sustainable growth

Cultural shift in business: Startups became more realistic, and an entire generation of entrepreneurs learned valuable lessons

Conclusion: Could the Bubble Happen Again?

Today, more than two decades later, we ask: Could the dot-com bubble repeat?

Financial markets do repeat patterns, though in different forms:

Cryptocurrency bubbles (20212022) share some similarities with the dot-com bubble

Unrealistic valuations of some tech companies remind us of the past

But today, investors are more cautious and informed

Ongoing Lessons:

History repeats itself, but not exactly the same way

Fundamental analysis remains crucial despite innovations

Profitability is a standard that cannot be ignored in the long run

Summary: The dot-com bubble was a painful but necessary chapter in tech history. It taught us that real innovation requires a solid foundation, and digital dreams must be built on economic reality. Perhaps the bubbles burst was the shock the business world needed to mature and build a more stable and sustainable digital future.

And the question for you: Do you see any parallels between the dot-com bubble and any current investment phenomenon? Share your thoughts in the comments.

This article is original content published on the Eratracker platform.`,coverImageUrl:"/ar3.jfif",publishedAt:new Date().toISOString(),author:{id:"eras-team",name:"Eratracker Team",avatarUrl:"/placeholder-avatar.png"},readingTime:7,tags:["Economics","History","Technology"]},{id:"art-04",slug:"world-without-internet",title:"A World Without the Internet: Returning to the Roots in an Age of Digital Disconnection",excerpt:"Imagine, for a moment, waking up in the morning with no smartphone glowing beside your bed, no email awaiting your reply, no endless stream of notifications and breaking news...",content:`A World Without the Internet: Returning to the Roots in an Age of Digital Disconnection

Imagine, for a moment, waking up in the morning with no smartphone glowing beside your bed, no email awaiting your reply, no endless stream of notifications and breaking news. The world suddenly falls digitally silent. This scenario, which may feel nightmarish to many, carries a profound paradox: by disconnecting from the web, we might discover that we are actually returning to more authentic forms of communication, productivity, and perception.

In a world without the Internet, paper maps would return to our bags, and we would rediscover the art of asking strangers for directionsan invitation to brief, human encounters. Libraries would transform from quiet spaces into vibrant centers of knowledge, where the rustle of pages is heard and the scent of old paper fills the air. Searching for information would no longer be a single click, but a journey through shelves of books, teaching us patience and depth of understanding instead of speed and superficiality.

The economy would undergo a radical transformation. Local markets would flourish as consumers return to neighborhood shops, strengthening local economies and reducing carbon footprints. Work would move back to real offices and factories, reviving face-to-face human interaction and restoring clear boundaries between professional and personal life. Some jobs would disappear, but others would emergeones rooted in craftsmanship, manual skills, and deep, focused thinking.

Socially, the quality of relationships would shift. Families and friends would gather without screens mediating their attention, bringing back direct conversation and full presence. Loneliness might increase for some, but local communities would grow stronger as substitutes for virtual communities. Media would return to its roots: carefully edited newspapers and scheduled news broadcasts, reducing the spread of misinformation and the sway of instant public opinion.

Yet this world would not be entirely idyllic. Essential services tied to the Internetsuch as banking, telemedicine, and air and maritime navigation systemswould face temporary chaos. The rapid exchange of scientific and academic research would slow dramatically. The voices of marginalized groups and protesters, who found powerful platforms online, might once again be muted.

Perhaps the greatest lesson of this thought experiment is balance. The Internet has given us immense capabilities, but it has also stolen our mental calm, the emptiness of the moment, and the depth of our relationship with the physical world. A world without the Internet is not a call to abandon technology, but a reminder that we should be masters of our tools, not their servants. A measure of forced digital disconnection might restore parts of our humanity: the ability to wait, to focus, to experience creative boredom, and to truly see those in front of usnot as digital images, but as flesh-and-blood human beings.

In the end, the idea is not to reject progress, but to remember that the beating heart of civilization has always lived in the hand that shakes another, the eyes that meet, and the mind that reflects deeplyaway from the noise of the virtual world we have created. Perhaps an Internet outage, even if only imagined, is the bell that reminds us that real connection often begins when we dare to disconnect.

This article is original content published on the Eratracker platform.`,coverImageUrl:"/ar4.jfif",publishedAt:new Date().toISOString(),author:{id:"eras-team",name:"Eratracker Team",avatarUrl:"/placeholder-avatar.png"},readingTime:6,tags:["Society","Technology","Philosophy"]},{id:"art-05",slug:"wars-that-shaped-history",title:"Wars That Shaped Human History",excerpt:"The Roman Republic vs. Carthage. Number of troops: Hundreds of thousands on both sides. Deaths: Over 1.5 million people...",content:`The Roman Republic vs. Carthage

Number of troops: Hundreds of thousands on both sides

Deaths: Over 1.5 million people

Advanced weapons: Boarding devices on Roman warships; advanced Carthaginian naval vessels

Strengths and weaknesses: Carthaginian naval superiority; Roman land power and determination

Winner: Rome

Impact on the world: Roman dominance of the Mediterranean, foundation of the Roman Empire, spread of Roman civilization

If Carthage had won: A Phoenician-Carthaginian civilization might have dominated the Mediterranean, altering Europes development.

7. The Hundred Years War (13371453)

Warring parties:
England vs. France

Number of troops: Variable; major battles involved 10,00030,000 fighters per side

Deaths: About 3.5 million people

Advanced weapons: English longbow; later French gunpowder artillery

Strengths and weaknesses: Early English tactical superiority; French resilience and recovery

Winner: France

Impact on the world: Formation of French and English national identities, end of traditional knighthood, development of international diplomacy

If England had won: Large parts of France might have remained under English control, deeply affecting both nations development.

8. The American War of Independence (17751783)

Warring parties:
American colonies (supported by France, Spain, and the Netherlands) vs. Great Britain

Number of troops: About 80,000 Americans and 50,000 French vs. 48,000 British

Deaths: Around 50,000 people

Advanced weapons: More accurate rifles, unconventional warfare tactics

Strengths and weaknesses: Local knowledge and popular support for Americans; naval superiority and discipline for Britain

Winner: The American colonies

Impact on the world: Creation of the first modern democratic republic, inspiration for global revolutions, beginning of the decline of the British Empire

If Britain had won: Colonial independence would have been delayed, and the modern democratic model might not have emerged as we know it.

9. The Crimean War (18531856)

Warring parties:
The Russian Empire vs. a coalition (Ottoman Empire, Britain, France, Sardinia)

Number of troops: About 1.2 million soldiers

Deaths: Around 750,000 people (mostly due to disease)

Advanced weapons: Rifled firearms, steam-powered warships, field telegraph

Strengths and weaknesses: Russias massive army; technological and logistical superiority of the coalition

Winner: The anti-Russian coalition

Impact on the world: Beginning of Ottoman decline, shift in European power balance, reforms in the Russian military

If Russia had won: Russia might have controlled Ottoman sea routes and become the dominant power in Eastern Europe and the Near East.

10. The American Civil War (18611865)

Warring parties:
The Union (Northern states) vs. the Confederacy (Southern states)

Number of troops: 2.2 million (Union) vs. 1.05 million (Confederacy)

Deaths: About 750,000 people

Advanced weapons: Rifled firearms, ironclad ships, early submarines, telegraph

Strengths and weaknesses: Industrial and population superiority of the Union; skilled leadership and familiar terrain for the Confederacy

Winner: The Union

Impact on the world: Abolition of slavery in the United States, reinforcement of federal authority, acceleration of American industrialization

If the Confederacy had won: Slavery would have continued, the U.S. would have split into two nations, and global power balances in the 20th century would have been very different.

Conclusion

These ten wars shaped the course of human history and reshaped political borders, social systems, and global cultures. Each represented a turning point where history could have taken a completely different path. Studying these conflicts not only helps us understand our past, but also offers valuable lessons about the nature of human conflict and the consequences of political and military decisions. The balance between military power, strategic leadership, and economic resources has always been the decisive factor in the outcomes of these pivotal wars.

This article is original content published on the Eratracker platform.`,coverImageUrl:"/ar5.jfif",publishedAt:new Date().toISOString(),author:{id:"eras-team",name:"Eratracker Team",avatarUrl:"/placeholder-avatar.png"},readingTime:9,tags:["History","War","Politics"]},{id:"art-06",slug:"industrial-revolution-engine-modern-civilization",title:"The Industrial Revolution: The Engine of Modern Civilization",excerpt:"Let's be honest, the world moves fast. We order something online and it arrives the next day. We flick a switch and light floods a room. But this instant, connected, manufactured world wasn't born overnight...",content:`The Great Engine of Change: Unpacking the Industrial Revolution

Let's be honest, the world moves fast. We order something online and it arrives the next day. We flick a switch and light floods a room. But this instant, connected, manufactured world wasn't born overnight. Its blueprint was drawn in the soot and steam of a transformative period we now call the Industrial Revolution. Starting in late 18th-century Britain and rippling across the globe, this wasn't just a change in technology; it was a total rewiring of human society. Let's break down how it happened, why it mattered, and the incredibleand often complicatedlegacy it left behind.
What Was the Industrial Revolution?

In a nutshell, it was the shift from an agrarian, handicraft economy to one dominated by machine manufacturing, industry, and mass production. Think of it as humanity's leap from the workshop to the factory, from muscle power to mechanical power.

    Timeframe: Roughly 1760 to 1840 (with a "Second" wave following in the late 19th century).

    Epicenter: It began in Great Britain, before spreading to continental Europe, North America, and eventually the world.

The Spark: Why Did It Start There and Then?

You don't get a revolution without a perfect storm of conditions. Britain had the winning ticket:

    Agricultural Innovations: First, the Enclosure Movement and new farming techniques like crop rotation meant fewer people were needed to work the land. This created a surplus of laborpeople who would soon flock to cities looking for work.

    Capital and Commerce: Britain had grown wealthy from its colonial trade and had a well-developed banking system. There was money to invest in risky, new ventures.

    Natural Resources: Sitting right under Britain's feet were the coal and iron ore needed to fuel and build machines. Coal was the new "food" for industry.

    Political Stability: Unlike many European nations, Britain had a relatively stable government and strong property rights, encouraging business investment.

    A Culture of Innovation: The Scientific Revolution and the Enlightenment had fostered a mindset that valued practical invention and problem-solving.

The Engine Room: Key Inventions and Achievements

This is where theory met metal. A series of breakthroughs in key industries created a domino effect of progress.

1. The Textile Industry: Where It All Spun Into Action
This was the revolution's first frontier. Handlooms in cottages just couldn't keep up.

    Flying Shuttle (John Kay): Sped up weaving.

    Spinning Jenny (James Hargreaves): Allowed one worker to spin multiple threads at once.

    Water Frame (Richard Arkwright): Used water power for stronger thread, leading to the first true factories built near rivers.

    The Climax: The Steam Engine (James Watt's improvement): Freed factories from riverbanks. Now, they could be built in cities, powered by coal.

2. Power and Iron: The Muscle and Bones

    Steam Power: Watt's efficient steam engine (1769) became the universal powerhouse for factories, mines, and later, locomotives and ships.

    Iron Production: The Bessemer Process (later in the 1850s) made mass-producing cheap steel possible, enabling railways, skyscrapers, and heavier machinery.

3. Transportation: Shrinking the World
You can make a lot of goods, but you need to move them.

    Canals: Man-made waterways boomed first, moving heavy goods cheaply.

    Railways: The steam locomotive (George Stephenson's "Rocket") truly revolutionized travel and trade. It created national markets, standardized time, and changed the landscape.

    Steamships: Eventually conquered the seas, shrinking global distances and supercharging imperialism.

The Double-Edged Sword: Consequences and Outcomes

The Industrial Revolution's legacy is a tapestry of incredible progress woven with deep human cost.

The Monumental Achievements & Goals Realized:

    Unprecedented Economic Growth: For the first time, sustained increases in average income became possible. The standard of living, in the long run, rose dramatically.

    Mass Production of Goods: Everyday items like clothing, tools, and cookware became affordable and accessible to the masses, not just the elite.

    Technological Triumph: It solved age-old problems of production and distance, laying the groundwork for every modern convenience we have today.

    Urbanization & Global Trade: Cities became the engines of culture and commerce. A truly global, interconnected economy began.

The Human and Social Cost:

    Appalling Working Conditions: Factories were dangerous, noisy, and filthy. Workers, including children as young as 5 or 6, labored for 14-16 hours a day.

    The Rise of Slums: Rapid, unplanned urbanization led to overcrowded, unsanitary housing with no clean water or sewage systems. Cholera and typhus were rampant.

    Environmental Degradation: Skies filled with coal smoke, rivers were polluted with chemical runoff, and landscapes were scarred by minesthe birth of major environmental problems.

    Social Strain & New Ideologies: The stark divide between a new wealthy industrialist class (the "bourgeoisie") and a vast working class (the "proletariat") led to social unrest and the birth of new political ideas, most notably socialism and communism (as critiqued by Karl Marx).

Conclusion: The Foundation of Our Modern World

The Industrial Revolution was messy, brutal, and glorious all at once. It wasn't a single event but a cascade of changes that set the tempo for modern life. It freed humanity from many of the constraints of nature and agriculture but imposed new constraints of its owneconomic, temporal, and social.

We are still living with its consequences, from climate change rooted in fossil fuel dependence to the very structure of our 9-to-5 workdays. To understand the modern worldits wealth, its inequalities, its pace, and its problemsyou have to start in the steam-clouded, iron-clanging, ambitious, and arduous world of the Industrial Revolution. It was, for better and worse, the furnace in which our present was forged.

This article is original content published on the Eratracker platform.`,coverImageUrl:"/ar6.jfif",publishedAt:new Date().toISOString(),author:{id:"eras-team",name:"Eratracker Team",avatarUrl:"/placeholder-avatar.png"},readingTime:12,tags:["History","Industry","Economy"]},{id:"art-07",slug:"types-of-fuel-and-energy",title:"Types of Fuel and Energy: Benefits, Drawbacks, and Their Long-Term Impact",excerpt:"In an era where every aspect of life depends on energy, energy sources range from traditional to renewable, with varying environmental and economic impacts. This article aims to review the main types of fuel and energy...",content:`Types of Fuel and Energy: Benefits, Drawbacks, and Their Long-Term Impact on the World and Environment
Introduction

In an era where every aspect of life depends on energy, energy sources range from traditional to renewable, with varying environmental and economic impacts. This article aims to review the main types of fuel and energy, analyze their advantages and disadvantages, and explore their long-term effects on the world and the environment.
1. Fossil Fuels

Fossil fuels are the traditional energy source, including oil, coal, and natural gas, formed from the decomposed remains of living organisms underground over millions of years.
1.1 Types of Fossil Fuels

    Oil (Petroleum): A liquid used to produce fuel and plastics.

    Coal: A solid used in electricity generation and heavy industries.

    Natural Gas: A gaseous fuel used for heating and electricity generation.

1.2 Benefits of Fossil Fuels

    High Energy Production Efficiency: Provide high energy density compared to other sources.

    Existing Infrastructure: Well-developed global distribution and refining networks.

    Job Creation: The sector employs millions of workers worldwide.

    Supply Reliability: Can be stored and used on demand.

1.3 Drawbacks of Fossil Fuels

    Greenhouse Gas Emissions: Major contributor to climate change.

    Air Pollution: Emissions of sulfur oxides, nitrogen oxides, and fine particulate matter.

    Resource Depletion: Non-renewable resources will be exhausted in the long term.

    Environmental Disasters: Oil spills threaten marine ecosystems.

1.4 Long-Term Impact on the World and Environment

    Climate Change: Rising temperatures, melting ice, and sea-level rise.

    Deteriorating Air Quality: Increased respiratory and cardiovascular diseases.

    Geopolitical Instability: Conflicts over remaining resources.

    Long-Term Pollution: Pollutants persist in the environment for decades.

2. Nuclear Energy

Nuclear energy is produced from the fission of heavy elements such as uranium in nuclear reactors.
2.1 Benefits of Nuclear Energy

    Low Carbon Emissions: Does not produce greenhouse gases during operation.

    High Production Efficiency: A small amount of fuel produces massive energy.

    Stable Supply: Reactors can operate 24/7.

2.2 Drawbacks of Nuclear Energy

    Radioactive Waste: Requires safe storage for thousands of years.

    Accident Risks: Disasters like Chernobyl and Fukushima.

    High Costs: Expensive construction and maintenance.

    Nuclear Proliferation: Risk of materials being used in weapons.

2.3 Long-Term Impact

    Accumulation of Radioactive Waste: A burden for future generations.

    Ecosystem Changes: Radiation leaks cause mutations in living organisms.

    Depletion of Uranium Resources: A finite resource in the long term.

3. Renewable Energy

Natural sources that are continuously replenished, such as sunlight, wind, and water.
3.1 Types of Renewable Energy

    Solar Energy: Converting sunlight into electricity via solar cells.

    Wind Energy: Using turbines to convert wind motion into energy.

    Hydropower: Generating electricity from falling water.

    Biomass Energy: Using organic materials and waste.

    Geothermal Energy: Harnessing heat from within the Earth.

3.2 Benefits of Renewable Energy

    Low Emissions: Do not produce greenhouse gases during operation.

    Inexhaustible Resources: Available as long as natural phenomena continue.

    Geographical Diversity: Can be implemented in most regions worldwide.

    New Job Creation: In manufacturing, installation, and maintenance sectors.

3.3 Challenges of Renewable Energy

    Intermittent Supply: Dependent on weather conditions (sun, wind).

    High Initial Costs: Significant investments in infrastructure.

    Land Requirements: Sometimes require large areas.

    Limited Environmental Impacts: Such as the effects of dams on river ecosystems.

3.4 Long-Term Impact

    Mitigating Climate Change: Reducing reliance on fossil fuels.

    Improving Air Quality: Decreasing pollution-related diseases.

    Energy Sustainability: Ensuring supply for future generations.

    Decentralized Production: Increasing independence for local communities.

4. Comparison and Future Recommendations
4.1 Comprehensive Comparison
Source Carbon Emissions Long-Term Availability Relative Cost Environmental Risks
Fossil Fuels Very High Limited (50-100 years) Currently Low Very High
Nuclear Energy Low Limited (Uranium) High Medium-High
Renewable Energy Nearly Zero Unlimited Decreasing Low
4.2 Recommendations for Sustainable Energy

    Gradual Transition: Increase the share of renewable energy to 50% by 2040.

    Investment in R&D: Improve storage efficiency and reduce costs.

    Supportive Policies: Tax incentives and subsidies for clean energy.

    Public Awareness: Educate communities about rational consumption.

    International Cooperation: Exchange technology and expertise between countries.

Conclusion

Choosing energy sources is a major challenge for humanity in the 21st century. While fossil fuels provided the energy needed for the industrial revolution, their environmental cost has become unsustainable. Nuclear energy offers a medium-term solution but with security challenges, while renewable energy offers the greatest hope for a sustainable future, despite current technical challenges. The future requires a balanced energy mix, with an accelerated transition to cleaner sources to ensure a livable world for future generations.

This article is original content published on the Eratracker platform.`,coverImageUrl:"/ar7.jfif",publishedAt:new Date().toISOString(),author:{id:"eras-team",name:"Eratracker Team",avatarUrl:"/placeholder-avatar.png"},readingTime:11,tags:["Energy","Environment","Future"]}];function Dge(){const{t}=Tn(),[e,n]=T.useState([]),[r,i]=T.useState(!0);return T.useEffect(()=>{const s=setTimeout(()=>{n(J6),i(!1)},500);return()=>clearTimeout(s)},[]),_.jsx(ui,{children:_.jsx("section",{className:"py-12",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsx(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:_.jsx("h1",{className:"font-display text-4xl sm:text-5xl font-bold mb-4",children:t("articles.title")})}),r?_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[...Array(4)].map((s,o)=>_.jsx("div",{className:"bg-card rounded-2xl h-80 animate-pulse border border-border"},o))}):_.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:e.map((s,o)=>_.jsx(bH,{article:s,index:o},s.id))})]})})})}function Oge(){const{slug:t}=UA(),{t:e,locale:n}=Tn(),[r,i]=T.useState(null),[s,o]=T.useState(!0);if(T.useEffect(()=>{const c=setTimeout(()=>{const u=J6.find(f=>f.slug===t);i(u||null),o(!1)},500);return()=>clearTimeout(c)},[t]),s)return _.jsx(ui,{children:_.jsx("div",{className:"container mx-auto px-4 py-12",children:_.jsxs("div",{className:"animate-pulse space-y-6 max-w-3xl mx-auto",children:[_.jsx("div",{className:"h-8 w-32 bg-muted rounded"}),_.jsx("div",{className:"aspect-video bg-muted rounded-2xl"}),_.jsx("div",{className:"h-12 w-3/4 bg-muted rounded"})]})})});if(!r)return _.jsx(ui,{children:_.jsxs("div",{className:"container mx-auto px-4 py-20 text-center",children:[_.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Article not found"}),_.jsx(sn,{asChild:!0,children:_.jsx(gn,{to:"/articles",children:e("articles.title")})})]})});const a=n==="ar"&&r.titleAr?r.titleAr:n==="fr"&&r.titleFr?r.titleFr:r.title,l=n==="ar"&&r.contentAr?r.contentAr:n==="fr"&&r.contentFr?r.contentFr:r.content;return _.jsx(ui,{children:_.jsx("article",{className:"py-12",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsx(at.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"mb-8",children:_.jsxs(gn,{to:"/articles",className:"inline-flex items-center gap-2 text-muted-foreground hover:text-foreground",children:[_.jsx(Ym,{className:"w-4 h-4"}),"Back to Articles"]})}),_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsx(at.img,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},src:r.coverImageUrl,alt:a,className:"w-full aspect-video object-cover rounded-2xl mb-8"}),_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:[_.jsx("h1",{className:"font-display text-3xl sm:text-4xl font-bold mb-6",children:a}),_.jsxs("div",{className:"flex items-center gap-4 mb-8 pb-8 border-b border-border",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[r.author.id==="eras-team"?_.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-accent flex items-center justify-center border border-border",children:_.jsx("span",{className:"text-primary-foreground font-display font-bold text-lg",children:"E"})}):r.author.avatarUrl&&_.jsx("img",{src:r.author.avatarUrl,alt:r.author.name,className:"w-10 h-10 rounded-full"}),_.jsx("span",{className:"text-muted-foreground",children:r.author.name})]}),_.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[_.jsx(UU,{className:"w-4 h-4"}),_.jsxs("span",{children:[r.readingTime," min"]})]})]}),_.jsxs("div",{className:"prose prose-lg max-w-none text-foreground",children:[_.jsx("p",{className:"text-lg leading-relaxed whitespace-pre-wrap font-sans",children:l}),_.jsx("div",{className:"mt-12 pt-8 border-t border-border text-center text-muted-foreground text-sm italic",children:"This article is original content published on the ErasTracker platform."})]})]})]})]})})})}function Fge(){return _.jsxs("section",{className:"relative h-[80vh] flex items-center justify-center overflow-hidden bg-background",children:[_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[50%] h-[50%] bg-primary/5 rounded-full blur-[120px]"}),_.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[50%] h-[50%] bg-accent/5 rounded-full blur-[120px]"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-background/90 to-background"})]}),_.jsx("div",{className:"container mx-auto px-4 relative z-10 text-center",children:_.jsxs(at.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto",children:[_.jsx(at.span,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"inline-block px-4 py-1.5 rounded-full bg-primary/10 text-primary text-sm font-medium mb-8",children:'       EraTracker      .         ""       .'}),_.jsxs("h1",{className:"font-display text-5xl md:text-7xl font-bold mb-8 tracking-tight leading-tight",children:["    ",_.jsx("br",{}),_.jsx("span",{className:"text-gradient",children:"  "})]}),_.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground leading-relaxed max-w-2xl mx-auto",children:"                 ."})]})}),_.jsx(at.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"absolute bottom-12 left-1/2 -translate-x-1/2",children:_.jsx("div",{className:"w-px h-24 bg-gradient-to-b from-primary to-transparent opacity-30"})})]})}function Uge(){return _.jsx("section",{className:"py-24 bg-background border-y border-border/50",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-16 items-start",children:[_.jsxs(at.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"space-y-6 text-start",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-primary/10 flex items-center justify-center text-primary mb-6",children:_.jsx($$,{className:"w-6 h-6"})}),_.jsx("h2",{className:"font-display text-4xl font-bold tracking-tight",children:""}),_.jsxs("div",{className:"space-y-4 text-lg text-muted-foreground leading-relaxed",children:[_.jsx("p",{children:'       EraTracker      .         ""       .'}),_.jsx("p",{children:"                        ."})]})]}),_.jsxs(at.div,{initial:{opacity:0,x:20},whileInView:{opacity:1,x:0},viewport:{once:!0},className:"space-y-6 text-start",children:[_.jsx("div",{className:"w-12 h-12 rounded-2xl bg-accent/10 flex items-center justify-center text-accent mb-6",children:_.jsx(N$,{className:"w-6 h-6"})}),_.jsx("h2",{className:"font-display text-4xl font-bold tracking-tight",children:""}),_.jsxs("div",{className:"space-y-4 text-lg text-muted-foreground leading-relaxed",children:[_.jsx("p",{children:"                                  ."}),_.jsx("p",{children:"                   ."})]})]})]})})})}const Bge=[{title:"  ",description:"  EraTracker              .",icon:W$,color:"text-primary",bg:"bg-primary/10"},{title:"   ",description:"               .",icon:O$,color:"text-accent",bg:"bg-accent/10"},{title:"  ",description:"               .",icon:zU,color:"text-blue-500",bg:"bg-blue-500/10"},{title:"  ",description:"        Wikipedia        .",icon:M$,color:"text-green-500",bg:"bg-green-500/10"}];function zge(){return _.jsx("section",{className:"py-24 bg-muted/30",children:_.jsxs("div",{className:"container mx-auto px-4",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsx("h2",{className:"font-display text-4xl font-bold mb-4 tracking-tight",children:"   EraTracker"}),_.jsx("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"              ."})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:Bge.map((t,e)=>_.jsxs(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:e*.1},className:"bg-card p-8 rounded-3xl border border-border/50 hover:border-primary/30 transition-all duration-300 group shadow-sm hover:shadow-xl",children:[_.jsx("div",{className:`w-12 h-12 rounded-2xl ${t.bg} ${t.color} flex items-center justify-center mb-6 group-hover:scale-110 transition-transform duration-300`,children:_.jsx(t.icon,{className:"w-6 h-6"})}),_.jsx("h3",{className:"font-display text-xl font-bold mb-3 text-start",children:t.title}),_.jsx("p",{className:"text-muted-foreground leading-relaxed text-start text-sm",children:t.description})]},e))})]})})}function Vge(){return _.jsx("section",{className:"py-24 bg-background",children:_.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:_.jsxs(at.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"bg-primary/5 rounded-[3rem] p-10 md:p-16 border border-primary/10 relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/5 rounded-full blur-3xl -mr-32 -mt-32"}),_.jsxs("div",{className:"relative z-10",children:[_.jsxs("div",{className:"flex items-center gap-3 text-primary mb-8 justify-center",children:[_.jsx(HU,{className:"w-5 h-5"}),_.jsx("span",{className:"text-sm font-bold uppercase tracking-widest",children:"  "})]}),_.jsx("h2",{className:"font-display text-4xl font-bold mb-10 text-center tracking-tight",children:"   "}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2 text-start",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:_.jsx("span",{className:"text-primary font-bold text-sm",children:"1"})}),_.jsx("h3",{className:"font-bold text-xl",children:" "})]}),_.jsx("p",{className:"text-muted-foreground leading-relaxed text-start",children:"     EraTracker                    ."})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center gap-3 mb-2 text-start",children:[_.jsx("div",{className:"w-8 h-8 rounded-full bg-accent/20 flex items-center justify-center",children:_.jsx("span",{className:"text-accent font-bold text-sm",children:"2"})}),_.jsx("h3",{className:"font-bold text-xl",children:" "})]}),_.jsx("p",{className:"text-muted-foreground leading-relaxed text-start",children:"       .                    ."})]})]}),_.jsxs("div",{className:"mt-12 pt-12 border-t border-primary/10 flex flex-col items-center gap-6",children:[_.jsxs("div",{className:"flex items-center gap-4 text-primary/70",children:[_.jsx(i_,{className:"w-6 h-6"}),_.jsx("span",{className:"font-medium",children:"     "})]}),_.jsx("p",{className:"text-sm text-muted-foreground max-w-xl text-center",children:"      .           ."})]})]})]})})})}function jge(){return _.jsx("section",{className:"py-24 bg-muted/10",children:_.jsx("div",{className:"container mx-auto px-4 max-w-3xl text-start",children:_.jsxs(at.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"space-y-12",children:[_.jsxs("div",{className:"flex items-center gap-4 text-primary",children:[_.jsx(XU,{className:"w-6 h-6 animate-pulse"}),_.jsx("h2",{className:"font-display text-3xl font-bold tracking-tight",children:" "})]}),_.jsxs("div",{className:"prose prose-xl dark:prose-invert max-w-none text-foreground/80 leading-relaxed font-serif",children:[_.jsx("p",{className:"first-letter:text-6xl first-letter:font-bold first-letter:text-primary first-letter:float-start first-letter:me-4 first-letter:mt-2 first-letter:leading-none",children:'   EraTracker     ""      .              .'}),_.jsx("p",{children:"         .                     ."}),_.jsx("p",{children:"       :     .                      ."})]})]})})})}function Hge(){return _.jsxs("section",{className:"py-32 bg-background relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-30",children:_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-primary/20 rounded-full blur-[120px]"})}),_.jsx("div",{className:"container mx-auto px-4 relative z-10",children:_.jsxs(at.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},viewport:{once:!0},className:"max-w-3xl mx-auto text-center space-y-10",children:[_.jsx("h2",{className:"font-display text-4xl md:text-5xl font-bold tracking-tight leading-tight",children:"    "}),_.jsx("p",{className:"text-xl text-muted-foreground max-w-xl mx-auto leading-relaxed",children:"         ."}),_.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-6 pt-4",children:[_.jsx(sn,{size:"lg",asChild:!0,className:"h-14 px-10 rounded-2xl text-lg gap-3 shadow-xl shadow-primary/20 group",children:_.jsxs(gn,{to:"/results?year=2024",children:[" ",_.jsx(Ym,{className:"w-5 h-5 rtl:rotate-180 group-hover:-translate-x-1 transition-transform"})]})}),_.jsx(sn,{size:"lg",variant:"outline",asChild:!0,className:"h-14 px-10 rounded-2xl text-lg hover:bg-muted/50 transition-colors",children:_.jsx(gn,{to:"/",children:" "})})]})]})})]})}function Wge(){const{t}=Tn(),e=Bl(t("nav.about")),n=ma("  EraTracker             .");return _.jsxs(ui,{children:[_.jsxs(Xf,{children:[_.jsx("title",{children:e}),_.jsx("meta",{name:"description",content:n}),_.jsx("link",{rel:"canonical",href:uh("/about")}),_.jsx("meta",{property:"og:title",content:e}),_.jsx("meta",{property:"og:description",content:n}),_.jsx("meta",{property:"og:type",content:"website"})]}),_.jsxs("div",{className:"flex flex-col",children:[_.jsx(Fge,{}),_.jsxs(at.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:1},children:[_.jsx(Uge,{}),_.jsx(zge,{}),_.jsx(Vge,{}),_.jsx(jge,{}),_.jsx(Hge,{})]})]})]})}function Q6({title:t,subtitle:e,updatedAt:n}){return _.jsxs("section",{className:"relative pt-32 pb-16 overflow-hidden bg-background",children:[_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("div",{className:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-primary/5 rounded-full blur-[100px]"}),_.jsx("div",{className:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-accent/5 rounded-full blur-[100px]"})]}),_.jsx("div",{className:"container mx-auto px-4 relative z-10 text-center",children:_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-3xl mx-auto",children:[_.jsx("h1",{className:"font-display text-4xl md:text-6xl font-bold mb-6 tracking-tight leading-tight",children:_.jsx("span",{className:"text-gradient",children:t})}),e&&_.jsx("p",{className:"text-xl text-muted-foreground leading-relaxed",children:e}),n&&_.jsxs("div",{className:"mt-8 inline-flex items-center gap-2 px-3 py-1 rounded-full bg-muted text-xs text-muted-foreground font-medium",children:[" : ",n]})]})})]})}function Ed({title:t,children:e,icon:n}){return _.jsxs(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"mb-12 text-start",children:[t&&_.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n&&_.jsx("div",{className:"text-primary",children:n}),_.jsx("h2",{className:"font-display text-2xl md:text-3xl font-bold tracking-tight",children:t})]}),_.jsx("div",{className:"prose prose-lg dark:prose-invert max-w-none text-foreground/80 leading-relaxed font-serif",children:e})]})}function Gge(){Tn();const t=Bl(" "),e=ma("   EraTracker           ."),n=[{title:" ",value:"Support@eratracker.com",icon:WU,desc:"   ."},{title:" ",value:"Support@eratracker.com",icon:B$,desc:"        ."},{title:" ",value:"Support@eratracker.com",icon:D$,desc:"    ."}];return _.jsxs(ui,{children:[_.jsxs(Xf,{children:[_.jsx("title",{children:t}),_.jsx("meta",{name:"description",content:e}),_.jsx("link",{rel:"canonical",href:uh("/contact")}),_.jsx("meta",{property:"og:title",content:t}),_.jsx("meta",{property:"og:description",content:e})]}),_.jsx(Q6,{title:" ",subtitle:"     .             ."}),_.jsxs("div",{className:"container mx-auto px-4 pb-24 max-w-4xl",children:[_.jsxs(Ed,{title:" ",children:[_.jsx("p",{children:" EraTracker        .             ."}),_.jsx("p",{children:"   :"}),_.jsxs("ul",{className:"list-disc ps-6 space-y-2 mt-4 text-start",children:[_.jsxs("li",{children:[_.jsx("strong",{children:" :"}),"      ."]}),_.jsxs("li",{children:[_.jsx("strong",{children:" :"}),"        ."]}),_.jsxs("li",{children:[_.jsx("strong",{children:" :"}),"          ."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"  :"}),"          "]})]})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-16",children:n.map((r,i)=>_.jsxs(at.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:i*.1},className:"bg-card p-6 rounded-3xl border border-border/50 hover:border-primary/30 transition-all group text-start shadow-sm",children:[_.jsx("div",{className:"w-10 h-10 rounded-xl bg-primary/10 flex items-center justify-center text-primary mb-4 group-hover:scale-110 transition-transform",children:_.jsx(r.icon,{className:"w-5 h-5"})}),_.jsx("h3",{className:"font-bold text-lg mb-2",children:r.title}),_.jsx("p",{className:"text-xs text-muted-foreground mb-4 leading-relaxed",children:r.desc}),_.jsx("div",{className:"text-sm font-medium text-primary break-all",children:r.value})]},i))}),_.jsxs(at.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},className:"bg-muted/30 rounded-2xl p-6 flex flex-col md:flex-row items-center gap-4 border border-border/30 mb-20",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-background flex items-center justify-center text-primary/60 border border-border/50",children:_.jsx(GU,{className:"w-6 h-6"})}),_.jsxs("p",{className:"text-sm text-muted-foreground text-center md:text-start",children:[_.jsx("strong",{children:"  :"}),"    .                    ."]})]}),_.jsx("div",{className:"text-center",children:_.jsx(sn,{size:"lg",asChild:!0,className:"h-14 px-10 rounded-2xl text-lg gap-3 shadow-xl shadow-primary/20 group",children:_.jsxs(gn,{to:"/search",children:[" ",_.jsx(_a,{className:"w-5 h-5 rtl:rotate-180 group-hover:-translate-x-1 transition-transform"})]})})})]})]})}function $ge(){Tn();const t=Bl(" "),e=ma("    EraTracker .          .");return _.jsxs(ui,{children:[_.jsxs(Xf,{children:[_.jsx("title",{children:t}),_.jsx("meta",{name:"description",content:e}),_.jsx("link",{rel:"canonical",href:uh("/privacy")}),_.jsx("meta",{property:"og:title",content:t}),_.jsx("meta",{property:"og:description",content:e})]}),_.jsx(Q6,{title:" ",subtitle:" EraTracker           .          .",updatedAt:"5  2026"}),_.jsxs("div",{className:"container mx-auto px-4 pb-24 max-w-4xl",children:[_.jsxs(Ed,{title:"",icon:_.jsx(GU,{className:"w-8 h-8"}),children:[_.jsx("p",{children:"EraTracker         .          :         ."}),_.jsx("p",{children:"                ."})]}),_.jsxs(Ed,{title:"  ",icon:_.jsx(L$,{className:"w-8 h-8"}),children:[_.jsx("p",{children:'   EraTracker   " "  .'}),_.jsxs("ul",{className:"list-disc ps-6 space-y-3 mt-4 text-start",children:[_.jsxs("li",{children:[_.jsx("strong",{children:"  :"}),"           ."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"   :"}),"          ."]}),_.jsxs("li",{children:[_.jsx("strong",{children:"  :"}),"      (        )        ."]})]})]}),_.jsxs(Ed,{title:"  ",icon:_.jsx(zU,{className:"w-8 h-8"}),children:[_.jsx("p",{children:"     :"}),_.jsxs("ul",{className:"list-disc ps-6 space-y-3 mt-4 text-start",children:[_.jsx("li",{children:"      ."}),_.jsx("li",{children:"      ."}),_.jsxs("li",{children:[_.jsx("strong",{children:" :"}),"            ."]})]})]}),_.jsx(Ed,{title:"   (Cookies)",icon:_.jsx(I$,{className:"w-8 h-8"}),children:_.jsx("p",{children:"          (     ).           ."})}),_.jsxs(Ed,{title:"  ",icon:_.jsx(i_,{className:"w-8 h-8"}),children:[_.jsx("p",{children:"     (   ).  :"}),_.jsx("p",{className:"border-l-4 border-accent ps-6 my-6 italic text-start",children:'"           .        ."'})]}),_.jsxs("div",{className:"mt-20 p-10 bg-primary/5 rounded-[2.5rem] border border-primary/10 text-center",children:[_.jsx(HU,{className:"w-10 h-10 text-primary mx-auto mb-6 opacity-50"}),_.jsx("h3",{className:"font-bold text-xl mb-4",children:" "}),_.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto text-sm leading-relaxed",children:"                  .             ."})]})]})]})}function Xge(){var x,v;const{id:t}=UA(),{state:e}=Pa(),{t:n,locale:r}=Tn(),[i,s]=T.useState(null),[o,a]=T.useState(!0),[l,c]=T.useState(null),u=e==null?void 0:e.event;if(T.useEffect(()=>{(async()=>{if(t){a(!0);try{let w=t;if(u&&t.split("-").length>3&&!isNaN(Number(t.split("-")[2]))){const M=t.split("-")[1],C=u.title.replace(/ /g,"_");w=`wiki-${M}-${C}`}const S=await Tpe(w);S.success?s(S.data):(console.warn("Enrichment failed, falling back to basic data:",S.error),u||c(S.error||"Failed to load preview"))}catch(w){console.error("Fetch preview error:",w),u||c("An unexpected error occurred while loading the preview.")}finally{a(!1)}}})()},[t,u]),!u&&!o&&!i)return _.jsx(X4,{to:"/search",replace:!0});const f=(i==null?void 0:i.title)||(u?r==="ar"&&u.titleAr||u.title:""),p=(i==null?void 0:i.imageUrl)||(u==null?void 0:u.imageUrl),m=(i==null?void 0:i.previewContent)||(u?Ul(u.description):""),y=(i==null?void 0:i.sourceUrl)||((v=(x=u==null?void 0:u.sources)==null?void 0:x[0])==null?void 0:v.url);return _.jsx(ui,{children:_.jsx("div",{className:"min-h-screen bg-background",children:_.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[_.jsxs(gn,{to:"#",onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 text-muted-foreground hover:text-primary transition-colors mb-8",children:[_.jsx(Ym,{className:"w-4 h-4 rtl:rotate-180"}),_.jsx("span",{children:n("event.backToResults")})]}),_.jsx(pC,{mode:"wait",children:o?_.jsxs(at.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"flex flex-col items-center justify-center py-24 gap-4",children:[_.jsx(jU,{className:"w-12 h-12 text-primary animate-spin"}),_.jsx("p",{className:"text-muted-foreground font-medium animate-pulse",children:n("common.loading")})]},"loading"):l?_.jsxs(at.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-destructive/10 border border-destructive/20 rounded-3xl p-8 text-center",children:[_.jsx(VU,{className:"w-12 h-12 text-destructive mx-auto mb-4"}),_.jsx("h2",{className:"text-xl font-bold text-foreground mb-2",children:"Oops!"}),_.jsx("p",{className:"text-muted-foreground mb-6",children:l}),_.jsx(sn,{onClick:()=>window.location.reload(),children:n("common.retry")})]},"error"):_.jsxs(at.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-12 pb-20",children:[_.jsxs("div",{className:"aspect-[21/10] relative overflow-hidden rounded-3xl bg-muted shadow-2xl group",children:[_.jsx("img",{src:p,alt:f,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background via-background/20 to-transparent opacity-80"})]}),_.jsxs("div",{className:"max-w-3xl mx-auto",children:[_.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[(u==null?void 0:u.date)&&_.jsxs("span",{className:"text-primary font-bold text-xl tracking-tight uppercase",children:[u.date.year," ",u.date.era]}),_.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-border"}),(u==null?void 0:u.category)&&_.jsx("span",{className:"text-sm font-bold px-4 py-1.5 rounded-full bg-primary/10 text-primary uppercase tracking-widest",children:n(`category.${u.category}`)}),(u==null?void 0:u.country)&&_.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground ml-auto",children:[_.jsx(s_,{className:"w-4 h-4 text-primary"}),_.jsx("span",{children:u.country})]})]}),_.jsx("h1",{className:"font-display text-4xl md:text-5xl lg:text-7xl font-bold text-foreground mb-12 leading-[1.1] text-start tracking-tight drop-shadow-sm",children:f}),_.jsx("div",{className:"prose prose-xl dark:prose-invert max-w-none text-start text-foreground/90 leading-relaxed mb-16 font-serif",children:_.jsx("p",{className:"first-letter:text-6xl first-letter:font-bold first-letter:text-primary first-letter:float-start first-letter:me-4 first-letter:mt-2 first-letter:leading-none whitespace-pre-line",children:m})}),_.jsxs("div",{className:"flex flex-col items-center gap-8 py-12 border-y border-border/50",children:[_.jsxs("div",{className:"text-center sm:text-start w-full",children:[_.jsx("p",{className:"text-lg text-foreground font-semibold mb-2",children:n("event.readFullOnWikipedia")}),_.jsx("p",{className:"text-sm text-muted-foreground italic bg-muted/30 p-4 rounded-2xl border border-border/50",children:(i==null?void 0:i.attribution)||"    .     ."})]}),_.jsx(sn,{asChild:!0,size:"lg",className:"w-full sm:w-auto text-xl h-16 px-10 rounded-2xl gap-3 font-bold shadow-xl shadow-primary/25 hover:scale-[1.02] transition-all bg-primary hover:bg-primary/90",children:_.jsxs("a",{href:y,target:"_blank",rel:"noopener noreferrer",children:[_.jsx("span",{children:n("event.readFullOnWikipedia")}),_.jsx(BU,{className:"w-6 h-6"})]})}),_.jsxs("p",{className:"text-xs text-muted-foreground uppercase tracking-widest opacity-50",children:["Wikipedia.org  ",new Date().getFullYear()]})]})]})]},"content")})]})})})}const qge=()=>{const t=Pa();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),_.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),_.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),_.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},Yge=new FY,Kge=()=>_.jsx(BY,{client:Yge,children:_.jsx(jK,{children:_.jsxs(hY,{children:[_.jsx(K$,{}),_.jsx(CX,{}),_.jsx(OK,{children:_.jsxs(CK,{children:[_.jsx(Hi,{path:"/",element:_.jsx(Ope,{})}),_.jsx(Hi,{path:"/search",element:_.jsx(Ege,{})}),_.jsx(Hi,{path:"/results",element:_.jsx(Mge,{})}),_.jsx(Hi,{path:"/event/:id",element:_.jsx(Lge,{})}),_.jsx(Hi,{path:"/on-this-day",element:_.jsx(kge,{})}),_.jsx(Hi,{path:"/articles",element:_.jsx(Dge,{})}),_.jsx(Hi,{path:"/articles/:slug",element:_.jsx(Oge,{})}),_.jsx(Hi,{path:"/about",element:_.jsx(Wge,{})}),_.jsx(Hi,{path:"/contact",element:_.jsx(Gge,{})}),_.jsx(Hi,{path:"/privacy",element:_.jsx($ge,{})}),_.jsx(Hi,{path:"/preview/:id",element:_.jsx(Xge,{})}),_.jsx(Hi,{path:"*",element:_.jsx(qge,{})})]})})]})})});qF(document.getElementById("root")).render(_.jsx(tU,{children:_.jsx(P7,{children:_.jsx(Kge,{})})}));
